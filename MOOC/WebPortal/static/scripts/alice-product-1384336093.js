detail = { self: this, addToCartClicked: false, KEY_CODE_ESC: 27, init: function (d) { detail.initMultiOptions(); if ($(".prd-option-collection li").length == 1) { $(".prd-option-collection li").trigger("click"); if (jQuery.trim($(".prd-option-collection li").html()) == "..." || jQuery.trim($(".prd-option-collection li").html()) == "not defined") { $("#productOptionsWrapper").hide() } } if (d) { for (var c in d) { var b = d[c]; var a = $("#listProductSizes li.prd-" + c); if (a.length) { a.each(function () { if ($.trim($(this).html()) == $.trim(b)) { $(this).trigger("click"); return false } }) } $selectbox = $('#productOptionsWrapper select.opt-select[data-attribute="' + c + '"]'); if ($selectbox.length) { $selectbox.find("option").each(function () { if ($(this).text().trim() == b.trim()) { $(this).attr("selected", true); a.selectOption(c, $(this).val()) } }) } } } }, initMultiOptions: function () { $("#productOptionsWrapper").on("click", '[data-js-function="selectOption"]', function (a) { attribute = $(this).data("attribute"); valueClass = $(this).data("value-class"); if (attribute && valueClass) { options.selectOption(attribute, valueClass) } }) }, clickTab: function (a) { a.parent().find("li").removeClass("selected"); a.addClass("selected"); a.parent().parent().find(".detailTab").hide(); a.parent().parent().find(a.find("a").attr("href")).show() }, hoveraddtocart: function () { if (!$("#selectedSku").val()) { $("#sizeSelectInfo").fadeIn(200) } }, positionLoadingWin: function (a) { window_width = $(window).width(); window_height = $(window).height(); obj_width = $("#" + a).width(); obj_height = $("#" + a).height(); $("#" + a).css("top", (window_height / 2) - (obj_height / 2)).css("left", (window_width / 2) - (obj_width / 2)).css("position", "absolute") }, addtoviewcart: function (c, a, d) { $("#loadingWindow, #loadingContent").hide(); var b = $("#pageNameVariable").html(); if (b == "cartPageDisplay") { detail.addtocartredirection(c, a, d, b) } else { detail.addtocartredirection(c, a, d, b) } }, addtocartredirection: function (c, a, d, b) { jQuery(location).attr("href", "/cart/add/?p=" + c + "&pagevariable=" + b + "&sku=" + a + d) }, addtocart: function () { if (!self.addToCartClicked) { configsku = $("#configSku").val(); selectedsku = $("#selectedSku").val(); var a = "&quantity=1"; if (jQuery("#selectedQuantity").length != 0) { a = "&quantity=" + $("#selectedQuantity").val() } if (jQuery("#selectedSku").val()) { self.addToCartClicked = true; detail.addtoviewcart(configsku, selectedsku, a) } else { jQuery("#sizeSelectInfo").fadeIn(200); jQuery("#listProductSizes > li").stop(false, true).effect("highlight", { color: "#FFFF66" }, 2000) } } }, changeColor: function (b) { var a = "Selected Color: <b>" + b + "</b>"; $("#colorDisplay").html(a); $("#colorSwitch").hide() }, leavecart: function () { $("#sizeSelectInfo").fadeOut(200) }, showToolTip: function (a) { $("#" + a).fadeIn(200) }, leaveToolTip: function (a) { $("#" + a).fadeOut(200) }, selectSku: function (h, c) { if (h == "") { $("#sizeSelectInfo").fadeIn(200) } var i; if (typeof c != "undefined") { i = c.attr("data-msg") } $("#product-selector-error").hide(); if (i === undefined || i <= 0) { if (false) { var b; var m; var j; var a; b = $("#catlistondtpage").attr("href"); m = $("#catlistondtpage").html(); parmName = $("#listProductSizes-new li").attr("data-attribute"); var d = $("ul#listProductSizes-new li").index($(".selected", $("ul#listProductSizes-new"))) } $("#selectedSku").val(""); $("#product-option-stock-hint").hide() } else { var e = $("#items-left-singular").html(); var l = $("#items-left-plural").html(); $("#selectedSku").val(h); $("#BtnCart").fadeTo(100, 1); if (i > 3) { $("#product-option-stock-number").html(""); $("#product-option-stock-hint").hide() } else { $("#product-option-stock-number").html(e.split("--number--").join(i)); $("#product-option-stock-hint").fadeIn(800) } } var g; if ($("#optionsPrice").length) { g = $.parseJSON($("#optionsPrice").html()) } if (!g || g === undefined || g[h] === undefined || g[h] === false) { if ($("#product_special_price").length) { var k = new Object; k.simple_price = Math.round(parseInt($("#product_price").html())); k.simple_special_price = Math.round(parseInt($("#product_special_price").html())) } this.hideProductSpecialPrice(k.simple_price) } else { var f = $("#product_currency").html() + " " + Math.round(g[h]["simple_price"]); $("#price_div").show(); $("#before_price").html(f); if (g[h]["simple_special_price"]) { this.showProductSpecialPrice(g[h]) } else { this.hideProductSpecialPrice(Math.round(g[h]["simple_price"])) } } }, hideProductSpecialPrice: function (b) { var a = '<div class="fl text36 bold colr-222" id="before_price" >' + $("#product_currency").html() + ' <span itemprop="price">' + b + "</span></div>"; $("#price_container").find("#price_div").html(a) }, showProductSpecialPrice: function (c) { var a = Math.round(((c.simple_price - c.simple_special_price) / c.simple_price) * 100); var b = '<span class="prd-discount-tag">Save ' + a + '%</span><span class="text14 colr-222 striked-price"><strike>' + $("#product_sp_currency").html() + " " + Math.round(c.simple_price) + '</strike></span><div class="clear"></div><div class="fl text36 bold colr-222" id="before_price">' + $("#product_sp_currency").html() + " " + Math.round(c.simple_special_price) + "</div>"; $("#price_container").find("#price_div").html(b) }, scrollToLocation: function (a) { $("html,body").animate({ scrollTop: $("#" + a).offset().top }, "slow") }, trkEvt: function (b, a) { _gaq.push(["_trackEvent", "ProductPage", b, a, undefined, true]) }, fullDesc: function () { var a = ""; $("#Desc").html($("#fullDesc").html() + a) }, lessDesc: function () { $("#Desc").html($("#lessDesc").html()) }, loadCaptcha: function () { image = new Image(); image.src = "/catalog/captcha/?cache=" + new Date().getTime(); image.onload = function () { $("#captchaImage").empty().append(image) }; image.onerror = function () { $("#captchaImage").empty().html("That image is not available.") } } }; $(document).ready(function () { var b = $("#detailInit"); if (b.length) { params = $.parseJSON(b.html()); detail.init(params) } $("#captchaRefresh").click(function (f) { $("#captchaImage").empty().html("Loading..."); setTimeout("detail.loadCaptcha()", 2000); f.preventDefault() }); $("#wishlist-link").click(function (g) { var f = $(this).attr("href"); $(this).attr("href", f + "/sku/" + $("#selectedSku").val()) }); $("#AddToCart").hover(function () { detail.hoveraddtocart() }, function () { detail.leavecart() }); $("#AddToCart").click(function (f) { detail.addtocart(); f.preventDefault() }); if ($("#ProductRating").length && $("#ProductRating").hasClass("active")) { location.hash = "rating" } $(".tool-tip-header").hover(function () { var f = $(this).attr("label"); var g = $(this).position(); $("#" + f).css({ top: (g.top + 10), left: (g.left + 10) }); $("#" + f + " span").css("background-color", "#fff"); detail.showToolTip(f); $("#searchInput").blur() }, function () { detail.leaveToolTip($(this).attr("label")); $(".top-header-text-tooltip").hide() }); var d = $("div.pd_prd_instock_text").text(); var a = false; var e = false; $("#lessDesc").show().ellipsis({ moreText: ' <a class="more" href="javascript:void(0);" onclick="detail.fullDesc();">more &rsaquo;</a>' }).hide(); detail.lessDesc(); $(".acc-head").click(function () { $(".acc-head").parent().find(".acc-content").slideUp(); if ($(this).parent().hasClass("opened")) { $(this).parent().find(".acc-content").slideUp(); $(this).parent().removeClass("opened") } else { $(this).parent().find(".acc-content").slideDown(); $(".acc-head").parent().removeClass("opened"); $(this).parent().addClass("opened"); _gaq.push(["_trackEvent", "product", "ProductDetails", $(this).text()]) } }); $(".light-box-link").click(function () { $(".light-box-mask").show(); $(".light-box").show() }); $(".light-box-mask, .lw-head .close").click(function () { $(".light-box-mask").hide(); $(".light-box").hide(); resetForm() }); $(document).keydown(function (f) { if (f.which == 27) { $(".light-box-mask").hide(); $(".light-box").hide(); resetForm() } }); $(".addon").mouseenter(function () { $(".addon-tt-wrapper").fadeIn(300) }); $(".addon").mouseleave(function () { $(".addon-tt-wrapper").fadeOut(300) }); $(".shipp-tt").mouseenter(function () { $(".addon-shipp-tt").fadeIn(300) }); $(".shipp-tt").mouseleave(function () { $(".addon-shipp-tt").fadeOut(300) }); var c = $(".select-content").find("li.selected").html(); $(".select-input").html(c); if (c != "Sold out") { $(".select-input-btn, .select-input").click(function () { $(this).parent().find(".select-content").show(); if ($("#sizeList").hasClass("blankSize")) { $("#sizeList").removeClass("blankSize") } $(".sizeConversionValue").show() }); $(".select-input-btn").parent().mouseleave(function () { $(this).find(".select-content").hide() }); $(".select-content li").click(function () { $(".select-content li").removeClass("selected"); $(this).addClass("selected"); $(".select-content").hide(); c = $(".select-content").find("li.selected").html(); $(".select-input").html(c); $(".sizeConversionValue").hide() }) } else { $("#qlPrdAdd").attr("onclick", "return false;") } $("#know-more-patern").mouseenter(function () { $("#deliver-patern-articles").show() }); $("#know-more-patern").mouseout(function () { $("#deliver-patern-articles").hide() }); $("#tat-calculator-new-pdp").submit(function (h) { h.preventDefault(); $("#postcode").removeClass("blank"); $("#postcode").removeClass("success"); var g = $.trim($("#postcode").val()); var f = a; if ($.active == 0 || a) { var i = { postcode: g, sku: $("#cartform #configSku").val() }; if (i.postcode === "Enter your pincode" || i.postcode === "") { return false } _gaq.push(["_trackEvent", "Pincode Serviceability", "Pincode Entered", g, "", true]); $.getJSON("/catalog/tat", i, function (j) { if (j.success) { var m = j.success ? "success" : "blank"; $("#postcode").addClass(m); var k; var l; l = $("<table id='tatresult'></table"); $.each(j.messages, function (n, o) { if (o == "CASH ON DELIVERY NOT AVAILABLE") { k = $("<tr class='colr-aaa'><td><div class='cash-cross-icon fl mr-20'></div></td><td><span class='all-caps'>" + o + "</span></td></tr>") } else { k = $("<tr class='colr-aaa'><td><div class='" + j.css[n] + " mr-20'></div></td><td><span class='all-caps'>" + o + "</span></td></tr>") } l.append(k) }); $("#tatresult-div").html(l); $(".deliver-detail-tbl").find("#tat-calculator-new-pdp-form-row").hide(); $(".deliver-detail-tbl").find("#tat-calculator-new-pdp-header-row").hide(); $(".deliver-detail-tbl").find("#selected-pincode-row").show(); $(".deliver-detail-tbl").find("#selected-pincode-value").html(g); $(".deliver-detail-tbl").find("#tat-calculator-new-pdp-dispatch-row").hide(); $(".deliver-detail-tbl").find("#tat-calculator-new-pdp-header-row").addClass("border"); if (j.gaq_action) { if (!f) { _gaq.push(["_trackEvent", "Pincode Serviceability", j.gaq_action, g]) } } } else { var m = j.success ? "success" : "blank"; $("#postcode").addClass(m); var k; var l; l = $("<table id='tatresult'></table"); $.each(j.messages, function (n, p) { var o = ""; if (j.product_type) { if (j.product_type == "fragile") { o = '<span class="tat-tooltip-icon sorry"></span><div class="tat-tooltip-wrapper sorry"><p class="size-tooltip"><span class="tat-tooltip-arrow"></span><strong>Why can\'t we ship this to you?</strong><br />We currently are not able to ship fragile items such as this to your chosen location. Apologies for the inconvenience.</p></div>' } else { if (j.product_type == "surface") { o = '<span class="tat-tooltip-icon sorry"></span><div class="tat-tooltip-wrapper sorry"><p class="size-tooltip"><span class="tat-tooltip-arrow"></span><strong>Why can\'t we ship this to you?</strong><br />We ship bulky items such as this through surface courier only. This service is currently not available at your chosen location. Apologies for the inconvenience.</p></div>' } else { if (j.product_type == "precious") { o = '<span class="tat-tooltip-icon sorry"></span><div class="tat-tooltip-wrapper sorry"><p class="size-tooltip"><span class="tat-tooltip-arrow"></span><strong>Why can\'t we ship this to you?</strong><br />We currently don\'t ship this item to your chosen location. Apologies for the inconvenience.</p></div>' } } } } k = $("<tr><td colspan='2'><span>" + p + "</span>" + o + "</td></tr>"); l.append(k) }); $(".deliver-detail-tbl").find("#tat-calculator-new-pdp-dispatch-row").hide(); $(".deliver-detail-tbl").find("#tat-calculator-new-pdp-header-row").removeClass("border"); $("#tatresult-div").html(l) } }) } a = false }); if ($("#postcode").val() && $.isNumeric($("#postcode").val())) { a = true; _gaq.push(["_trackEvent", "Pincode Serviceability", "Pincode Entered", $("#postcode").val(), "", true]) } else { _gaq.push(["_trackEvent", "Pincode Serviceability", "Pincode not populated", "", "", true]) } $(".deliver-detail-tbl").find("#show-pincode-form").click(function () { $(".deliver-detail-tbl").find("#tat-calculator-new-pdp-form-row").show(); $(".deliver-detail-tbl").find("#tat-calculator-new-pdp-header-row").show(); $(".deliver-detail-tbl").find("#selected-pincode-row").hide(); $(".deliver-detail-tbl").find("#tatresult-div").html("") }); $("#assoted-old-more").mouseenter(function () { $("#assoted-old-articles").show() }); $("#assoted-old-more").mouseout(function () { $("#assoted-old-articles").hide() }) }); $(document).ready(function () { $(".moreExploreList a").click(function () { _gaq.push(["_trackEvent", "product", "More Links", $(this).text()]) }) }); $(window).load(function () { var a = $("#lastviewdprd ul.recom-slider li:first"); firstslide = $("#lastviewdprd ul.recom-slider li:first").index(); firstnum = 1; lastslide = $("#lastviewdprd ul.recom-slider li:last").index(); totalnum = lastslide + 1; itemw = a.outerWidth(true); slideno = 6; lastnum = firstslide + 6; slidepos = itemw * slideno; pagetext = firstnum + "-" + lastnum + " of " + totalnum; $("#lastviewdprd div.slider-pagination").html(pagetext); $("#lastviewdprd ul.recom-slider").find("li:first-child").addClass("current"); $("#lastviewdprd .recom-right-arrow").click(function () { if ((lastnum) < totalnum) { firstnum += slideno; lastnum += slideno; $("#lastviewdprd ul.recom-slider").animate({ left: "-=" + slidepos }, 2000); $("#lastviewdprd .recom-left-arrow").addClass("active"); $("img.viewed-images").each(function () { var c = $(this).attr("data-src-onclick"); if (c !== "") { $(this).attr("src", c); $(this).removeAttr("data-src-onclick") } }); if (lastnum < totalnum) { $("#lastviewdprd div.slider-pagination").html(firstnum + "-" + lastnum + " of " + totalnum) } else { $("#lastviewdprd div.slider-pagination").html(firstnum + "-" + totalnum + " of " + totalnum); $(this).removeClass("active") } } }); $("#lastviewdprd .recom-left-arrow").click(function () { if (firstnum > 1) { firstnum -= slideno; lastnum -= slideno; $("#lastviewdprd ul.recom-slider").animate({ left: "+=" + slidepos }, 2000); $("#lastviewdprd .recom-right-arrow").addClass("active"); if (firstnum > 1) { $("#lastviewdprd div.slider-pagination").html(firstnum + "-" + lastnum + " of " + totalnum) } else { $("#lastviewdprd div.slider-pagination").html(firstnum + "-" + lastnum + " of " + totalnum); $(this).removeClass("active") } } }); var b = $("#similarLikes ul.recom-slider li:first"); firstslideSimilar = $("#similarLikes ul.recom-slider li:first").index(); firstnumSimilar = 1; lastslideSimilar = $("#similarLikes ul.recom-slider li:last").index(); totalnumSimilar = lastslideSimilar + 1; itemwSimilar = b.outerWidth(true); slidenoSimilar = 6; lastnumSimilar = firstslideSimilar + 6; slideposSimilar = itemwSimilar * slidenoSimilar; pagetextSimilar = firstnumSimilar + "-" + lastnumSimilar + " of " + totalnumSimilar; $("#similarLikes div.slider-pagination").html(pagetextSimilar); $("#similarLikes ul.recom-slider").find("li:first-child").addClass("current"); $("#similarLikes .recom-right-arrow").click(function () { if ((lastnumSimilar) < totalnumSimilar) { firstnumSimilar += slidenoSimilar; lastnumSimilar += slidenoSimilar; $("#similarLikes ul.recom-slider").animate({ left: "-=" + slideposSimilar }, 2000); $("#similarLikes .recom-left-arrow").addClass("active"); $("img.viewed-images").each(function () { var c = $(this).attr("data-src-onclick"); if (c !== "") { $(this).attr("src", c); $(this).removeAttr("data-src-onclick") } }); if (lastnumSimilar < totalnumSimilar) { $("#similarLikes div.slider-pagination").html(firstnumSimilar + "-" + lastnumSimilar + " of " + totalnumSimilar) } else { $("#similarLikes div.slider-pagination").html(firstnumSimilar + "-" + totalnumSimilar + " of " + totalnumSimilar); $(this).removeClass("active") } } }); $("#similarLikes .recom-left-arrow").click(function () { if (firstnumSimilar > 1) { firstnumSimilar -= slidenoSimilar; lastnumSimilar -= slidenoSimilar; $("#similarLikes ul.recom-slider").animate({ left: "+=" + slideposSimilar }, 2000); $("#similarLikes .recom-right-arrow").addClass("active"); if (firstnumSimilar > 1) { $("#similarLikes div.slider-pagination").html(firstnumSimilar + "-" + lastnumSimilar + " of " + totalnumSimilar) } else { $("#similarLikes div.slider-pagination").html(firstnumSimilar + "-" + lastnumSimilar + " of " + totalnumSimilar); $(this).removeClass("active") } } }) }); $(document).ready(function () { if (!$("#postcode").val()) { $("#postcode").val("Enter your pincode") } $("#postcode").addClass("text-777"); $("#postcode").bind("click focus", function () { if ($("#postcode").val() == "Enter your pincode") { $("#postcode").val("") } else { if ($("#postcode").val() == null) { $("#postcode").val("Enter your pincode") } } }); $("#postcode").bind("blur", function () { if ($("#postcode").val() == "") { $("#postcode").attr("style", "color:#777;"); $("#postcode").val("Enter your pincode") } }) }); var productRating = 0; var requestInprocess = 0; var textReview = new Array("Bad", "Not so great", "It's ok", "Good", "Excellent"); $(document).ready(function () { $("#reviewStars").mouseout(function () { for (var a = 1; a <= 5; a++) { if (a <= productRating) { $("#review-star-" + a).addClass("orange") } else { $("#review-star-" + a).removeClass("orange") } } if (productRating > 0) { $("#ratingInfo").html(textReview[productRating - 1]) } else { $("#ratingInfo").html("") } }); $("#ProductFeedbackForm_feedbackText").blur(function () { if ($("#ProductFeedbackForm_feedbackText").val() == "") { $("#ProductFeedbackForm_feedbackText").val("Please share your feedback to help us improve this page"); $("#ProductFeedbackForm_feedbackText").css({ color: "#999" }) } }); $("#ProductFeedbackForm_feedbackText").focus(function () { if ($("#ProductFeedbackForm_feedbackText").val() == "Please share your feedback to help us improve this page") { $("#ProductFeedbackForm_feedbackText").val("").select(); $("#ProductFeedbackForm_feedbackText").css({ color: "rgb(0, 0, 0)" }) } }); $("#ProductFeedbackForm_feedbackEmail").blur(function () { if ($("#ProductFeedbackForm_feedbackEmail").val() == "") { $("#ProductFeedbackForm_feedbackEmail").val("Please enter your email(optional)"); $("#ProductFeedbackForm_feedbackEmail").css({ color: "#999" }) } }); $("#ProductFeedbackForm_feedbackEmail").focus(function () { if ($("#ProductFeedbackForm_feedbackEmail").val() == "Please enter your email(optional)") { $("#ProductFeedbackForm_feedbackEmail").val("").select() } $("#ProductFeedbackForm_feedbackEmail").css({ color: "rgb(0, 0, 0)" }) }); $("#ProductFeedbackForm_feedbackPhone").blur(function () { if ($("#ProductFeedbackForm_feedbackPhone").val() == "") { $("#ProductFeedbackForm_feedbackPhone").val("Please enter your phone number(optional)"); $("#ProductFeedbackForm_feedbackPhone").css({ color: "#999" }) } }); $("#ProductFeedbackForm_feedbackPhone").focus(function () { if ($("#ProductFeedbackForm_feedbackPhone").val() == "Please enter your phone number(optional)") { $("#ProductFeedbackForm_feedbackPhone").val("").select(); $("#ProductFeedbackForm_feedbackPhone").css({ color: "rgb(0, 0, 0)" }) } $("#ProductFeedbackForm_feedbackPhone").css({ color: "rgb(0, 0, 0)" }) }) }); function resetForm() { $("#RatingForm_title").val("Title or Summary*"); $("#RatingForm_title").removeClass("active-color"); $("#RatingForm_captcha").val("Type the above text"); $("#RatingForm_captcha").removeClass("active-color"); $("#RatingForm_comment").val("Write your review here*"); $("#RatingForm_comment").removeClass("active-color"); $("#RatingForm_name").val("Enter your name*"); $("#RatingForm_name").removeClass("active-color"); $("#ratingInfo").html(""); removeStar(1); productRating = 0; removeMessage() } function selectStar(b) { $(".review-star").removeClass("orange"); for (var a = 1; a <= b; a++) { $("#review-star-" + a).addClass("orange") } $("#ratingInfo").html(textReview[b - 1]) } function removeStar(b) { for (var a = 5; a >= b; a--) { $("#review-star-" + a).removeClass("orange") } } function selectRating(b) { for (var a = 1; a <= b; a++) { $("#review-star-" + a).addClass("orange") } productRating = b; $("#ProductRatingFormOption_rating_" + b).attr("checked", "checked"); $("#ratingInfo").html(textReview[productRating - 1]) } function validateReviewForm() { var b = []; removeMessage(); if ($("#RatingForm_title").val() == "" || $("#RatingForm_title").val() == "Title or Summary*") { b.push("title") } if ($("#RatingForm_comment").val() == "" || $("#RatingForm_comment").val() == "Write your review here*") { b.push("comment") } if ($("#RatingForm_captcha").val() == "" || $("#RatingForm_captcha").val() == "Type the above text") { b.push("captcha") } if ($("#RatingForm_name").val() == "" || $("#RatingForm_name").val() == "Enter your name*") { b.push("name") } if (productRating == 0) { b.push("rating") } if (b.length) { for (var a in b) { if (b[a] == "rating") { $("#ratingInfo").html('<span class="errorMsg2">Please select rating</span>') } else { $("#RatingForm_" + b[a]).addClass("blank") } } $("#reviewError").html('<span class="error-icon"></span><i class="errorMsg2">' + reviewFieldMsg + "</i>"); return false } return true } function removeMessage() { $("#reviewError").html(""); $("#captchaError").html(""); $("#reviewError").html(""); $(".reviewField").removeClass("blank") } function submitReview(b) { if (validateReviewForm() && requestInprocess == 0) { var a = $("#ProductRatingForm").serialize(); $.ajax({ type: "POST", url: "/catalog/sendrating/sku/" + b + "/", data: a, beforeSend: function () { requestInprocess = 1 }, success: function (c) { requestInprocess = 0; if (c == "~success~") { reviewSuccess() } else { reviewError(c) } } }) } } function reviewError(d) { try { $(".reviewField").removeClass("blank"); var b = $.parseJSON(d); for (var a in b) { $("#RatingForm_" + a).addClass("blank"); if (a == "captcha") { $("#captchaError").html(b[a]) } if (b[a] == "Required Fields") { $("#reviewError").html('<span class="error-icon"></span><i class="errorMsg2">' + reviewFieldMsg + "</i>") } } } catch (c) { reviewFailure() } } function reviewSuccess() { closeReviewBox(); $("#ProductRatingSuccessMessage").html(reviewSuccessMsg); $("#ProductRatingSuccessMessage").addClass("success-msg-box"); resetForm() } function reviewFailure() { closeReviewBox(); $("#ProductRatingSuccessMessage").html(reviewErrorMsg); $("#ProductRatingSuccessMessage").addClass("error-msg-box"); resetForm() } function closeReviewBox() { if ($(".light-box-mask").length) { $(".light-box-mask").hide(); $(".light-box").hide() } } function calculateReviewLength() { var a = parseInt($("#RatingForm_comment").attr("maxlength")); if ($("#RatingForm_comment").val().length > a) { $("#RatingForm_comment").val($("#RatingForm_comment").val().substring(0, a)) } $("#reviewLength").html($("#RatingForm_comment").val().length) } function showHideDiv(a, b) { $("#" + a).slideUp() } $(document).ready(function () { $("#NewpdpRatingForm_name").val("Please enter your name*"); $("#NewpdpRatingForm_name").focus(function () { if ($("#NewpdpRatingForm_name").val() == "Please enter your name*") { $("#NewpdpRatingForm_name").val("").select(); $("#NewpdpRatingForm_name").css({ color: "#000000" }) } }); $("#NewpdpRatingForm_name").blur(function () { if ($("#NewpdpRatingForm_name").val() == "") { $("#NewpdpRatingForm_name").val("Please enter your name*"); $("#NewpdpRatingForm_name").css({ color: "#999" }) } }); $("#NewpdpRatingForm_title").val("Please enter review title*"); $("#NewpdpRatingForm_title").focus(function () { if ($("#NewpdpRatingForm_title").val() == "Please enter review title*") { $("#NewpdpRatingForm_title").val("").select(); $("#NewpdpRatingForm_title").css({ color: "#000000" }) } }); $("#NewpdpRatingForm_title").blur(function () { if ($("#NewpdpRatingForm_title").val() == "") { $("#NewpdpRatingForm_title").val("Please enter review title*"); $("#NewpdpRatingForm_title").css({ color: "#999" }) } }); $("#NewpdpRatingForm_comment").val("Write your review here*"); $("#NewpdpRatingForm_comment").focus(function () { if ($("#NewpdpRatingForm_comment").val() == "Write your review here*") { $("#NewpdpRatingForm_comment").val("").select(); $("#NewpdpRatingForm_comment").css({ color: "#000000" }) } }); $("#NewpdpRatingForm_comment").blur(function () { if ($("#NewpdpRatingForm_comment").val() == "") { $("#NewpdpRatingForm_comment").val("Write your review here*"); $("#NewpdpRatingForm_comment").css({ color: "#999" }) } }); $("#slidereview").click(function () { $("#reviewToggleBox").slideToggle(function () { if ($("#reviewToggleBox").is(":hidden")) { $("#writereview").show(); $("#slidereview").removeClass("prdrev-up-arrow"); $("#slidereview").addClass("prdrev-down-arrow") } else { $("#writereview").hide(); $("#slidereview").removeClass("prdrev-down-arrow"); $("#slidereview").addClass("prdrev-up-arrow") } }) }); $("#readallreview").click(function () { $("#reviewToggleBox").slideToggle(function () { if ($("#reviewToggleBox").is(":hidden")) { $("#writereview").show(); $("#slidereview").addClass("prdrev-down-arrow"); $("#slidereview").removeClass("prdrev-up-arrow") } else { $("#writereview").hide(); $("#slidereview").removeClass("prdrev-down-arrow"); $("#slidereview").addClass("prdrev-up-arrow") } }) }); $("#writereview").click(function () { $("#reviewToggleBox").slideToggle(); if ($("#reviewToggleBox").is(":hidden")) { $("#writereview").show(); $("#slidereview").addClass("prdrev-down-arrow"); $("#slidereview").removeClass("prdrev-up-arrow") } else { $("#writereview").hide(); $("#slidereview").removeClass("prdrev-down-arrow"); $("#slidereview").addClass("prdrev-up-arrow") } detail.scrollToLocation("productReviews") }); $("#writeWenNoReview").click(function () { $("#reviewToggleBox").slideDown(); $("#slidereview").removeClass("prdrev-down-arrow"); $("#slidereview").addClass("prdrev-up-arrow"); detail.scrollToLocation("productReviews") }); $("#icon_shipping_charge").live("mouseenter", function () { $("#shippingChargeText").show() }); $("#icon_shipping_charge").live("mouseleave", function () { $("#shippingChargeText").hide() }) }); function validateNewPdpReviewForm() { var b = []; removeNewPdpMessage(); if ($("#NewpdpRatingForm_title").val() == "" || $("#NewpdpRatingForm_title").val() == "Please enter review title*") { b.push("title") } if ($("#NewpdpRatingForm_comment").val() == "" || $("#NewpdpRatingForm_comment").val() == "Write your review here*") { b.push("comment") } if ($("#NewpdpRatingForm_name").val() == "" || $("#NewpdpRatingForm_name").val() == "Please enter your name*") { b.push("name") } if (productRating == 0) { b.push("rating") } if (b.length) { for (var a in b) { if (b[a] == "rating") { $("#ratingInfo").html("Please select rating") } else { $("#NewpdpRatingForm_" + b[a]).addClass("blank") } } $("#reviewError").html('<span class="error-icon"></span><i>' + reviewFieldMsg + "</i>"); return false } return true } function removeNewPdpMessage() { $("#reviewError").html(""); $("#reviewError").html(""); $(".reviewField").removeClass("blank") } function submitNewPdpReview(b) { if (validateNewPdpReviewForm() && requestInprocess == 0) { var a = $("#ProductRatingForm").serialize(); $.ajax({ type: "POST", url: "/catalog/sendrating/sku/" + b + "/", data: a, beforeSend: function () { requestInprocess = 1 }, success: function (c) { requestInprocess = 0; if (c == "~success~") { newpdpReviewSuccess() } else { reviewError(c) } } }) } } function newpdpReviewSuccess() { $("#ProductRatingSuccessMessage").html(reviewSuccessMsg); $("#ProductRatingSuccessMessage").addClass("success-msg-box"); newpdpResetForm() } function newpdpResetForm() { $("#NewpdpRatingForm_name").val("Please enter your name*"); $("#NewpdpRatingForm_name").css({ color: "#999" }); $("#NewpdpRatingForm_title").val("Please enter review title*"); $("#NewpdpRatingForm_title").css({ color: "#999" }); $("#NewpdpRatingForm_comment").val("Write your review here*"); $("#NewpdpRatingForm_comment").css({ color: "#999" }); $("#ratingInfo").html(""); removeStar(1); productRating = 0; removeMessage() } function submitProductFeedback() { if (validateProductFeedbackForm()) { var a = $("#ProductFeedbackForm").serialize(); var b = $("#skuForFeedback").val(); $.ajax({ type: "POST", url: "/catalog/feedback/sku/" + b + "/", data: a, success: function (c) { if ($.trim(c) == "success") { $("#share-feedback").hide(); $("#share-feedback-success").show(); $("#feedbackSuccess").html("Your feedback has been sent successfully"); $("#ProductFeedbackForm").find("#ProductFeedbackForm_feedbackText").val("Please share your feedback to help us improve this page").css("color", "#999"); $("#ProductFeedbackForm").find("#ProductFeedbackForm_feedbackType").val(""); $("#ProductFeedbackForm").find("#ProductFeedbackForm_feedbackEmail").val("Please enter your email(optional)").css("color", "#999"); $("#ProductFeedbackForm").find("#ProductFeedbackForm_feedbackPhone").val("Please enter your phone number(optional)").css("color", "#999"); $("#share-feedback-success").fadeOut(3600) } else { } } }) } } function removeFeedbackErrMessage() { $("#feedbackError").html(""); $("#ProductFeedbackForm").find("#ProductFeedbackForm_feedbackText").removeClass("blank"); $("#ProductFeedbackForm").find("#ProductFeedbackForm_feedbackType").removeClass("blank"); $("#ProductFeedbackForm").find("#ProductFeedbackForm_feedbackEmail").removeClass("blank"); $("#ProductFeedbackForm").find("#ProductFeedbackForm_feedbackPhone").removeClass("blank"); $("#pdp-error-mssg_phone").css("visibility", "hidden"); $("#pdp-error-mssg_email").css("visibility", "hidden") } function validateProductFeedbackForm() { var d = []; removeFeedbackErrMessage(); var c = $("#ProductFeedbackForm").find("#ProductFeedbackForm_feedbackEmail").val(); var b = $("#ProductFeedbackForm").find("#ProductFeedbackForm_feedbackPhone").val(); var e = $("#ProductFeedbackForm").find("#ProductFeedbackForm_feedbackText").val(); if ($("#ProductFeedbackForm").find("#ProductFeedbackForm_feedbackType").val() == "") { d.push("feedbackType") } if ($.trim(e) == "" || e.length > 256 || e == "Please share your feedback to help us improve this page") { d.push("feedbackText") } if ((c != "" && c != "Please enter your email(optional)")) { if (!c.valid("email")) { d.push("feedbackEmail"); $("#pdp-error-mssg_email").css("visibility", "visible") } } if ((b != "" && b != "Please enter your phone number(optional)")) { if (!isIndianMobileNumber(b)) { d.push("feedbackPhone"); $("#pdp-error-mssg_phone").css("visibility", "visible") } } if (d.length) { for (var a in d) { $("#ProductFeedbackForm_" + d[a]).addClass("blank") } $("#PrdFeedbackFormError").html('<span class="error-icon"></span><i class="errorMsg2">' + reviewFieldMsg + "</i>"); return false } return true } function clearInput(a) { $("#" + a).attr("style", ""); $("#" + a).focus() } function slideFeedback(b, a) { $("#share-feedback").slideToggle(); if (b != "") { $("#ProductFeedbackForm_feedbackEmail").val(b) } if (a != "") { $("#ProductFeedbackForm_feedbackPhone").val(a) } } function expandReviewBox() { $("#reviewToggleBox").slideDown(function () { $("#writereview").hide(); $("#slidereview").removeClass("prdrev-down-arrow"); $("#slidereview").addClass("prdrev-up-arrow") }) } var _gaq = _gaq || []; function loadSocial() { $("#hfb").append('<div id="fb-root"></div>'); $("#hfb").append('<fb:like send="false" layout="button_count" width="60" show_faces="false"></fb:like>'); jQuery.getScript("http://connect.facebook.net/en_US/all.js#xfbml=1", function () { FB.init({ appId: "", status: true, cookie: true, xfbml: true }); FB.Event.subscribe("edge.create", function (d) { _gaq.push(["_trackSocial", "facebook", "like", d]) }) }); $("#hgp").append('<g:plusone size="medium"></g:plusone>'); jQuery.getScript("//apis.google.com/js/plusone.js", function () { }); $("#htw").append('<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal"></a>'); jQuery.getScript("//platform.twitter.com/widgets.js", function () { twttr.ready(function (d) { d.events.bind("tweet", trackTwitter) }) }); var c = encodeURIComponent(location.protocol + "//" + location.host + location.pathname); var b = encodeURIComponent(document.title); var a = encodeURIComponent($("#prdImage").attr("src")); $("#hpi").append("<a onclick=\"_gaq.push(['_trackSocial', 'pinterest', 'pinned']); window.open(this.href, 'signin', 'height=300,width=665'); return false;\" href=\"http://pinterest.com/pin/create/button/?url=" + c + "&media=" + a + "&description=" + b + '" data-pin-do="buttonPin"><img src="//assets.pinterest.com/images/pidgets/pin_it_button.png" /></a>') } function trackTwitter(a) { if (a) { var b; if (a.target && a.target.nodeName == "IFRAME") { opt_target = extractParamFromUri(a.target.src, "url") } _gaq.push(["_trackSocial", "twitter", "tweet", b]) } } function extractParamFromUri(b, c) { if (!b) { return } var a = new RegExp("[\\?&#]" + c + "=([^&#]*)"); var d = a.exec(b); if (d != null) { return unescape(d[1]) } return } $(window).load(function () { var e = $("ul.imageview-slider"); mainitemp = $("ul.imageview-slider li"); thumbimgp = $("ul.pdp-thumb-slider"); thumbitemp = $("ul.pdp-thumb-slider li"); prdimgindexp = e.find("li:first").index(); totalimgsp = e.find("li:last").index(); prdimgwp = mainitemp.outerWidth(true); firstthumbp = thumbimgp.find("li:first").index(); totalthumbp = thumbimgp.find("li:last").index() + 1; thumbwp = $("ul.pdp-thumb-slider").find("li").outerHeight(true); thumbnop = 1; thumbposp = (thumbwp) * thumbnop; lastthumbp = firstthumbp + 5; e.find("li:last").clone().prependTo(e); e.css({ left: "-=" + prdimgwp }); mainitemp.eq(0).clone().appendTo(e); function d() { if (prdimgindexp < totalimgsp) { e.animate({ left: "-=" + prdimgwp }); prdimgindexp += 1; mainitemp.removeClass("selected"); mainitemp.eq(prdimgindexp).addClass("selected"); thumbitemp.removeClass("selected"); thumbitemp.eq(prdimgindexp).addClass("selected"); if (totalthumbp > 6) { if (prdimgindexp > lastthumbp) { thumbimgp.animate({ top: "-=" + thumbposp }); $("a.pdp-thumb-prev").removeClass("inactive"); firstthumbp += thumbnop; lastthumbp += thumbnop; if ((prdimgindexp) == totalthumbp) { $("a.pdp-thumb-next").addClass("inactive") } } } } else { if (prdimgindexp == totalimgsp) { $("ul.imageview-slider li").appendTo(e); e.css("left", 0); e.animate({ left: "-=" + prdimgwp }); prdimgindexp = 0; mainitemp.removeClass("selected"); mainitemp.eq(prdimgindexp).addClass("selected"); thumbitemp.removeClass("selected"); thumbitemp.eq(prdimgindexp).addClass("selected"); if (totalthumbp > 6) { thumbimgp.animate({ top: 0 }); firstthumbp = 0; lastthumbp = 5; $("a.pdp-thumb-next").removeClass("inactive"); $("a.pdp-thumb-prev").addClass("inactive") } } } var f = $("ul.imageview-slider li").eq(prdimgindexp + 1).find("img").attr("src"); f = f.replace("product2", "zoom"); $("#onpage-productZoom").css({ background: "url(" + f + ")" }) } var c = false; $("a.next-arrow").click(function () { if (!c) { d(); c = true; setTimeout(function () { c = false }, 400) } }); function a() { if (prdimgindexp > 0) { e.animate({ left: "+=" + prdimgwp }); prdimgindexp -= 1; mainitemp.removeClass("selected"); mainitemp.eq(prdimgindexp).addClass("selected"); thumbitemp.removeClass("selected"); thumbitemp.eq(prdimgindexp).addClass("selected"); if (totalthumbp > 6) { if (prdimgindexp < firstthumbp) { thumbimgp.animate({ top: "+=" + thumbposp }); $("a.pdp-thumb-next").removeClass("inactive"); firstthumbp -= thumbnop; lastthumbp -= thumbnop; if ((prdimgindexp + 1) == totalthumbp) { $("a.pdp-thumb-next").addClass("inactive") } } } } else { if (prdimgindexp == 0) { var g = -(prdimgwp * (totalimgsp + 2)) + "px"; $("ul.imageview-slider li").prependTo(e); e.css("left", g); e.animate({ left: "+=" + prdimgwp }); prdimgindexp = totalimgsp; mainitemp.removeClass("selected"); mainitemp.eq(prdimgindexp).addClass("selected"); thumbitemp.removeClass("selected"); thumbitemp.eq(prdimgindexp).addClass("selected"); if (totalthumbp > 6) { var f = (totalimgsp + 1) - 6; thumbimgp.animate({ top: "-=" + f * thumbwp }); firstthumbp = firstthumbp + f; lastthumbp = totalimgsp; $("a.pdp-thumb-next").removeClass("inactive"); $("a.pdp-thumb-prev").addClass("inactive") } } } } var c = false; $("a.prev-arrow").click(function () { if (!c) { a(); c = true; setTimeout(function () { c = false }, 400) } }); function b() { var f = $("ul.imageview-slider li").eq(prdimgindexp + 1).find("img").attr("src"); if (f) { f = f.replace("product2", "zoom"); $("#onpage-productZoom").css({ background: "url(" + f + ")" }) } } b(); thumbitemp.on("click", function () { thumbitemp.removeClass("selected"); $(this).addClass("selected"); var f = $(this).index(); e.animate({ left: "-" + prdimgwp * (f + 1) }); prdimgindexp = f; var g = $("ul.imageview-slider li").eq(f + 1).find("img").attr("src"); g = g.replace("product2", "zoom"); $("#onpage-productZoom").css({ background: "url(" + g + ")" }) }); $("a.pdp-thumb-next").click(function () { $("a.pdp-thumb-prev").removeClass("inactive"); if (lastthumbp + 1 < totalthumbp) { thumbimgp.animate({ top: "-=" + thumbposp }); firstthumbp += thumbnop; lastthumbp += thumbnop; if (lastthumbp + 1 == totalthumbp) { $("a.pdp-thumb-next").addClass("inactive") } } }); $("a.pdp-thumb-prev").click(function () { $("a.pdp-thumb-next").removeClass("inactive"); if (firstthumbp > 0) { thumbimgp.animate({ top: "+=" + thumbposp }); firstthumbp -= thumbnop; lastthumbp -= thumbnop; if (firstthumbp == 0) { $("a.pdp-thumb-prev").addClass("inactive") } } }) }); $(document).ready(function () { var e = $("ul.zoom-img-sld"); mainitemZ = $("ul.zoom-img-sld li"); thumbimgZ = $("ul.zoom-thumb-imgs"); thumbitemZ = $("ul.zoom-thumb-imgs li"); prdimgindexZ = e.find("li:first").index(); totalimgsZ = e.find("li:last").index(); prdimgwZ = 762; firstthumbZ = thumbimgZ.find("li:first").index(); totalthumbZ = thumbimgZ.find("li:last").index() + 1; thumbwZ = 60; thumbnoZ = 1; thumbposZ = (thumbwZ) * thumbnoZ; lastthumbZ = firstthumbZ + 5; e.find("li:last").clone().prependTo(e); e.css({ left: "-=" + prdimgwZ }); mainitemZ.eq(0).clone().appendTo(e); function b() { var f = $("ul.zoom-thumb-imgs").find("li.selected").index(); if (f < totalimgsZ) { e.animate({ left: "-=" + prdimgwZ }); f += 1; mainitemZ.removeClass("selected"); mainitemZ.eq(f).addClass("selected"); thumbitemZ.removeClass("selected"); thumbitemZ.eq(f).addClass("selected"); if (totalthumbZ > 6) { if (f > lastthumbZ) { thumbimgZ.animate({ top: "-=" + thumbposZ }); $("a.zoom-thumb-prev").removeClass("inactive"); firstthumbZ += thumbnoZ; lastthumbZ += thumbnoZ; if (f == totalthumbZ) { $("a.zoom-thumb-next").addClass("inactive") } } } } else { if (f == totalimgsZ) { $("ul.zoom-img-sld li").appendTo(e); e.css("left", 0); e.animate({ left: "-=" + prdimgwZ }); f = 0; mainitemZ.removeClass("selected"); mainitemZ.eq(f).addClass("selected"); thumbitemZ.removeClass("selected"); thumbitemZ.eq(f).addClass("selected"); if (totalthumbZ > 6) { thumbimgZ.animate({ top: 0 }); firstthumbZ = 0; lastthumbZ = 5; $("a.zoom-thumb-next").removeClass("inactive"); $("a.zoom-thumb-prev").addClass("inactive") } } } } var d = false; $(".zoom-next-sld").click(function () { if (!d) { b(); d = true; setTimeout(function () { d = false }, 400) } }); function a() { var f = $("ul.zoom-thumb-imgs").find("li.selected").index(); if (f > 0) { e.animate({ left: "+=" + prdimgwZ }); f -= 1; mainitemZ.removeClass("selected"); mainitemZ.eq(f).addClass("selected"); thumbitemZ.removeClass("selected"); thumbitemZ.eq(f).addClass("selected"); if (totalthumbZ > 6) { if (f < firstthumbZ) { thumbimgZ.animate({ top: "+=" + thumbposZ }); $("a.zoom-thumb-next").removeClass("inactive"); firstthumbZ -= thumbnoZ; lastthumbZ -= thumbnoZ; if ((f + 1) == totalthumbZ) { $("a.zoom-thumb-next").addClass("inactive") } } } } else { if (f == 0) { var h = -(prdimgwZ * (totalimgsZ + 2)) + "px"; $("ul.zoom-img-sld li").prependTo(e); e.css("left", h); e.animate({ left: "+=" + prdimgwZ }); f = totalimgsZ; mainitemZ.removeClass("selected"); mainitemZ.eq(f).addClass("selected"); thumbitemZ.removeClass("selected"); thumbitemZ.eq(f).addClass("selected"); if (totalthumbZ > 6) { var g = (totalimgsZ + 1) - 6; thumbimgZ.animate({ top: "-=" + g * thumbwZ }); firstthumbZ = firstthumbZ + g; lastthumbZ = totalimgsZ; $("a.zoom-thumb-next").removeClass("inactive"); $("a.zoom-thumb-prev").addClass("inactive") } } } } var d = false; $(".zoom-prev-sld").click(function () { if (!d) { a(); d = true; setTimeout(function () { d = false }, 400) } }); thumbitemZ.on("click", function () { thumbitemZ.removeClass("selected"); $(this).addClass("selected"); var f = $(this).index(); e.animate({ left: "-" + prdimgwZ * (f + 1) }); prdimgindexZ = f }); $(".zoom-thumb-next").click(function () { $(".zoom-thumb-prev").removeClass("inactive"); if (lastthumbZ + 1 < totalthumbZ) { thumbimgZ.animate({ top: "-=" + thumbposZ }); firstthumbZ += thumbnoZ; lastthumbZ += thumbnoZ; if (lastthumbZ + 1 == totalthumbZ) { $(".zoom-thumb-next").addClass("inactive") } } }); $(".zoom-thumb-prev").click(function () { $(".zoom-thumb-next").removeClass("inactive"); if (firstthumbZ > 0) { thumbimgZ.animate({ top: "+=" + thumbposZ }); firstthumbZ -= thumbnoZ; lastthumbZ -= thumbnoZ; if (firstthumbZ == 0) { $(".zoom-thumb-prev").addClass("inactive") } } }); $(document).ready(function () { (function (l) { var i = "waitForImages"; l.waitForImages = { hasImageProperties: ["backgroundImage", "listStyleImage", "borderImage", "borderCornerImage"] }; l.expr[":"].uncached = function (p) { if (!l(p).is('img[src!=""]')) { return false } var q = new Image; q.src = p.src; return !q.complete }; l.fn.waitForImages = function (v, t, p) { var q = 0; var u = 0; if (l.isPlainObject(arguments[0])) { p = arguments[0].waitForAll; t = arguments[0].each; v = arguments[0].finished } v = v || l.noop; t = t || l.noop; p = !!p; if (!l.isFunction(v) || !l.isFunction(t)) { throw new TypeError("An invalid callback was supplied.") } return this.each(function () { var w = l(this); var s = []; var x = l.waitForImages.hasImageProperties || []; var r = /url\(\s*(['"]?)(.*?)\1\s*\)/g; if (p) { w.find("*").andSelf().each(function () { var y = l(this); if (y.is("img:uncached")) { s.push({ src: y.attr("src"), element: y[0] }) } l.each(x, function (B, C) { var A = y.css(C); var z; if (!A) { return true } while (z = r.exec(A)) { s.push({ src: z[2], element: y[0] }) } }) }) } else { w.find("img:uncached").each(function () { s.push({ src: this.src, element: this }) }) } q = s.length; u = 0; if (q === 0) { v.call(w[0]) } l.each(s, function (z, y) { var A = new Image; l(A).bind("load." + i + " error." + i, function (B) { u++; t.call(y.element, u, q, B.type == "load"); if (u == q) { v.call(w[0]); return false } }); A.src = y.src }) }) } })(jQuery); var g = $(".prdrecom-widget-slider-wrapper li:last").index(); totalnum = g + 1; slideno = 6; paginglist = totalnum / slideno; pagingnum = 0; noofuls = 0; if (g > 5) { $(".recom-widget-paging-wrapper").show() } else { $(".recom-widget-paging-wrapper").hide() } function o() { $(".recom-widget-paging-list > div > div").hide(); $(".recom-widget-paging li span").hide(); $(".recom-widget-paging li").eq(pagingnum).removeClass("active"); $("ul.recom-widget-slider").eq(pagingnum).fadeOut(250); $("ul.recom-widget-slider li img").parent("span").show(); $("ul.recom-widget-slider li span").children("img").show(); $("a img, .product-info", "ul.recom-widget-slider li").hide() } function n() { $("ul.recom-widget-slider").eq(pagingnum).fadeIn(); $(".recom-widget-paging li").eq(pagingnum).addClass("active"); $("ul.recom-widget-slider").eq(pagingnum).children("li").each(function (l) { if ($("a img", this).attr("data-src-onclick")) { var p = $("a img", this).attr("data-src-onclick"); if (p !== "") { $("a img", this).attr("src", p); $("a img", this).removeAttr("data-src-onclick") } else { } } else { } $("a img, .product-info", this).delay(l * 100).fadeIn() }) } function j() { $("ul.recom-widget-slider").eq(pagingnum).waitForImages(function () { $("ul.recom-widget-slider").eq(pagingnum).children("li").each(function (l) { $("a img", this).parent("a").siblings("span").delay(l * 100).fadeOut("slow"); $("a img", this).show() }) }) } function m() { $(".recom-widget-paging-list > div > div").show(1500); $(".recom-widget-paging li span").show(1500) } $(".recom-widget-left-arrow").after('<ul class="recom-widget-paging"></ul>'); for (h = 0; h < paginglist; h++) { $(".recom-widget-paging").append("<li><span></span></li>") } $(".recom-widget-paging li").eq(pagingnum).addClass("active"); $("a img, .product-info", ".recom-slider li ").css("display", "none"); $("ul.recom-widget-slider").children().unwrap(); var k = $(".prdrecom-widget-slider-wrapper > li"); for (var h = 0, f = k.length; h < f; h += slideno) { k.slice(h, h + slideno).wrapAll('<ul class="simple recom-widget-slider text11"></ul>') } noofuls = $(".prdrecom-widget-slider-wrapper ul").length; $("ul.recom-widget-slider").css("display", "none"); $("ul.recom-widget-slider:first").css("display", "block"); $("ul.recom-widget-slider").eq(pagingnum).children("li").each(function (l) { if ($("a img", this).attr("data-src-onload")) { var p = $("a img", this).attr("data-src-onload"); if (p !== "") { $("a img", this).attr("src", p); $("a img", this).removeAttr("data-src-onload") } else { } } else { } $("a img, .product-info", this).delay(l * 100).fadeIn() }); j(); $(".recom-widget-right-arrow div").click(function () { o(); if ((pagingnum) < paginglist - 1) { pagingnum += 1 } else { pagingnum = 0 } n(); j(); m() }); $(".recom-widget-left-arrow div").click(function () { o(); if (pagingnum >= 1) { pagingnum -= 1 } else { pagingnum = noofuls - 1 } n(); j(); m() }); $(".recom-widget-paging li span").click(function () { if (pagingnum != $(this).parent().index()) { o(); pagingnum = $(this).parent().index(); n(); j(); m() } else { } }); $(".imageview-slider > li").mouseenter(function () { $("#onpage-productZoom, .img-magnifier").show() }); $(".prd-imageview").mouseleave(function () { $("#onpage-productZoom, .img-magnifier").hide() }); $(".prd-imageview .prev-arrow, .prd-imageview .next-arrow, .prd-clicktozoom").mouseover(function () { $("#onpage-productZoom, .img-magnifier").hide() }); $(".prd-imageview").mousemove(function (q) { var p = q.pageX - $(".prd-imageview").offset().left; i = q.pageY - $(".prd-imageview").offset().top; maghalfw = 137; maghalfh = 122; if ((p - maghalfw) < 0) { var p = maghalfw } else { if ((p + maghalfw) > $(".prd-imageview").outerWidth(true)) { var p = $(".prd-imageview").outerWidth(true) - maghalfw } } if ((i - maghalfh) < 0) { var i = maghalfh } else { if ((i + maghalfh) > $(".prd-imageview").outerHeight(true)) { var i = $(".prd-imageview").outerHeight(true) - maghalfh } } $(".img-magnifier").css({ left: (p - maghalfw), top: (i - maghalfh) }); var l = -2.14 * (p - maghalfw) + "px"; rightmove = -2.14 * (i - maghalfh) + "px"; $("#onpage-productZoom").css({ "background-position": l + " " + rightmove }) }); $(".tat-tooltip-icon").live("mouseenter", function () { position_y = $(this).position().top; position_x = $(this).position().left; $(this).next(".shipped").css("top", position_y + 24).css("left", position_x - 193).show(); $(this).next(".sorry").css("top", position_y + 24).css("left", position_x - 149).show(); $(this).next(".tat-tooltip-wrapper").show() }); $(".tat-tooltip-icon").live("mouseleave", function () { $(this).next(".tat-tooltip-wrapper").removeAttr("style") }) }); $(".prd-clicktozoom, .img-magnifier").click(function () { var g = $("#productBigImagesList .productZoomGaq").text(); _gaq.push(["_trackEvent", "product", "zoom", g]); var i = $(".pdp-thumb-slider").find("li.selected").index(); $(".zoom-thumb-imgs li").removeClass("selected"); $(".zoom-thumb-imgs li").eq(i).addClass("selected"); $(".zoom-img-sld li").eq(i + 1).addClass("selected"); var f = -((i * 762) + 762); $(".zoom-img-sld").css({ left: f }); $("#pdpzoomlb, .pdpzoomlb").fadeIn(0); $(".pdpzoomlb .container").fadeIn(); var h = $(window).height(); h = h - 40; if (h > 600) { if (h > 627) { h = 627 } else { h = h } } else { h = 600 } $(".pdpzoomlb .container").css({ height: h }); $(".zoom-img-container, .zoomimgwrapper").css({ height: h }) }); $(".zoom-lb-close, #pdpzoomlb").click(function () { $("#pdpzoomlb, .pdpzoomlb, .pdpzoomlb .container").fadeOut() }); $(document).keydown(function (f) { if (f.which == 27) { $("#pdpzoomlb, .pdpzoomlb").fadeOut() } }); function c() { window_width = $(window).innerWidth(); window_height = $(window).height(); obj_width = $(".pdpzoomlb > .container").width() + 20; obj_height = $(".pdpzoomlb > .container").height(); $(".pdpzoomlb > .container").css("left", (window_width / 2) - (obj_width / 2)) } c(); $(".zoom-img-container").mousemove(function (g) { var f = g.pageY - $(".zoom-img-container").offset().top; f = 0.75 * f; f = -f + "px"; $(".zoom-img-container").css({ "background-position": "0px " + f }) }); $(".report-feedback-link").click(function () { window_height = $(window).height(); position = $(this).offset().top - $(window).scrollTop(); y_position = window_height - position; if (y_position < 320) { y_position = 320 - y_position; $("html, body").animate({ scrollTop: $(window).scrollTop() + y_position }) } }); $("#product-detail-grouped ul li img").hover(function () { var f = $(this).attr("src"); var f = f.replace("gallery.jpg", "mcatalog.jpg"); $(".color-tooltip p").html("<img src=" + f + " />"); position_y = $(this).offset().top - $(window).scrollTop(); position_x = $(this).offset().left - $(window).scrollLeft(); $(".tooltip-box").css("top", position_y - 148); $(".tooltip-box").css("left", position_x - 33); $(".tooltip-box").show() }); $("#product-detail-grouped ul li img").mouseleave(function () { $(".tooltip-box").hide() }); $(".virt-size-tooltip").live("hover", function () { $(this).parent("div").next(".size-tooltip-wrapper").show() }); $(".virt-size-tooltip").live("mouseleave", function () { $(this).parent("div").next(".size-tooltip-wrapper").removeAttr("style") }) }); $(window).load(function () { var e = $(".prdsugg-widget-slider-wrapper li:last").index(); sug_totalnum = e + 1; sug_slideno = 4; sug_paginglist = sug_totalnum / sug_slideno; sug_pagingnum = 0; sug_noofuls = 0; if (e > 3) { $(".sugg-widget-paging-wrapper").show() } else { $(".sugg-widget-paging-wrapper").hide() } function h() { $(".sugg-widget-paging-list > div > div").hide(); $(".sugg-widget-paging li span").hide(); $(".sugg-widget-paging li").eq(sug_pagingnum).removeClass("active"); $("ul.sugg-widget-slider").eq(sug_pagingnum).fadeOut(250); $("ul.sugg-widget-slider li img").parent("span").show(); $("ul.sugg-widget-slider li span").children("img").show(); $("a img, .product-info", "ul.sugg-widget-slider li").hide() } function g() { $("ul.sugg-widget-slider").eq(sug_pagingnum).fadeIn(); $(".sugg-widget-paging li").eq(sug_pagingnum).addClass("active"); $("ul.sugg-widget-slider").eq(sug_pagingnum).children("li").each(function (j) { if ($("a img", this).attr("data-src-onclick")) { var k = $("a img", this).attr("data-src-onclick"); if (k !== "") { $("a img", this).attr("src", k); $("a img", this).removeAttr("data-src-onclick") } else { } } else { } $("a img, .product-info", this).delay(j * 100).fadeIn() }) } function b() { $("ul.sugg-widget-slider").eq(sug_pagingnum).waitForImages(function () { $("ul.sugg-widget-slider").eq(sug_pagingnum).children("li").each(function (j) { $("a img", this).parent("a").siblings("span").delay(j * 100).fadeOut("slow"); $("a img", this).show() }) }) } function f() { $(".sugg-widget-paging-list > div > div").show(1500); $(".sugg-widget-paging li span").show(1500) } $(".sugg-widget-left-arrow").after('<ul class="sugg-widget-paging"></ul>'); for (c = 0; c < sug_paginglist; c++) { $(".sugg-widget-paging").append("<li><span></span></li>") } $(".sugg-widget-paging li").eq(sug_pagingnum).addClass("active"); $("a img, .product-info", ".sugg-slider li ").css("display", "none"); $("ul.sugg-widget-slider").children().unwrap(); var d = $(".prdsugg-widget-slider-wrapper > li"); for (var c = 0, a = d.length; c < a; c += sug_slideno) { d.slice(c, c + sug_slideno).wrapAll('<ul class="simple sugg-widget-slider text11"></ul>') } sug_noofuls = $(".prdsugg-widget-slider-wrapper ul").length; $("ul.sugg-widget-slider").css("display", "none"); $("ul.sugg-widget-slider:first").css("display", "block"); $("ul.sugg-widget-slider").eq(sug_pagingnum).children("li").each(function (j) { if ($("a img", this).attr("data-src-onload")) { var k = $("a img", this).attr("data-src-onload"); if (k !== "") { $("a img", this).attr("src", k); $("a img", this).removeAttr("data-src-onload") } else { } } else { } $("a img, .product-info", this).delay(j * 100).fadeIn() }); b(); $(".sugg-widget-right-arrow div").click(function () { h(); if ((sug_pagingnum) < sug_paginglist - 1) { sug_pagingnum += 1 } else { sug_pagingnum = 0 } g(); b(); f() }); $(".sugg-widget-left-arrow div").click(function () { h(); if (sug_pagingnum >= 1) { sug_pagingnum -= 1 } else { sug_pagingnum = sug_noofuls - 1 } g(); b(); f() }); $(".sugg-widget-paging li span").click(function () { if (sug_pagingnum != $(this).parent().index()) { h(); sug_pagingnum = $(this).parent().index(); g(); b(); f() } else { } }) }); $(document).ready(function () { $("#manual-badge-tooltip").live("hover", function () { var a = $(this).position().top, b = $(this).position().left; $(".manual-badge-tooltip").css({ top: a - 13, left: b + 5 }).show() }); $("#manual-badge-tooltip").live("mouseleave", function () { if (!$(".manual-badge-tooltip").hasClass("active")) { $(".manual-badge-tooltip").hide() } }); $(".manual-badge-tooltip").live("hover", function () { $(this).show(); $(this).addClass("active") }); $(".manual-badge-tooltip").live("mouseleave", function () { $(this).hide(); $(this).removeClass("active") }) });