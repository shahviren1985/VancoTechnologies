(function (a, b) {
    function cA(a) {
        return f.isWindow(a) ? a : a.nodeType === 9 ? a.defaultView || a.parentWindow : !1
    }
    function cx(a) {
        if (!cm[a]) {
            var b = c.body, d = f("<" + a + ">").appendTo(b), e = d.css("display");
            d.remove();
            if (e === "none" || e === "") {
                cn || (cn = c.createElement("iframe"), cn.frameBorder = cn.width = cn.height = 0), b.appendChild(cn); 
  if (!co || !cn.createElement) { co = (cn.contentWindow || cn.contentDocument).document, co.write((c.compatMode === "CSS1Compat" ? "<!doctype html>" : "") + "<html><body>"), co.close() } d = co.createElement(a), co.body.appendChild(d), e = f.css(d, "display"), b.removeChild(cn) } cm[a] = e } return cm[a] } function cw(a, b) { var c = {}; f.each(cs.concat.apply([], cs.slice(0, b)), function () { c[this] = a }); return c } function cv() { ct = b } function cu() { setTimeout(cv, 0); return ct = f.now() } function cl() { try { return new a.ActiveXObject("Microsoft.XMLHTTP") } catch (b) { } } function ck() { try { return new a.XMLHttpRequest } catch (b) { } } function ce(a, c) { a.dataFilter && (c = a.dataFilter(c, a.dataType)); var d = a.dataTypes, e = {}, g, h, i = d.length, j, k = d[0], l, m, n, o, p; for (g = 1; g < i; g++) { if (g === 1) { for (h in a.converters) { typeof h == "string" && (e[h.toLowerCase()] = a.converters[h]) } } l = k, k = d[g]; if (k === "*") { k = l } else { if (l !== "*" && l !== k) { m = l + " " + k, n = e[m] || e["* " + k]; if (!n) { p = b; for (o in e) { j = o.split(" "); if (j[0] === l || j[0] === "*") { p = e[j[1] + " " + k]; if (p) { o = e[o], o === !0 ? n = p : p === !0 && (n = o); break } } } } !n && !p && f.error("No conversion from " + m.replace(" ", " to ")), n !== !0 && (c = n ? n(c) : p(o(c))) } } } return c } function cd(a, c, d) { var e = a.contents, f = a.dataTypes, g = a.responseFields, h, i, j, k; for (i in g) { i in d && (c[g[i]] = d[i]) } while (f[0] === "*") { f.shift(), h === b && (h = a.mimeType || c.getResponseHeader("content-type")) } if (h) { for (i in e) { if (e[i] && e[i].test(h)) { f.unshift(i); break } } } if (f[0] in d) { j = f[0] } else { for (i in d) { if (!f[0] || a.converters[i + " " + f[0]]) { j = i; break } k || (k = i) } j = j || k } if (j) { j !== f[0] && f.unshift(j); return d[j] } } function cc(a, b, c, d) { if (f.isArray(b)) { f.each(b, function (b, e) { c || bG.test(a) ? d(a, e) : cc(a + "[" + (typeof e == "object" || f.isArray(e) ? b : "") + "]", e, c, d) }) } else { if (!c && b != null && typeof b == "object") { for (var e in b) { cc(a + "[" + e + "]", b[e], c, d) } } else { d(a, b) } } } function cb(a, c) { var d, e, g = f.ajaxSettings.flatOptions || {}; for (d in c) { c[d] !== b && ((g[d] ? a : e || (e = {}))[d] = c[d]) } e && f.extend(!0, a, e) } function ca(a, c, d, e, f, g) { f = f || c.dataTypes[0], g = g || {}, g[f] = !0; var h = a[f], i = 0, j = h ? h.length : 0, k = a === bV, l; for (; i < j && (k || !l); i++) { l = h[i](c, d, e), typeof l == "string" && (!k || g[l] ? l = b : (c.dataTypes.unshift(l), l = ca(a, c, d, e, l, g))) } (k || !l) && !g["*"] && (l = ca(a, c, d, e, "*", g)); return l } function b_(a) { return function (b, c) { typeof b != "string" && (c = b, b = "*"); if (f.isFunction(c)) { var d = b.toLowerCase().split(bR), e = 0, g = d.length, h, i, j; for (; e < g; e++) { h = d[e], j = /^\+/.test(h), j && (h = h.substr(1) || "*"), i = a[h] = a[h] || [], i[j ? "unshift" : "push"](c) } } } } function bE(a, b, c) { var d = b === "width" ? a.offsetWidth : a.offsetHeight, e = b === "width" ? bz : bA; if (d > 0) { c !== "border" && f.each(e, function () { c || (d -= parseFloat(f.css(a, "padding" + this)) || 0), c === "margin" ? d += parseFloat(f.css(a, c + this)) || 0 : d -= parseFloat(f.css(a, "border" + this + "Width")) || 0 }); return d + "px" } d = bB(a, b, b); if (d < 0 || d == null) { d = a.style[b] || 0 } d = parseFloat(d) || 0, c && f.each(e, function () { d += parseFloat(f.css(a, "padding" + this)) || 0, c !== "padding" && (d += parseFloat(f.css(a, "border" + this + "Width")) || 0), c === "margin" && (d += parseFloat(f.css(a, c + this)) || 0) }); return d + "px" } function br(a, b) { b.src ? f.ajax({ url: b.src, async: !1, dataType: "script" }) : f.globalEval((b.text || b.textContent || b.innerHTML || "").replace(bi, "")), b.parentNode && b.parentNode.removeChild(b) } function bq(a) { var b = (a.nodeName || "").toLowerCase(); b === "input" ? bp(a) : b !== "script" && typeof a.getElementsByTagName != "undefined" && f.grep(a.getElementsByTagName("input"), bp) } function bp(a) { if (a.type === "checkbox" || a.type === "radio") { a.defaultChecked = a.checked } } function bo(a) { return typeof a.getElementsByTagName != "undefined" ? a.getElementsByTagName("*") : typeof a.querySelectorAll != "undefined" ? a.querySelectorAll("*") : [] } function bn(a, b) { var c; if (b.nodeType === 1) { b.clearAttributes && b.clearAttributes(), b.mergeAttributes && b.mergeAttributes(a), c = b.nodeName.toLowerCase(); if (c === "object") { b.outerHTML = a.outerHTML } else { if (c !== "input" || a.type !== "checkbox" && a.type !== "radio") { if (c === "option") { b.selected = a.defaultSelected } else { if (c === "input" || c === "textarea") { b.defaultValue = a.defaultValue } } } else { a.checked && (b.defaultChecked = b.checked = a.checked), b.value !== a.value && (b.value = a.value) } } b.removeAttribute(f.expando) } } function bm(a, b) { if (b.nodeType === 1 && !!f.hasData(a)) { var c, d, e, g = f._data(a), h = f._data(b, g), i = g.events; if (i) { delete h.handle, h.events = {}; for (c in i) { for (d = 0, e = i[c].length; d < e; d++) { f.event.add(b, c + (i[c][d].namespace ? "." : "") + i[c][d].namespace, i[c][d], i[c][d].data) } } } h.data && (h.data = f.extend({}, h.data)) } } function bl(a, b) { return f.nodeName(a, "table") ? a.getElementsByTagName("tbody")[0] || a.appendChild(a.ownerDocument.createElement("tbody")) : a } function X(a) { var b = Y.split(" "), c = a.createDocumentFragment(); if (c.createElement) { while (b.length) { c.createElement(b.pop()) } } return c } function W(a, b, c) { b = b || 0; if (f.isFunction(b)) { return f.grep(a, function (a, d) { var e = !!b.call(a, d, a); return e === c }) } if (b.nodeType) { return f.grep(a, function (a, d) { return a === b === c }) } if (typeof b == "string") { var d = f.grep(a, function (a) { return a.nodeType === 1 }); if (R.test(b)) { return f.filter(b, d, !c) } b = f.filter(b, d) } return f.grep(a, function (a, d) { return f.inArray(a, b) >= 0 === c }) } function V(a) { return !a || !a.parentNode || a.parentNode.nodeType === 11 } function N() { return !0 } function M() { return !1 } function n(a, b, c) { var d = b + "defer", e = b + "queue", g = b + "mark", h = f._data(a, d); h && (c === "queue" || !f._data(a, e)) && (c === "mark" || !f._data(a, g)) && setTimeout(function () { !f._data(a, e) && !f._data(a, g) && (f.removeData(a, d, !0), h.fire()) }, 0) } function m(a) { for (var b in a) { if (b === "data" && f.isEmptyObject(a[b])) { continue } if (b !== "toJSON") { return !1 } } return !0 } function l(a, c, d) { if (d === b && a.nodeType === 1) { var e = "data-" + c.replace(k, "-$1").toLowerCase(); d = a.getAttribute(e); if (typeof d == "string") { try { d = d === "true" ? !0 : d === "false" ? !1 : d === "null" ? null : f.isNumeric(d) ? parseFloat(d) : j.test(d) ? f.parseJSON(d) : d } catch (g) { } f.data(a, c, d) } else { d = b } } return d } function h(a) { var b = g[a] = {}, c, d; a = a.split(/\s+/); for (c = 0, d = a.length; c < d; c++) { b[a[c]] = !0 } return b } var c = a.document, d = a.navigator, e = a.location, f = function () { function K() { if (!e.isReady) { try { c.documentElement.doScroll("left") } catch (a) { setTimeout(K, 1); return } e.ready() } } var e = function (a, b) { return new e.fn.init(a, b, h) }, f = a.jQuery, g = a.$, h, i = /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/, j = /\S/, k = /^\s+/, l = /\s+$/, m = /\d/, n = /^<(\w+)\s*\/?>(?:<\/\1>)?$/, o = /^[\],:{}\s]*$/, p = /\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, q = /"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, r = /(?:^|:|,)(?:\s*\[)+/g, s = /(webkit)[ \/]([\w.]+)/, t = /(opera)(?:.*version)?[ \/]([\w.]+)/, u = /(msie) ([\w.]+)/, v = /(mozilla)(?:.*? rv:([\w.]+))?/, w = /-([a-z]|[0-9])/ig, x = /^-ms-/, y = function (a, b) { return (b + "").toUpperCase() }, z = d.userAgent, A, B, C, D = Object.prototype.toString, E = Object.prototype.hasOwnProperty, F = Array.prototype.push, G = Array.prototype.slice, H = String.prototype.trim, I = Array.prototype.indexOf, J = {}; e.fn = e.prototype = { constructor: e, init: function (a, d, f) { var g, h, j, k; if (!a) { return this } if (a.nodeType) { this.context = this[0] = a, this.length = 1; return this } if (a === "body" && !d && c.body) { this.context = c, this[0] = c.body, this.selector = a, this.length = 1; return this } if (typeof a == "string") { a.charAt(0) !== "<" || a.charAt(a.length - 1) !== ">" || a.length < 3 ? g = i.exec(a) : g = [null, a, null]; if (g && (g[1] || !d)) { if (g[1]) { d = d instanceof e ? d[0] : d, k = d ? d.ownerDocument || d : c, j = n.exec(a), j ? e.isPlainObject(d) ? (a = [c.createElement(j[1])], e.fn.attr.call(a, d, !0)) : a = [k.createElement(j[1])] : (j = e.buildFragment([g[1]], [k]), a = (j.cacheable ? e.clone(j.fragment) : j.fragment).childNodes); return e.merge(this, a) } h = c.getElementById(g[2]); if (h && h.parentNode) { if (h.id !== g[2]) { return f.find(a) } this.length = 1, this[0] = h } this.context = c, this.selector = a; return this } return !d || d.jquery ? (d || f).find(a) : this.constructor(d).find(a) } if (e.isFunction(a)) { return f.ready(a) } a.selector !== b && (this.selector = a.selector, this.context = a.context); return e.makeArray(a, this) }, selector: "", jquery: "1.7", length: 0, size: function () { return this.length }, toArray: function () { return G.call(this, 0) }, get: function (a) { return a == null ? this.toArray() : a < 0 ? this[this.length + a] : this[a] }, pushStack: function (a, b, c) { var d = this.constructor(); e.isArray(a) ? F.apply(d, a) : e.merge(d, a), d.prevObject = this, d.context = this.context, b === "find" ? d.selector = this.selector + (this.selector ? " " : "") + c : b && (d.selector = this.selector + "." + b + "(" + c + ")"); return d }, each: function (a, b) { return e.each(this, a, b) }, ready: function (a) { e.bindReady(), B.add(a); return this }, eq: function (a) { return a === -1 ? this.slice(a) : this.slice(a, +a + 1) }, first: function () { return this.eq(0) }, last: function () { return this.eq(-1) }, slice: function () { return this.pushStack(G.apply(this, arguments), "slice", G.call(arguments).join(",")) }, map: function (a) { return this.pushStack(e.map(this, function (b, c) { return a.call(b, c, b) })) }, end: function () { return this.prevObject || this.constructor(null) }, push: F, sort: [].sort, splice: [].splice }, e.fn.init.prototype = e.fn, e.extend = e.fn.extend = function () { var a, c, d, f, g, h, i = arguments[0] || {}, j = 1, k = arguments.length, l = !1; typeof i == "boolean" && (l = i, i = arguments[1] || {}, j = 2), typeof i != "object" && !e.isFunction(i) && (i = {}), k === j && (i = this, --j); for (; j < k; j++) { if ((a = arguments[j]) != null) { for (c in a) { d = i[c], f = a[c]; if (i === f) { continue } l && f && (e.isPlainObject(f) || (g = e.isArray(f))) ? (g ? (g = !1, h = d && e.isArray(d) ? d : []) : h = d && e.isPlainObject(d) ? d : {}, i[c] = e.extend(l, h, f)) : f !== b && (i[c] = f) } } } return i }, e.extend({ noConflict: function (b) { a.$ === e && (a.$ = g), b && a.jQuery === e && (a.jQuery = f); return e }, isReady: !1, readyWait: 1, holdReady: function (a) { a ? e.readyWait++ : e.ready(!0) }, ready: function (a) { if (a === !0 && ! --e.readyWait || a !== !0 && !e.isReady) { if (!c.body) { return setTimeout(e.ready, 1) } e.isReady = !0; if (a !== !0 && --e.readyWait > 0) { return } B.fireWith(c, [e]), e.fn.trigger && e(c).trigger("ready").unbind("ready") } }, bindReady: function () { if (!B) { B = e.Callbacks("once memory"); if (c.readyState === "complete") { return setTimeout(e.ready, 1) } if (c.addEventListener) { c.addEventListener("DOMContentLoaded", C, !1), a.addEventListener("load", e.ready, !1) } else { if (c.attachEvent) { c.attachEvent("onreadystatechange", C), a.attachEvent("onload", e.ready); var b = !1; try { b = a.frameElement == null } catch (d) { } c.documentElement.doScroll && b && K() } } } }, isFunction: function (a) { return e.type(a) === "function" }, isArray: Array.isArray || function (a) { return e.type(a) === "array" }, isWindow: function (a) { return a && typeof a == "object" && "setInterval" in a }, isNumeric: function (a) { return a != null && m.test(a) && !isNaN(a) }, type: function (a) { return a == null ? String(a) : J[D.call(a)] || "object" }, isPlainObject: function (a) { if (!a || e.type(a) !== "object" || a.nodeType || e.isWindow(a)) { return !1 } try { if (a.constructor && !E.call(a, "constructor") && !E.call(a.constructor.prototype, "isPrototypeOf")) { return !1 } } catch (c) { return !1 } var d; for (d in a) { } return d === b || E.call(a, d) }, isEmptyObject: function (a) { for (var b in a) { return !1 } return !0 }, error: function (a) { throw a }, parseJSON: function (b) { if (typeof b != "string" || !b) { return null } b = e.trim(b); if (a.JSON && a.JSON.parse) { return a.JSON.parse(b) } if (o.test(b.replace(p, "@").replace(q, "]").replace(r, ""))) { return (new Function("return " + b))() } e.error("Invalid JSON: " + b) }, parseXML: function (c) { var d, f; try { a.DOMParser ? (f = new DOMParser, d = f.parseFromString(c, "text/xml")) : (d = new ActiveXObject("Microsoft.XMLDOM"), d.async = "false", d.loadXML(c)) } catch (g) { d = b } (!d || !d.documentElement || d.getElementsByTagName("parsererror").length) && e.error("Invalid XML: " + c); return d }, noop: function () { }, globalEval: function (b) { b && j.test(b) && (a.execScript || function (b) { a.eval.call(a, b) })(b) }, camelCase: function (a) { return a.replace(x, "ms-").replace(w, y) }, nodeName: function (a, b) { return a.nodeName && a.nodeName.toUpperCase() === b.toUpperCase() }, each: function (a, c, d) { var f, g = 0, h = a.length, i = h === b || e.isFunction(a); if (d) { if (i) { for (f in a) { if (c.apply(a[f], d) === !1) { break } } } else { for (; g < h; ) { if (c.apply(a[g++], d) === !1) { break } } } } else { if (i) { for (f in a) { if (c.call(a[f], f, a[f]) === !1) { break } } } else { for (; g < h; ) { if (c.call(a[g], g, a[g++]) === !1) { break } } } } return a }, trim: H ? function (a) { return a == null ? "" : H.call(a) } : function (a) { return a == null ? "" : (a + "").replace(k, "").replace(l, "") }, makeArray: function (a, b) { var c = b || []; if (a != null) { var d = e.type(a); a.length == null || d === "string" || d === "function" || d === "regexp" || e.isWindow(a) ? F.call(c, a) : e.merge(c, a) } return c }, inArray: function (a, b, c) { var d; if (b) { if (I) { return I.call(b, a, c) } d = b.length, c = c ? c < 0 ? Math.max(0, d + c) : c : 0; for (; c < d; c++) { if (c in b && b[c] === a) { return c } } } return -1 }, merge: function (a, c) { var d = a.length, e = 0; if (typeof c.length == "number") { for (var f = c.length; e < f; e++) { a[d++] = c[e] } } else { while (c[e] !== b) { a[d++] = c[e++] } } a.length = d; return a }, grep: function (a, b, c) { var d = [], e; c = !!c; for (var f = 0, g = a.length; f < g; f++) { e = !!b(a[f], f), c !== e && d.push(a[f]) } return d }, map: function (a, c, d) { var f, g, h = [], i = 0, j = a.length, k = a instanceof e || j !== b && typeof j == "number" && (j > 0 && a[0] && a[j - 1] || j === 0 || e.isArray(a)); if (k) { for (; i < j; i++) { f = c(a[i], i, d), f != null && (h[h.length] = f) } } else { for (g in a) { f = c(a[g], g, d), f != null && (h[h.length] = f) } } return h.concat.apply([], h) }, guid: 1, proxy: function (a, c) { if (typeof c == "string") { var d = a[c]; c = a, a = d } if (!e.isFunction(a)) { return b } var f = G.call(arguments, 2), g = function () { return a.apply(c, f.concat(G.call(arguments))) }; g.guid = a.guid = a.guid || g.guid || e.guid++; return g }, access: function (a, c, d, f, g, h) { var i = a.length; if (typeof c == "object") { for (var j in c) { e.access(a, j, c[j], f, g, d) } return a } if (d !== b) { f = !h && f && e.isFunction(d); for (var k = 0; k < i; k++) { g(a[k], c, f ? d.call(a[k], k, g(a[k], c)) : d, h) } return a } return i ? g(a[0], c) : b }, now: function () { return (new Date).getTime() }, uaMatch: function (a) { a = a.toLowerCase(); var b = s.exec(a) || t.exec(a) || u.exec(a) || a.indexOf("compatible") < 0 && v.exec(a) || []; return { browser: b[1] || "", version: b[2] || "0"} }, sub: function () { function a(b, c) { return new a.fn.init(b, c) } e.extend(!0, a, this), a.superclass = this, a.fn = a.prototype = this(), a.fn.constructor = a, a.sub = this.sub, a.fn.init = function (d, f) { f && f instanceof e && !(f instanceof a) && (f = a(f)); return e.fn.init.call(this, d, f, b) }, a.fn.init.prototype = a.fn; var b = a(c); return a }, browser: {} }), e.each("Boolean Number String Function Array Date RegExp Object".split(" "), function (a, b) { J["[object " + b + "]"] = b.toLowerCase() }), A = e.uaMatch(z), A.browser && (e.browser[A.browser] = !0, e.browser.version = A.version), e.browser.webkit && (e.browser.safari = !0), j.test(" ") && (k = /^[\s\xA0]+/, l = /[\s\xA0]+$/), h = e(c), c.addEventListener ? C = function () { c.removeEventListener("DOMContentLoaded", C, !1), e.ready() } : c.attachEvent && (C = function () { c.readyState === "complete" && (c.detachEvent("onreadystatechange", C), e.ready()) }), typeof define == "function" && define.amd && define.amd.jQuery && define("jquery", [], function () { return e }); return e } (), g = {}; f.Callbacks = function (a) { a = a ? g[a] || h(a) : {}; var c = [], d = [], e, i, j, k, l, m = function (b) { var d, e, g, h, i; for (d = 0, e = b.length; d < e; d++) { g = b[d], h = f.type(g), h === "array" ? m(g) : h === "function" && (!a.unique || !o.has(g)) && c.push(g) } }, n = function (b, f) { f = f || [], e = !a.memory || [b, f], i = !0, l = j || 0, j = 0, k = c.length; for (; c && l < k; l++) { if (c[l].apply(b, f) === !1 && a.stopOnFalse) { e = !0; break } } i = !1, c && (a.once ? e === !0 ? o.disable() : c = [] : d && d.length && (e = d.shift(), o.fireWith(e[0], e[1]))) }, o = { add: function () { if (c) { var a = c.length; m(arguments), i ? k = c.length : e && e !== !0 && (j = a, n(e[0], e[1])) } return this }, remove: function () { if (c) { var b = arguments, d = 0, e = b.length; for (; d < e; d++) { for (var f = 0; f < c.length; f++) { if (b[d] === c[f]) { i && f <= k && (k--, f <= l && l--), c.splice(f--, 1); if (a.unique) { break } } } } } return this }, has: function (a) { if (c) { var b = 0, d = c.length; for (; b < d; b++) { if (a === c[b]) { return !0 } } } return !1 }, empty: function () { c = []; return this }, disable: function () { c = d = e = b; return this }, disabled: function () { return !c }, lock: function () { d = b, (!e || e === !0) && o.disable(); return this }, locked: function () { return !d }, fireWith: function (b, c) { d && (i ? a.once || d.push([b, c]) : (!a.once || !e) && n(b, c)); return this }, fire: function () { o.fireWith(this, arguments); return this }, fired: function () { return !!e } }; return o }; var i = [].slice; f.extend({ Deferred: function (a) { var b = f.Callbacks("once memory"), c = f.Callbacks("once memory"), d = f.Callbacks("memory"), e = "pending", g = { resolve: b, reject: c, notify: d }, h = { done: b.add, fail: c.add, progress: d.add, state: function () { return e }, isResolved: b.fired, isRejected: c.fired, then: function (a, b, c) { i.done(a).fail(b).progress(c); return this }, always: function () { return i.done.apply(i, arguments).fail.apply(i, arguments) }, pipe: function (a, b, c) { return f.Deferred(function (d) { f.each({ done: [a, "resolve"], fail: [b, "reject"], progress: [c, "notify"] }, function (a, b) { var c = b[0], e = b[1], g; f.isFunction(c) ? i[a](function () { g = c.apply(this, arguments), g && f.isFunction(g.promise) ? g.promise().then(d.resolve, d.reject, d.notify) : d[e + "With"](this === i ? d : this, [g]) }) : i[a](d[e]) }) }).promise() }, promise: function (a) { if (a == null) { a = h } else { for (var b in h) { a[b] = h[b] } } return a } }, i = h.promise({}), j; for (j in g) { i[j] = g[j].fire, i[j + "With"] = g[j].fireWith } i.done(function () { e = "resolved" }, c.disable, d.lock).fail(function () { e = "rejected" }, b.disable, d.lock), a && a.call(i, i); return i }, when: function (a) { function m(a) { return function (b) { e[a] = arguments.length > 1 ? i.call(arguments, 0) : b, j.notifyWith(k, e) } } function l(a) { return function (c) { b[a] = arguments.length > 1 ? i.call(arguments, 0) : c, --g || j.resolveWith(j, b) } } var b = i.call(arguments, 0), c = 0, d = b.length, e = Array(d), g = d, h = d, j = d <= 1 && a && f.isFunction(a.promise) ? a : f.Deferred(), k = j.promise(); if (d > 1) { for (; c < d; c++) { b[c] && b[c].promise && f.isFunction(b[c].promise) ? b[c].promise().then(l(c), j.reject, m(c)) : --g } g || j.resolveWith(j, b) } else { j !== a && j.resolveWith(j, d ? [a] : []) } return k } }), f.support = function () { var a = c.createElement("div"), b = c.documentElement, d, e, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u; a.setAttribute("className", "t"), a.innerHTML = "   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/><nav></nav>", d = a.getElementsByTagName("*"), e = a.getElementsByTagName("a")[0]; if (!d || !d.length || !e) { return {} } g = c.createElement("select"), h = g.appendChild(c.createElement("option")), i = a.getElementsByTagName("input")[0], k = { leadingWhitespace: a.firstChild.nodeType === 3, tbody: !a.getElementsByTagName("tbody").length, htmlSerialize: !!a.getElementsByTagName("link").length, style: /top/.test(e.getAttribute("style")), hrefNormalized: e.getAttribute("href") === "/a", opacity: /^0.55/.test(e.style.opacity), cssFloat: !!e.style.cssFloat, unknownElems: !!a.getElementsByTagName("nav").length, checkOn: i.value === "on", optSelected: h.selected, getSetAttribute: a.className !== "t", enctype: !!c.createElement("form").enctype, submitBubbles: !0, changeBubbles: !0, focusinBubbles: !1, deleteExpando: !0, noCloneEvent: !0, inlineBlockNeedsLayout: !1, shrinkWrapBlocks: !1, reliableMarginRight: !0 }, i.checked = !0, k.noCloneChecked = i.cloneNode(!0).checked, g.disabled = !0, k.optDisabled = !h.disabled; try { delete a.test } catch (v) { k.deleteExpando = !1 } !a.addEventListener && a.attachEvent && a.fireEvent && (a.attachEvent("onclick", function () { k.noCloneEvent = !1 }), a.cloneNode(!0).fireEvent("onclick")), i = c.createElement("input"), i.value = "t", i.setAttribute("type", "radio"), k.radioValue = i.value === "t", i.setAttribute("checked", "checked"), a.appendChild(i), l = c.createDocumentFragment(), l.appendChild(a.lastChild), k.checkClone = l.cloneNode(!0).cloneNode(!0).lastChild.checked, a.innerHTML = "", a.style.width = a.style.paddingLeft = "1px", m = c.getElementsByTagName("body")[0], o = c.createElement(m ? "div" : "body"), p = { visibility: "hidden", width: 0, height: 0, border: 0, margin: 0, background: "none" }, m && f.extend(p, { position: "absolute", left: "-999px", top: "-999px" }); for (t in p) { o.style[t] = p[t] } o.appendChild(a), n = m || b, n.insertBefore(o, n.firstChild), k.appendChecked = i.checked, k.boxModel = a.offsetWidth === 2, "zoom" in a.style && (a.style.display = "inline", a.style.zoom = 1, k.inlineBlockNeedsLayout = a.offsetWidth === 2, a.style.display = "", a.innerHTML = "<div style='width:4px;'></div>", k.shrinkWrapBlocks = a.offsetWidth !== 2), a.innerHTML = "<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>", q = a.getElementsByTagName("td"), u = q[0].offsetHeight === 0, q[0].style.display = "", q[1].style.display = "none", k.reliableHiddenOffsets = u && q[0].offsetHeight === 0, a.innerHTML = "", c.defaultView && c.defaultView.getComputedStyle && (j = c.createElement("div"), j.style.width = "0", j.style.marginRight = "0", a.appendChild(j), k.reliableMarginRight = (parseInt((c.defaultView.getComputedStyle(j, null) || { marginRight: 0 }).marginRight, 10) || 0) === 0); if (a.attachEvent) { for (t in { submit: 1, change: 1, focusin: 1 }) { s = "on" + t, u = s in a, u || (a.setAttribute(s, "return;"), u = typeof a[s] == "function"), k[t + "Bubbles"] = u } } f(function () { var a, b, d, e, g, h, i = 1, j = "position:absolute;top:0;left:0;width:1px;height:1px;margin:0;", l = "visibility:hidden;border:0;", n = "style='" + j + "border:5px solid #000;padding:0;'", p = "<div " + n + "><div></div></div><table " + n + " cellpadding='0' cellspacing='0'><tr><td></td></tr></table>"; m = c.getElementsByTagName("body")[0]; !m || (a = c.createElement("div"), a.style.cssText = l + "width:0;height:0;position:static;top:0;margin-top:" + i + "px", m.insertBefore(a, m.firstChild), o = c.createElement("div"), o.style.cssText = j + l, o.innerHTML = p, a.appendChild(o), b = o.firstChild, d = b.firstChild, g = b.nextSibling.firstChild.firstChild, h = { doesNotAddBorder: d.offsetTop !== 5, doesAddBorderForTableAndCells: g.offsetTop === 5 }, d.style.position = "fixed", d.style.top = "20px", h.fixedPosition = d.offsetTop === 20 || d.offsetTop === 15, d.style.position = d.style.top = "", b.style.overflow = "hidden", b.style.position = "relative", h.subtractsBorderForOverflowNotVisible = d.offsetTop === -5, h.doesNotIncludeMarginInBodyOffset = m.offsetTop !== i, m.removeChild(a), o = a = null, f.extend(k, h)) }), o.innerHTML = "", n.removeChild(o), o = l = g = h = m = j = a = i = null; return k } (), f.boxModel = f.support.boxModel; var j = /^(?:\{.*\}|\[.*\])$/, k = /([A-Z])/g; f.extend({ cache: {}, uuid: 0, expando: "jQuery" + (f.fn.jquery + Math.random()).replace(/\D/g, ""), noData: { embed: !0, object: "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000", applet: !0 }, hasData: function (a) { a = a.nodeType ? f.cache[a[f.expando]] : a[f.expando]; return !!a && !m(a) }, data: function (a, c, d, e) { if (!!f.acceptData(a)) { var g, h, i, j = f.expando, k = typeof c == "string", l = a.nodeType, m = l ? f.cache : a, n = l ? a[f.expando] : a[f.expando] && f.expando, o = c === "events"; if ((!n || !m[n] || !o && !e && !m[n].data) && k && d === b) { return } n || (l ? a[f.expando] = n = ++f.uuid : n = f.expando), m[n] || (m[n] = {}, l || (m[n].toJSON = f.noop)); if (typeof c == "object" || typeof c == "function") { e ? m[n] = f.extend(m[n], c) : m[n].data = f.extend(m[n].data, c) } g = h = m[n], e || (h.data || (h.data = {}), h = h.data), d !== b && (h[f.camelCase(c)] = d); if (o && !h[c]) { return g.events } k ? (i = h[c], i == null && (i = h[f.camelCase(c)])) : i = h; return i } }, removeData: function (a, b, c) { if (!!f.acceptData(a)) { var d, e, g, h = f.expando, i = a.nodeType, j = i ? f.cache : a, k = i ? a[f.expando] : f.expando; if (!j[k]) { return } if (b) { d = c ? j[k] : j[k].data; if (d) { f.isArray(b) ? b = b : b in d ? b = [b] : (b = f.camelCase(b), b in d ? b = [b] : b = b.split(" ")); for (e = 0, g = b.length; e < g; e++) { delete d[b[e]] } if (!(c ? m : f.isEmptyObject)(d)) { return } } } if (!c) { delete j[k].data; if (!m(j[k])) { return } } f.support.deleteExpando || !j.setInterval ? delete j[k] : j[k] = null, i && (f.support.deleteExpando ? delete a[f.expando] : a.removeAttribute ? a.removeAttribute(f.expando) : a[f.expando] = null) } }, _data: function (a, b, c) { return f.data(a, b, c, !0) }, acceptData: function (a) { if (a.nodeName) { var b = f.noData[a.nodeName.toLowerCase()]; if (b) { return b !== !0 && a.getAttribute("classid") === b } } return !0 } }), f.fn.extend({ data: function (a, c) { var d, e, g, h = null; if (typeof a == "undefined") { if (this.length) { h = f.data(this[0]); if (this[0].nodeType === 1 && !f._data(this[0], "parsedAttrs")) { e = this[0].attributes; for (var i = 0, j = e.length; i < j; i++) { g = e[i].name, g.indexOf("data-") === 0 && (g = f.camelCase(g.substring(5)), l(this[0], g, h[g])) } f._data(this[0], "parsedAttrs", !0) } } return h } if (typeof a == "object") { return this.each(function () { f.data(this, a) }) } d = a.split("."), d[1] = d[1] ? "." + d[1] : ""; if (c === b) { h = this.triggerHandler("getData" + d[1] + "!", [d[0]]), h === b && this.length && (h = f.data(this[0], a), h = l(this[0], a, h)); return h === b && d[1] ? this.data(d[0]) : h } return this.each(function () { var b = f(this), e = [d[0], c]; b.triggerHandler("setData" + d[1] + "!", e), f.data(this, a, c), b.triggerHandler("changeData" + d[1] + "!", e) }) }, removeData: function (a) { return this.each(function () { f.removeData(this, a) }) } }), f.extend({ _mark: function (a, b) { a && (b = (b || "fx") + "mark", f._data(a, b, (f._data(a, b) || 0) + 1)) }, _unmark: function (a, b, c) { a !== !0 && (c = b, b = a, a = !1); if (b) { c = c || "fx"; var d = c + "mark", e = a ? 0 : (f._data(b, d) || 1) - 1; e ? f._data(b, d, e) : (f.removeData(b, d, !0), n(b, c, "mark")) } }, queue: function (a, b, c) { var d; if (a) { b = (b || "fx") + "queue", d = f._data(a, b), c && (!d || f.isArray(c) ? d = f._data(a, b, f.makeArray(c)) : d.push(c)); return d || [] } }, dequeue: function (a, b) { b = b || "fx"; var c = f.queue(a, b), d = c.shift(), e = {}; d === "inprogress" && (d = c.shift()), d && (b === "fx" && c.unshift("inprogress"), f._data(a, b + ".run", e), d.call(a, function () { f.dequeue(a, b) }, e)), c.length || (f.removeData(a, b + "queue " + b + ".run", !0), n(a, b, "queue")) } }), f.fn.extend({ queue: function (a, c) { typeof a != "string" && (c = a, a = "fx"); if (c === b) { return f.queue(this[0], a) } return this.each(function () { var b = f.queue(this, a, c); a === "fx" && b[0] !== "inprogress" && f.dequeue(this, a) }) }, dequeue: function (a) { return this.each(function () { f.dequeue(this, a) }) }, delay: function (a, b) { a = f.fx ? f.fx.speeds[a] || a : a, b = b || "fx"; return this.queue(b, function (b, c) { var d = setTimeout(b, a); c.stop = function () { clearTimeout(d) } }) }, clearQueue: function (a) { return this.queue(a || "fx", []) }, promise: function (a, c) { function m() { --h || d.resolveWith(e, [e]) } typeof a != "string" && (c = a, a = b), a = a || "fx"; var d = f.Deferred(), e = this, g = e.length, h = 1, i = a + "defer", j = a + "queue", k = a + "mark", l; while (g--) { if (l = f.data(e[g], i, b, !0) || (f.data(e[g], j, b, !0) || f.data(e[g], k, b, !0)) && f.data(e[g], i, f.Callbacks("once memory"), !0)) { h++, l.add(m) } } m(); return d.promise() } }); var o = /[\n\t\r]/g, p = /\s+/, q = /\r/g, r = /^(?:button|input)$/i, s = /^(?:button|input|object|select|textarea)$/i, t = /^a(?:rea)?$/i, u = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i, v = f.support.getSetAttribute, w, x, y; f.fn.extend({ attr: function (a, b) { return f.access(this, a, b, !0, f.attr) }, removeAttr: function (a) { return this.each(function () { f.removeAttr(this, a) }) }, prop: function (a, b) { return f.access(this, a, b, !0, f.prop) }, removeProp: function (a) { a = f.propFix[a] || a; return this.each(function () { try { this[a] = b, delete this[a] } catch (c) { } }) }, addClass: function (a) { var b, c, d, e, g, h, i; if (f.isFunction(a)) { return this.each(function (b) { f(this).addClass(a.call(this, b, this.className)) }) } if (a && typeof a == "string") { b = a.split(p); for (c = 0, d = this.length; c < d; c++) { e = this[c]; if (e.nodeType === 1) { if (!e.className && b.length === 1) { e.className = a } else { g = " " + e.className + " "; for (h = 0, i = b.length; h < i; h++) { ~g.indexOf(" " + b[h] + " ") || (g += b[h] + " ") } e.className = f.trim(g) } } } } return this }, removeClass: function (a) { var c, d, e, g, h, i, j; if (f.isFunction(a)) { return this.each(function (b) { f(this).removeClass(a.call(this, b, this.className)) }) } if (a && typeof a == "string" || a === b) { c = (a || "").split(p); for (d = 0, e = this.length; d < e; d++) { g = this[d]; if (g.nodeType === 1 && g.className) { if (a) { h = (" " + g.className + " ").replace(o, " "); for (i = 0, j = c.length; i < j; i++) { h = h.replace(" " + c[i] + " ", " ") } g.className = f.trim(h) } else { g.className = "" } } } } return this }, toggleClass: function (a, b) { var c = typeof a, d = typeof b == "boolean"; if (f.isFunction(a)) { return this.each(function (c) { f(this).toggleClass(a.call(this, c, this.className, b), b) }) } return this.each(function () { if (c === "string") { var e, g = 0, h = f(this), i = b, j = a.split(p); while (e = j[g++]) { i = d ? i : !h.hasClass(e), h[i ? "addClass" : "removeClass"](e) } } else { if (c === "undefined" || c === "boolean") { this.className && f._data(this, "__className__", this.className), this.className = this.className || a === !1 ? "" : f._data(this, "__className__") || "" } } }) }, hasClass: function (a) { var b = " " + a + " ", c = 0, d = this.length; for (; c < d; c++) { if (this[c].nodeType === 1 && (" " + this[c].className + " ").replace(o, " ").indexOf(b) > -1) { return !0 } } return !1 }, val: function (a) { var c, d, e, g = this[0]; if (!arguments.length) { if (g) { c = f.valHooks[g.nodeName.toLowerCase()] || f.valHooks[g.type]; if (c && "get" in c && (d = c.get(g, "value")) !== b) { return d } d = g.value; return typeof d == "string" ? d.replace(q, "") : d == null ? "" : d } return b } e = f.isFunction(a); return this.each(function (d) { var g = f(this), h; if (this.nodeType === 1) { e ? h = a.call(this, d, g.val()) : h = a, h == null ? h = "" : typeof h == "number" ? h += "" : f.isArray(h) && (h = f.map(h, function (a) { return a == null ? "" : a + "" })), c = f.valHooks[this.nodeName.toLowerCase()] || f.valHooks[this.type]; if (!c || !("set" in c) || c.set(this, h, "value") === b) { this.value = h } } }) } }), f.extend({ valHooks: { option: { get: function (a) { var b = a.attributes.value; return !b || b.specified ? a.value : a.text } }, select: { get: function (a) { var b, c, d, e, g = a.selectedIndex, h = [], i = a.options, j = a.type === "select-one"; if (g < 0) { return null } c = j ? g : 0, d = j ? g + 1 : i.length; for (; c < d; c++) { e = i[c]; if (e.selected && (f.support.optDisabled ? !e.disabled : e.getAttribute("disabled") === null) && (!e.parentNode.disabled || !f.nodeName(e.parentNode, "optgroup"))) { b = f(e).val(); if (j) { return b } h.push(b) } } if (j && !h.length && i.length) { return f(i[g]).val() } return h }, set: function (a, b) { var c = f.makeArray(b); f(a).find("option").each(function () { this.selected = f.inArray(f(this).val(), c) >= 0 }), c.length || (a.selectedIndex = -1); return c } } }, attrFn: { val: !0, css: !0, html: !0, text: !0, data: !0, width: !0, height: !0, offset: !0 }, attr: function (a, c, d, e) { var g, h, i, j = a.nodeType; if (!a || j === 3 || j === 8 || j === 2) { return b } if (e && c in f.attrFn) { return f(a)[c](d) } if (!("getAttribute" in a)) { return f.prop(a, c, d) } i = j !== 1 || !f.isXMLDoc(a), i && (c = c.toLowerCase(), h = f.attrHooks[c] || (u.test(c) ? x : w)); if (d !== b) { if (d === null) { f.removeAttr(a, c); return b } if (h && "set" in h && i && (g = h.set(a, d, c)) !== b) { return g } a.setAttribute(c, "" + d); return d } if (h && "get" in h && i && (g = h.get(a, c)) !== null) { return g } g = a.getAttribute(c); return g === null ? b : g }, removeAttr: function (a, b) { var c, d, e, g, h = 0; if (a.nodeType === 1) { d = (b || "").split(p), g = d.length; for (; h < g; h++) { e = d[h].toLowerCase(), c = f.propFix[e] || e, f.attr(a, e, ""), a.removeAttribute(v ? e : c), u.test(e) && c in a && (a[c] = !1) } } }, attrHooks: { type: { set: function (a, b) { if (r.test(a.nodeName) && a.parentNode) { f.error("type property can't be changed") } else { if (!f.support.radioValue && b === "radio" && f.nodeName(a, "input")) { var c = a.value; a.setAttribute("type", b), c && (a.value = c); return b } } } }, value: { get: function (a, b) { if (w && f.nodeName(a, "button")) { return w.get(a, b) } return b in a ? a.value : null }, set: function (a, b, c) { if (w && f.nodeName(a, "button")) { return w.set(a, b, c) } a.value = b } } }, propFix: { tabindex: "tabIndex", readonly: "readOnly", "for": "htmlFor", "class": "className", maxlength: "maxLength", cellspacing: "cellSpacing", cellpadding: "cellPadding", rowspan: "rowSpan", colspan: "colSpan", usemap: "useMap", frameborder: "frameBorder", contenteditable: "contentEditable" }, prop: function (a, c, d) { var e, g, h, i = a.nodeType; if (!a || i === 3 || i === 8 || i === 2) { return b } h = i !== 1 || !f.isXMLDoc(a), h && (c = f.propFix[c] || c, g = f.propHooks[c]); return d !== b ? g && "set" in g && (e = g.set(a, d, c)) !== b ? e : a[c] = d : g && "get" in g && (e = g.get(a, c)) !== null ? e : a[c] }, propHooks: { tabIndex: { get: function (a) { var c = a.getAttributeNode("tabindex"); return c && c.specified ? parseInt(c.value, 10) : s.test(a.nodeName) || t.test(a.nodeName) && a.href ? 0 : b } }} }), f.attrHooks.tabindex = f.propHooks.tabIndex, x = { get: function (a, c) { var d, e = f.prop(a, c); return e === !0 || typeof e != "boolean" && (d = a.getAttributeNode(c)) && d.nodeValue !== !1 ? c.toLowerCase() : b }, set: function (a, b, c) { var d; b === !1 ? f.removeAttr(a, c) : (d = f.propFix[c] || c, d in a && (a[d] = !0), a.setAttribute(c, c.toLowerCase())); return c } }, v || (y = { name: !0, id: !0 }, w = f.valHooks.button = { get: function (a, c) { var d; d = a.getAttributeNode(c); return d && (y[c] ? d.nodeValue !== "" : d.specified) ? d.nodeValue : b }, set: function (a, b, d) { var e = a.getAttributeNode(d); e || (e = c.createAttribute(d), a.setAttributeNode(e)); return e.nodeValue = b + "" } }, f.attrHooks.tabindex.set = w.set, f.each(["width", "height"], function (a, b) { f.attrHooks[b] = f.extend(f.attrHooks[b], { set: function (a, c) { if (c === "") { a.setAttribute(b, "auto"); return c } } }) }), f.attrHooks.contenteditable = { get: w.get, set: function (a, b, c) { b === "" && (b = "false"), w.set(a, b, c) } }), f.support.hrefNormalized || f.each(["href", "src", "width", "height"], function (a, c) { f.attrHooks[c] = f.extend(f.attrHooks[c], { get: function (a) { var d = a.getAttribute(c, 2); return d === null ? b : d } }) }), f.support.style || (f.attrHooks.style = { get: function (a) { return a.style.cssText.toLowerCase() || b }, set: function (a, b) { return a.style.cssText = "" + b } }), f.support.optSelected || (f.propHooks.selected = f.extend(f.propHooks.selected, { get: function (a) { var b = a.parentNode; b && (b.selectedIndex, b.parentNode && b.parentNode.selectedIndex); return null } })), f.support.enctype || (f.propFix.enctype = "encoding"), f.support.checkOn || f.each(["radio", "checkbox"], function () { f.valHooks[this] = { get: function (a) { return a.getAttribute("value") === null ? "on" : a.value } } }), f.each(["radio", "checkbox"], function () { f.valHooks[this] = f.extend(f.valHooks[this], { set: function (a, b) { if (f.isArray(b)) { return a.checked = f.inArray(f(a).val(), b) >= 0 } } }) }); var z = /\.(.*)$/, A = /^(?:textarea|input|select)$/i, B = /\./g, C = / /g, D = /[^\w\s.|`]/g, E = /^([^\.]*)?(?:\.(.+))?$/, F = /\bhover(\.\S+)?/, G = /^key/, H = /^(?:mouse|contextmenu)|click/, I = /^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/, J = function (a) { var b = I.exec(a); b && (b[1] = (b[1] || "").toLowerCase(), b[3] = b[3] && new RegExp("(?:^|\\s)" + b[3] + "(?:\\s|$)")); return b }, K = function (a, b) { return (!b[1] || a.nodeName.toLowerCase() === b[1]) && (!b[2] || a.id === b[2]) && (!b[3] || b[3].test(a.className)) }, L = function (a) { return f.event.special.hover ? a : a.replace(F, "mouseenter$1 mouseleave$1") }; f.event = { add: function (a, c, d, e, g) { var h, i, j, k, l, m, n, o, p, q, r, s; if (!(a.nodeType === 3 || a.nodeType === 8 || !c || !d || !(h = f._data(a)))) { d.handler && (p = d, d = p.handler), d.guid || (d.guid = f.guid++), j = h.events, j || (h.events = j = {}), i = h.handle, i || (h.handle = i = function (a) { return typeof f != "undefined" && (!a || f.event.triggered !== a.type) ? f.event.dispatch.apply(i.elem, arguments) : b }, i.elem = a), c = L(c).split(" "); for (k = 0; k < c.length; k++) { l = E.exec(c[k]) || [], m = l[1], n = (l[2] || "").split(".").sort(), s = f.event.special[m] || {}, m = (g ? s.delegateType : s.bindType) || m, s = f.event.special[m] || {}, o = f.extend({ type: m, origType: l[1], data: e, handler: d, guid: d.guid, selector: g, namespace: n.join(".") }, p), g && (o.quick = J(g), !o.quick && f.expr.match.POS.test(g) && (o.isPositional = !0)), r = j[m]; if (!r) { r = j[m] = [], r.delegateCount = 0; if (!s.setup || s.setup.call(a, e, n, i) === !1) { a.addEventListener ? a.addEventListener(m, i, !1) : a.attachEvent && a.attachEvent("on" + m, i) } } s.add && (s.add.call(a, o), o.handler.guid || (o.handler.guid = d.guid)), g ? r.splice(r.delegateCount++, 0, o) : r.push(o), f.event.global[m] = !0 } a = null } }, global: {}, remove: function (a, b, c, d) { var e = f.hasData(a) && f._data(a), g, h, i, j, k, l, m, n, o, p, q; if (!!e && !!(m = e.events)) { b = L(b || "").split(" "); for (g = 0; g < b.length; g++) { h = E.exec(b[g]) || [], i = h[1], j = h[2]; if (!i) { j = j ? "." + j : ""; for (l in m) { f.event.remove(a, l + j, c, d) } return } n = f.event.special[i] || {}, i = (d ? n.delegateType : n.bindType) || i, p = m[i] || [], k = p.length, j = j ? new RegExp("(^|\\.)" + j.split(".").sort().join("\\.(?:.*\\.)?") + "(\\.|$)") : null; if (c || j || d || n.remove) { for (l = 0; l < p.length; l++) { q = p[l]; if (!c || c.guid === q.guid) { if (!j || j.test(q.namespace)) { if (!d || d === q.selector || d === "**" && q.selector) { p.splice(l--, 1), q.selector && p.delegateCount--, n.remove && n.remove.call(a, q) } } } } } else { p.length = 0 } p.length === 0 && k !== p.length && ((!n.teardown || n.teardown.call(a, j) === !1) && f.removeEvent(a, i, e.handle), delete m[i]) } f.isEmptyObject(m) && (o = e.handle, o && (o.elem = null), f.removeData(a, ["events", "handle"], !0)) } }, customEvent: { getData: !0, setData: !0, changeData: !0 }, trigger: function (c, d, e, g) { if (!e || e.nodeType !== 3 && e.nodeType !== 8) { var h = c.type || c, i = [], j, k, l, m, n, o, p, q, r, s; h.indexOf("!") >= 0 && (h = h.slice(0, -1), k = !0), h.indexOf(".") >= 0 && (i = h.split("."), h = i.shift(), i.sort()); if ((!e || f.event.customEvent[h]) && !f.event.global[h]) { return } c = typeof c == "object" ? c[f.expando] ? c : new f.Event(h, c) : new f.Event(h), c.type = h, c.isTrigger = !0, c.exclusive = k, c.namespace = i.join("."), c.namespace_re = c.namespace ? new RegExp("(^|\\.)" + i.join("\\.(?:.*\\.)?") + "(\\.|$)") : null, o = h.indexOf(":") < 0 ? "on" + h : "", (g || !e) && c.preventDefault(); if (!e) { j = f.cache; for (l in j) { j[l].events && j[l].events[h] && f.event.trigger(c, d, j[l].handle.elem, !0) } return } c.result = b, c.target || (c.target = e), d = d != null ? f.makeArray(d) : [], d.unshift(c), p = f.event.special[h] || {}; if (p.trigger && p.trigger.apply(e, d) === !1) { return } r = [[e, p.bindType || h]]; if (!g && !p.noBubble && !f.isWindow(e)) { s = p.delegateType || h, n = null; for (m = e.parentNode; m; m = m.parentNode) { r.push([m, s]), n = m } n && n === e.ownerDocument && r.push([n.defaultView || n.parentWindow || a, s]) } for (l = 0; l < r.length; l++) { m = r[l][0], c.type = r[l][1], q = (f._data(m, "events") || {})[c.type] && f._data(m, "handle"), q && q.apply(m, d), q = o && m[o], q && f.acceptData(m) && q.apply(m, d); if (c.isPropagationStopped()) { break } } c.type = h, c.isDefaultPrevented() || (!p._default || p._default.apply(e.ownerDocument, d) === !1) && (h !== "click" || !f.nodeName(e, "a")) && f.acceptData(e) && o && e[h] && (h !== "focus" && h !== "blur" || c.target.offsetWidth !== 0) && !f.isWindow(e) && (n = e[o], n && (e[o] = null), f.event.triggered = h, e[h](), f.event.triggered = b, n && (e[o] = n)); return c.result } }, dispatch: function (c) { c = f.event.fix(c || a.event); var d = (f._data(this, "events") || {})[c.type] || [], e = d.delegateCount, g = [].slice.call(arguments, 0), h = !c.exclusive && !c.namespace, i = (f.event.special[c.type] || {}).handle, j = [], k, l, m, n, o, p, q, r, s, t, u; g[0] = c, c.delegateTarget = this; if (e && !c.target.disabled && (!c.button || c.type !== "click")) { for (m = c.target; m != this; m = m.parentNode || this) { o = {}, q = []; for (k = 0; k < e; k++) { r = d[k], s = r.selector, t = o[s], r.isPositional ? t = (t || (o[s] = f(s))).index(m) >= 0 : t === b && (t = o[s] = r.quick ? K(m, r.quick) : f(m).is(s)), t && q.push(r) } q.length && j.push({ elem: m, matches: q }) } } d.length > e && j.push({ elem: this, matches: d.slice(e) }); for (k = 0; k < j.length && !c.isPropagationStopped(); k++) { p = j[k], c.currentTarget = p.elem; for (l = 0; l < p.matches.length && !c.isImmediatePropagationStopped(); l++) { r = p.matches[l]; if (h || !c.namespace && !r.namespace || c.namespace_re && c.namespace_re.test(r.namespace)) { c.data = r.data, c.handleObj = r, n = (i || r.handler).apply(p.elem, g), n !== b && (c.result = n, n === !1 && (c.preventDefault(), c.stopPropagation())) } } } return c.result }, props: "attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "), fixHooks: {}, keyHooks: { props: "char charCode key keyCode".split(" "), filter: function (a, b) { a.which == null && (a.which = b.charCode != null ? b.charCode : b.keyCode); return a } }, mouseHooks: { props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement wheelDelta".split(" "), filter: function (a, d) { var e, f, g, h = d.button, i = d.fromElement; a.pageX == null && d.clientX != null && (e = a.target.ownerDocument || c, f = e.documentElement, g = e.body, a.pageX = d.clientX + (f && f.scrollLeft || g && g.scrollLeft || 0) - (f && f.clientLeft || g && g.clientLeft || 0), a.pageY = d.clientY + (f && f.scrollTop || g && g.scrollTop || 0) - (f && f.clientTop || g && g.clientTop || 0)), !a.relatedTarget && i && (a.relatedTarget = i === a.target ? d.toElement : i), !a.which && h !== b && (a.which = h & 1 ? 1 : h & 2 ? 3 : h & 4 ? 2 : 0); return a } }, fix: function (a) { if (a[f.expando]) { return a } var d, e, g = a, h = f.event.fixHooks[a.type] || {}, i = h.props ? this.props.concat(h.props) : this.props; a = f.Event(g); for (d = i.length; d; ) { e = i[--d], a[e] = g[e] } a.target || (a.target = g.srcElement || c), a.target.nodeType === 3 && (a.target = a.target.parentNode), a.metaKey === b && (a.metaKey = a.ctrlKey); return h.filter ? h.filter(a, g) : a }, special: { ready: { setup: f.bindReady }, focus: { delegateType: "focusin", noBubble: !0 }, blur: { delegateType: "focusout", noBubble: !0 }, beforeunload: { setup: function (a, b, c) { f.isWindow(this) && (this.onbeforeunload = c) }, teardown: function (a, b) { this.onbeforeunload === b && (this.onbeforeunload = null) } } }, simulate: function (a, b, c, d) { var e = f.extend(new f.Event, c, { type: a, isSimulated: !0, originalEvent: {} }); d ? f.event.trigger(e, null, b) : f.event.dispatch.call(b, e), e.isDefaultPrevented() && c.preventDefault() } }, f.event.handle = f.event.dispatch, f.removeEvent = c.removeEventListener ? function (a, b, c) { a.removeEventListener && a.removeEventListener(b, c, !1) } : function (a, b, c) { a.detachEvent && a.detachEvent("on" + b, c) }, f.Event = function (a, b) { if (!(this instanceof f.Event)) { return new f.Event(a, b) } a && a.type ? (this.originalEvent = a, this.type = a.type, this.isDefaultPrevented = a.defaultPrevented || a.returnValue === !1 || a.getPreventDefault && a.getPreventDefault() ? N : M) : this.type = a, b && f.extend(this, b), this.timeStamp = a && a.timeStamp || f.now(), this[f.expando] = !0 }, f.Event.prototype = { preventDefault: function () { this.isDefaultPrevented = N; var a = this.originalEvent; !a || (a.preventDefault ? a.preventDefault() : a.returnValue = !1) }, stopPropagation: function () { this.isPropagationStopped = N; var a = this.originalEvent; !a || (a.stopPropagation && a.stopPropagation(), a.cancelBubble = !0) }, stopImmediatePropagation: function () { this.isImmediatePropagationStopped = N, this.stopPropagation() }, isDefaultPrevented: M, isPropagationStopped: M, isImmediatePropagationStopped: M }, f.each({ mouseenter: "mouseover", mouseleave: "mouseout" }, function (a, b) { f.event.special[a] = f.event.special[b] = { delegateType: b, bindType: b, handle: function (a) { var b = this, c = a.relatedTarget, d = a.handleObj, e = d.selector, g, h; if (!c || d.origType === a.type || c !== b && !f.contains(b, c)) { g = a.type, a.type = d.origType, h = d.handler.apply(this, arguments), a.type = g } return h } } }), f.support.submitBubbles || (f.event.special.submit = { setup: function () { if (f.nodeName(this, "form")) { return !1 } f.event.add(this, "click._submit keypress._submit", function (a) { var c = a.target, d = f.nodeName(c, "input") || f.nodeName(c, "button") ? c.form : b; d && !d._submit_attached && (f.event.add(d, "submit._submit", function (a) { this.parentNode && f.event.simulate("submit", this.parentNode, a, !0) }), d._submit_attached = !0) }) }, teardown: function () { if (f.nodeName(this, "form")) { return !1 } f.event.remove(this, "._submit") } }), f.support.changeBubbles || (f.event.special.change = { setup: function () { if (A.test(this.nodeName)) { if (this.type === "checkbox" || this.type === "radio") { f.event.add(this, "propertychange._change", function (a) { a.originalEvent.propertyName === "checked" && (this._just_changed = !0) }), f.event.add(this, "click._change", function (a) { this._just_changed && (this._just_changed = !1, f.event.simulate("change", this, a, !0)) }) } return !1 } f.event.add(this, "beforeactivate._change", function (a) { var b = a.target; A.test(b.nodeName) && !b._change_attached && (f.event.add(b, "change._change", function (a) { this.parentNode && !a.isSimulated && f.event.simulate("change", this.parentNode, a, !0) }), b._change_attached = !0) }) }, handle: function (a) { var b = a.target; if (this !== b || a.isSimulated || a.isTrigger || b.type !== "radio" && b.type !== "checkbox") { return a.handleObj.handler.apply(this, arguments) } }, teardown: function () { f.event.remove(this, "._change"); return A.test(this.nodeName) } }), f.support.focusinBubbles || f.each({ focus: "focusin", blur: "focusout" }, function (a, b) { var d = 0, e = function (a) { f.event.simulate(b, a.target, f.event.fix(a), !0) }; f.event.special[b] = { setup: function () { d++ === 0 && c.addEventListener(a, e, !0) }, teardown: function () { --d === 0 && c.removeEventListener(a, e, !0) } } }), f.fn.extend({ on: function (a, c, d, e, g) { var h, i; if (typeof a == "object") { typeof c != "string" && (d = c, c = b); for (i in a) { this.on(i, c, d, a[i], g) } return this } d == null && e == null ? (e = c, d = c = b) : e == null && (typeof c == "string" ? (e = d, d = b) : (e = d, d = c, c = b)); if (e === !1) { e = M } else { if (!e) { return this } } g === 1 && (h = e, e = function (a) { f().off(a); return h.apply(this, arguments) }, e.guid = h.guid || (h.guid = f.guid++)); return this.each(function () { f.event.add(this, a, e, d, c) }) }, one: function (a, b, c, d) { return this.on.call(this, a, b, c, d, 1) }, off: function (a, c, d) { if (a && a.preventDefault && a.handleObj) { var e = a.handleObj; f(a.delegateTarget).off(e.namespace ? e.type + "." + e.namespace : e.type, e.selector, e.handler); return this } if (typeof a == "object") { for (var g in a) { this.off(g, c, a[g]) } return this } if (c === !1 || typeof c == "function") { d = c, c = b } d === !1 && (d = M); return this.each(function () { f.event.remove(this, a, d, c) }) }, bind: function (a, b, c) { return this.on(a, null, b, c) }, unbind: function (a, b) { return this.off(a, null, b) }, live: function (a, b, c) { f(this.context).on(a, this.selector, b, c); return this }, die: function (a, b) { f(this.context).off(a, this.selector || "**", b); return this }, delegate: function (a, b, c, d) { return this.on(b, a, c, d) }, undelegate: function (a, b, c) { return arguments.length == 1 ? this.off(a, "**") : this.off(b, a, c) }, trigger: function (a, b) { return this.each(function () { f.event.trigger(a, b, this) }) }, triggerHandler: function (a, b) { if (this[0]) { return f.event.trigger(a, b, this[0], !0) } }, toggle: function (a) { var b = arguments, c = a.guid || f.guid++, d = 0, e = function (c) { var e = (f._data(this, "lastToggle" + a.guid) || 0) % d; f._data(this, "lastToggle" + a.guid, e + 1), c.preventDefault(); return b[e].apply(this, arguments) || !1 }; e.guid = c; while (d < b.length) { b[d++].guid = c } return this.click(e) }, hover: function (a, b) { return this.mouseenter(a).mouseleave(b || a) } }), f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function (a, b) { f.fn[b] = function (a, c) { c == null && (c = a, a = null); return arguments.length > 0 ? this.bind(b, a, c) : this.trigger(b) }, f.attrFn && (f.attrFn[b] = !0), G.test(b) && (f.event.fixHooks[b] = f.event.keyHooks), H.test(b) && (f.event.fixHooks[b] = f.event.mouseHooks) }), function () { function x(a, b, c, e, f, g) { for (var h = 0, i = e.length; h < i; h++) { var j = e[h]; if (j) { var k = !1; j = j[a]; while (j) { if (j[d] === c) { k = e[j.sizset]; break } if (j.nodeType === 1) { g || (j[d] = c, j.sizset = h); if (typeof b != "string") { if (j === b) { k = !0; break } } else { if (m.filter(b, [j]).length > 0) { k = j; break } } } j = j[a] } e[h] = k } } } function w(a, b, c, e, f, g) { for (var h = 0, i = e.length; h < i; h++) { var j = e[h]; if (j) { var k = !1; j = j[a]; while (j) { if (j[d] === c) { k = e[j.sizset]; break } j.nodeType === 1 && !g && (j[d] = c, j.sizset = h); if (j.nodeName.toLowerCase() === b) { k = j; break } j = j[a] } e[h] = k } } } var a = /((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g, d = "sizcache" + (Math.random() + "").replace(".", ""), e = 0, g = Object.prototype.toString, h = !1, i = !0, j = /\\/g, k = /\r\n/g, l = /\W/; [0, 0].sort(function () { i = !1; return 0 }); var m = function (b, d, e, f) { e = e || [], d = d || c; var h = d; if (d.nodeType !== 1 && d.nodeType !== 9) { return [] } if (!b || typeof b != "string") { return e } var i, j, k, l, n, q, r, t, u = !0, v = m.isXML(d), w = [], x = b; do { a.exec(""), i = a.exec(x); if (i) { x = i[3], w.push(i[1]); if (i[2]) { l = i[3]; break } } } while (i); if (w.length > 1 && p.exec(b)) { if (w.length === 2 && o.relative[w[0]]) { j = y(w[0] + w[1], d, f) } else { j = o.relative[w[0]] ? [d] : m(w.shift(), d); while (w.length) { b = w.shift(), o.relative[b] && (b += w.shift()), j = y(b, j, f) } } } else { !f && w.length > 1 && d.nodeType === 9 && !v && o.match.ID.test(w[0]) && !o.match.ID.test(w[w.length - 1]) && (n = m.find(w.shift(), d, v), d = n.expr ? m.filter(n.expr, n.set)[0] : n.set[0]); if (d) { n = f ? { expr: w.pop(), set: s(f)} : m.find(w.pop(), w.length === 1 && (w[0] === "~" || w[0] === "+") && d.parentNode ? d.parentNode : d, v), j = n.expr ? m.filter(n.expr, n.set) : n.set, w.length > 0 ? k = s(j) : u = !1; while (w.length) { q = w.pop(), r = q, o.relative[q] ? r = w.pop() : q = "", r == null && (r = d), o.relative[q](k, r, v) } } else { k = w = [] } } k || (k = j), k || m.error(q || b); if (g.call(k) === "[object Array]") { if (!u) { e.push.apply(e, k) } else { if (d && d.nodeType === 1) { for (t = 0; k[t] != null; t++) { k[t] && (k[t] === !0 || k[t].nodeType === 1 && m.contains(d, k[t])) && e.push(j[t]) } } else { for (t = 0; k[t] != null; t++) { k[t] && k[t].nodeType === 1 && e.push(j[t]) } } } } else { s(k, e) } l && (m(l, h, e, f), m.uniqueSort(e)); return e }; m.uniqueSort = function (a) { if (u) { h = i, a.sort(u); if (h) { for (var b = 1; b < a.length; b++) { a[b] === a[b - 1] && a.splice(b--, 1) } } } return a }, m.matches = function (a, b) { return m(a, null, null, b) }, m.matchesSelector = function (a, b) { return m(b, null, null, [a]).length > 0 }, m.find = function (a, b, c) { var d, e, f, g, h, i; if (!a) { return [] } for (e = 0, f = o.order.length; e < f; e++) { h = o.order[e]; if (g = o.leftMatch[h].exec(a)) { i = g[1], g.splice(1, 1); if (i.substr(i.length - 1) !== "\\") { g[1] = (g[1] || "").replace(j, ""), d = o.find[h](g, b, c); if (d != null) { a = a.replace(o.match[h], ""); break } } } } d || (d = typeof b.getElementsByTagName != "undefined" ? b.getElementsByTagName("*") : []); return { set: d, expr: a} }, m.filter = function (a, c, d, e) { var f, g, h, i, j, k, l, n, p, q = a, r = [], s = c, t = c && c[0] && m.isXML(c[0]); while (a && c.length) { for (h in o.filter) { if ((f = o.leftMatch[h].exec(a)) != null && f[2]) { k = o.filter[h], l = f[1], g = !1, f.splice(1, 1); if (l.substr(l.length - 1) === "\\") { continue } s === r && (r = []); if (o.preFilter[h]) { f = o.preFilter[h](f, s, d, r, e, t); if (!f) { g = i = !0 } else { if (f === !0) { continue } } } if (f) { for (n = 0; (j = s[n]) != null; n++) { j && (i = k(j, f, n, s), p = e ^ i, d && i != null ? p ? g = !0 : s[n] = !1 : p && (r.push(j), g = !0)) } } if (i !== b) { d || (s = r), a = a.replace(o.match[h], ""); if (!g) { return [] } break } } } if (a === q) { if (g == null) { m.error(a) } else { break } } q = a } return s }, m.error = function (a) { throw "Syntax error, unrecognized expression: " + a }; var n = m.getText = function (a) { var b, c, d = a.nodeType, e = ""; if (d) { if (d === 1) { if (typeof a.textContent == "string") { return a.textContent } if (typeof a.innerText == "string") { return a.innerText.replace(k, "") } for (a = a.firstChild; a; a = a.nextSibling) { e += n(a) } } else { if (d === 3 || d === 4) { return a.nodeValue } } } else { for (b = 0; c = a[b]; b++) { c.nodeType !== 8 && (e += n(c)) } } return e }, o = m.selectors = { order: ["ID", "NAME", "TAG"], match: { ID: /#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/, CLASS: /\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/, NAME: /\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/, ATTR: /\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/, TAG: /^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/, CHILD: /:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/, POS: /:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/, PSEUDO: /:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/ }, leftMatch: {}, attrMap: { "class": "className", "for": "htmlFor" }, attrHandle: { href: function (a) { return a.getAttribute("href") }, type: function (a) { return a.getAttribute("type") } }, relative: { "+": function (a, b) { var c = typeof b == "string", d = c && !l.test(b), e = c && !d; d && (b = b.toLowerCase()); for (var f = 0, g = a.length, h; f < g; f++) { if (h = a[f]) { while ((h = h.previousSibling) && h.nodeType !== 1) { } a[f] = e || h && h.nodeName.toLowerCase() === b ? h || !1 : h === b } } e && m.filter(b, a, !0) }, ">": function (a, b) { var c, d = typeof b == "string", e = 0, f = a.length; if (d && !l.test(b)) { b = b.toLowerCase(); for (; e < f; e++) { c = a[e]; if (c) { var g = c.parentNode; a[e] = g.nodeName.toLowerCase() === b ? g : !1 } } } else { for (; e < f; e++) { c = a[e], c && (a[e] = d ? c.parentNode : c.parentNode === b) } d && m.filter(b, a, !0) } }, "": function (a, b, c) { var d, f = e++, g = x; typeof b == "string" && !l.test(b) && (b = b.toLowerCase(), d = b, g = w), g("parentNode", b, f, a, d, c) }, "~": function (a, b, c) { var d, f = e++, g = x; typeof b == "string" && !l.test(b) && (b = b.toLowerCase(), d = b, g = w), g("previousSibling", b, f, a, d, c) } }, find: { ID: function (a, b, c) { if (typeof b.getElementById != "undefined" && !c) { var d = b.getElementById(a[1]); return d && d.parentNode ? [d] : [] } }, NAME: function (a, b) { if (typeof b.getElementsByName != "undefined") { var c = [], d = b.getElementsByName(a[1]); for (var e = 0, f = d.length; e < f; e++) { d[e].getAttribute("name") === a[1] && c.push(d[e]) } return c.length === 0 ? null : c } }, TAG: function (a, b) { if (typeof b.getElementsByTagName != "undefined") { return b.getElementsByTagName(a[1]) } } }, preFilter: { CLASS: function (a, b, c, d, e, f) { a = " " + a[1].replace(j, "") + " "; if (f) { return a } for (var g = 0, h; (h = b[g]) != null; g++) { h && (e ^ (h.className && (" " + h.className + " ").replace(/[\t\n\r]/g, " ").indexOf(a) >= 0) ? c || d.push(h) : c && (b[g] = !1)) } return !1 }, ID: function (a) { return a[1].replace(j, "") }, TAG: function (a, b) { return a[1].replace(j, "").toLowerCase() }, CHILD: function (a) { if (a[1] === "nth") { a[2] || m.error(a[0]), a[2] = a[2].replace(/^\+|\s*/g, ""); var b = /(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2] === "even" && "2n" || a[2] === "odd" && "2n+1" || !/\D/.test(a[2]) && "0n+" + a[2] || a[2]); a[2] = b[1] + (b[2] || 1) - 0, a[3] = b[3] - 0 } else { a[2] && m.error(a[0]) } a[0] = e++; return a }, ATTR: function (a, b, c, d, e, f) { var g = a[1] = a[1].replace(j, ""); !f && o.attrMap[g] && (a[1] = o.attrMap[g]), a[4] = (a[4] || a[5] || "").replace(j, ""), a[2] === "~=" && (a[4] = " " + a[4] + " "); return a }, PSEUDO: function (b, c, d, e, f) { if (b[1] === "not") { if ((a.exec(b[3]) || "").length > 1 || /^\w/.test(b[3])) { b[3] = m(b[3], null, null, c) } else { var g = m.filter(b[3], c, d, !0 ^ f); d || e.push.apply(e, g); return !1 } } else { if (o.match.POS.test(b[0]) || o.match.CHILD.test(b[0])) { return !0 } } return b }, POS: function (a) { a.unshift(!0); return a } }, filters: { enabled: function (a) { return a.disabled === !1 && a.type !== "hidden" }, disabled: function (a) { return a.disabled === !0 }, checked: function (a) { return a.checked === !0 }, selected: function (a) { a.parentNode && a.parentNode.selectedIndex; return a.selected === !0 }, parent: function (a) { return !!a.firstChild }, empty: function (a) { return !a.firstChild }, has: function (a, b, c) { return !!m(c[3], a).length }, header: function (a) { return /h\d/i.test(a.nodeName) }, text: function (a) { var b = a.getAttribute("type"), c = a.type; return a.nodeName.toLowerCase() === "input" && "text" === c && (b === c || b === null) }, radio: function (a) { return a.nodeName.toLowerCase() === "input" && "radio" === a.type }, checkbox: function (a) { return a.nodeName.toLowerCase() === "input" && "checkbox" === a.type }, file: function (a) { return a.nodeName.toLowerCase() === "input" && "file" === a.type }, password: function (a) { return a.nodeName.toLowerCase() === "input" && "password" === a.type }, submit: function (a) { var b = a.nodeName.toLowerCase(); return (b === "input" || b === "button") && "submit" === a.type }, image: function (a) { return a.nodeName.toLowerCase() === "input" && "image" === a.type }, reset: function (a) { var b = a.nodeName.toLowerCase(); return (b === "input" || b === "button") && "reset" === a.type }, button: function (a) { var b = a.nodeName.toLowerCase(); return b === "input" && "button" === a.type || b === "button" }, input: function (a) { return /input|select|textarea|button/i.test(a.nodeName) }, focus: function (a) { return a === a.ownerDocument.activeElement } }, setFilters: { first: function (a, b) { return b === 0 }, last: function (a, b, c, d) { return b === d.length - 1 }, even: function (a, b) { return b % 2 === 0 }, odd: function (a, b) { return b % 2 === 1 }, lt: function (a, b, c) { return b < c[3] - 0 }, gt: function (a, b, c) { return b > c[3] - 0 }, nth: function (a, b, c) { return c[3] - 0 === b }, eq: function (a, b, c) { return c[3] - 0 === b } }, filter: { PSEUDO: function (a, b, c, d) { var e = b[1], f = o.filters[e]; if (f) { return f(a, c, b, d) } if (e === "contains") { return (a.textContent || a.innerText || n([a]) || "").indexOf(b[3]) >= 0 } if (e === "not") { var g = b[3]; for (var h = 0, i = g.length; h < i; h++) { if (g[h] === a) { return !1 } } return !0 } m.error(e) }, CHILD: function (a, b) { var c, e, f, g, h, i, j, k = b[1], l = a; switch (k) { case "only": case "first": while (l = l.previousSibling) { if (l.nodeType === 1) { return !1 } } if (k === "first") { return !0 } l = a; case "last": while (l = l.nextSibling) { if (l.nodeType === 1) { return !1 } } return !0; case "nth": c = b[2], e = b[3]; if (c === 1 && e === 0) { return !0 } f = b[0], g = a.parentNode; if (g && (g[d] !== f || !a.nodeIndex)) { i = 0; for (l = g.firstChild; l; l = l.nextSibling) { l.nodeType === 1 && (l.nodeIndex = ++i) } g[d] = f } j = a.nodeIndex - e; return c === 0 ? j === 0 : j % c === 0 && j / c >= 0 } }, ID: function (a, b) { return a.nodeType === 1 && a.getAttribute("id") === b }, TAG: function (a, b) { return b === "*" && a.nodeType === 1 || !!a.nodeName && a.nodeName.toLowerCase() === b }, CLASS: function (a, b) { return (" " + (a.className || a.getAttribute("class")) + " ").indexOf(b) > -1 }, ATTR: function (a, b) { var c = b[1], d = m.attr ? m.attr(a, c) : o.attrHandle[c] ? o.attrHandle[c](a) : a[c] != null ? a[c] : a.getAttribute(c), e = d + "", f = b[2], g = b[4]; return d == null ? f === "!=" : !f && m.attr ? d != null : f === "=" ? e === g : f === "*=" ? e.indexOf(g) >= 0 : f === "~=" ? (" " + e + " ").indexOf(g) >= 0 : g ? f === "!=" ? e !== g : f === "^=" ? e.indexOf(g) === 0 : f === "$=" ? e.substr(e.length - g.length) === g : f === "|=" ? e === g || e.substr(0, g.length + 1) === g + "-" : !1 : e && d !== !1 }, POS: function (a, b, c, d) { var e = b[2], f = o.setFilters[e]; if (f) { return f(a, c, b, d) } } } }, p = o.match.POS, q = function (a, b) { return "\\" + (b - 0 + 1) }; for (var r in o.match) { o.match[r] = new RegExp(o.match[r].source + /(?![^\[]*\])(?![^\(]*\))/.source), o.leftMatch[r] = new RegExp(/(^(?:.|\r|\n)*?)/.source + o.match[r].source.replace(/\\(\d+)/g, q)) } var s = function (a, b) { a = Array.prototype.slice.call(a, 0); if (b) { b.push.apply(b, a); return b } return a }; try { Array.prototype.slice.call(c.documentElement.childNodes, 0)[0].nodeType } catch (t) { s = function (a, b) { var c = 0, d = b || []; if (g.call(a) === "[object Array]") { Array.prototype.push.apply(d, a) } else { if (typeof a.length == "number") { for (var e = a.length; c < e; c++) { d.push(a[c]) } } else { for (; a[c]; c++) { d.push(a[c]) } } } return d } } var u, v; c.documentElement.compareDocumentPosition ? u = function (a, b) { if (a === b) { h = !0; return 0 } if (!a.compareDocumentPosition || !b.compareDocumentPosition) { return a.compareDocumentPosition ? -1 : 1 } return a.compareDocumentPosition(b) & 4 ? -1 : 1 } : (u = function (a, b) { if (a === b) { h = !0; return 0 } if (a.sourceIndex && b.sourceIndex) { return a.sourceIndex - b.sourceIndex } var c, d, e = [], f = [], g = a.parentNode, i = b.parentNode, j = g; if (g === i) { return v(a, b) } if (!g) { return -1 } if (!i) { return 1 } while (j) { e.unshift(j), j = j.parentNode } j = i; while (j) { f.unshift(j), j = j.parentNode } c = e.length, d = f.length; for (var k = 0; k < c && k < d; k++) { if (e[k] !== f[k]) { return v(e[k], f[k]) } } return k === c ? v(a, f[k], -1) : v(e[k], b, 1) }, v = function (a, b, c) { if (a === b) { return c } var d = a.nextSibling; while (d) { if (d === b) { return -1 } d = d.nextSibling } return 1 }), function () { var a = c.createElement("div"), d = "script" + (new Date).getTime(), e = c.documentElement; a.innerHTML = "<a name='" + d + "'/>", e.insertBefore(a, e.firstChild), c.getElementById(d) && (o.find.ID = function (a, c, d) { if (typeof c.getElementById != "undefined" && !d) { var e = c.getElementById(a[1]); return e ? e.id === a[1] || typeof e.getAttributeNode != "undefined" && e.getAttributeNode("id").nodeValue === a[1] ? [e] : b : [] } }, o.filter.ID = function (a, b) { var c = typeof a.getAttributeNode != "undefined" && a.getAttributeNode("id"); return a.nodeType === 1 && c && c.nodeValue === b }), e.removeChild(a), e = a = null } (), function () { var a = c.createElement("div"); a.appendChild(c.createComment("")), a.getElementsByTagName("*").length > 0 && (o.find.TAG = function (a, b) { var c = b.getElementsByTagName(a[1]); if (a[1] === "*") { var d = []; for (var e = 0; c[e]; e++) { c[e].nodeType === 1 && d.push(c[e]) } c = d } return c }), a.innerHTML = "<a href='#'></a>", a.firstChild && typeof a.firstChild.getAttribute != "undefined" && a.firstChild.getAttribute("href") !== "#" && (o.attrHandle.href = function (a) { return a.getAttribute("href", 2) }), a = null } (), c.querySelectorAll && function () { var a = m, b = c.createElement("div"), d = "__sizzle__"; b.innerHTML = "<p class='TEST'></p>"; if (!b.querySelectorAll || b.querySelectorAll(".TEST").length !== 0) { m = function (b, e, f, g) { e = e || c; if (!g && !m.isXML(e)) { var h = /^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b); if (h && (e.nodeType === 1 || e.nodeType === 9)) { if (h[1]) { return s(e.getElementsByTagName(b), f) } if (h[2] && o.find.CLASS && e.getElementsByClassName) { return s(e.getElementsByClassName(h[2]), f) } } if (e.nodeType === 9) { if (b === "body" && e.body) { return s([e.body], f) } if (h && h[3]) { var i = e.getElementById(h[3]); if (!i || !i.parentNode) { return s([], f) } if (i.id === h[3]) { return s([i], f) } } try { return s(e.querySelectorAll(b), f) } catch (j) { } } else { if (e.nodeType === 1 && e.nodeName.toLowerCase() !== "object") { var k = e, l = e.getAttribute("id"), n = l || d, p = e.parentNode, q = /^\s*[+~]/.test(b); l ? n = n.replace(/'/g, "\\$&") : e.setAttribute("id", n), q && p && (e = e.parentNode); try { if (!q || p) { return s(e.querySelectorAll("[id='" + n + "'] " + b), f) } } catch (r) { } finally { l || k.removeAttribute("id") } } } } return a(b, e, f, g) }; for (var e in a) { m[e] = a[e] } b = null } } (), function () { var a = c.documentElement, b = a.matchesSelector || a.mozMatchesSelector || a.webkitMatchesSelector || a.msMatchesSelector; if (b) { var d = !b.call(c.createElement("div"), "div"), e = !1; try { b.call(c.documentElement, "[test!='']:sizzle") } catch (f) { e = !0 } m.matchesSelector = function (a, c) { c = c.replace(/\=\s*([^'"\]]*)\s*\]/g, "='$1']"); if (!m.isXML(a)) { try { if (e || !o.match.PSEUDO.test(c) && !/!=/.test(c)) { var f = b.call(a, c); if (f || !d || a.document && a.document.nodeType !== 11) { return f } } } catch (g) { } } return m(c, null, null, [a]).length > 0 } } } (), function () { var a = c.createElement("div"); a.innerHTML = "<div class='test e'></div><div class='test'></div>"; if (!!a.getElementsByClassName && a.getElementsByClassName("e").length !== 0) { a.lastChild.className = "e"; if (a.getElementsByClassName("e").length === 1) { return } o.order.splice(1, 0, "CLASS"), o.find.CLASS = function (a, b, c) { if (typeof b.getElementsByClassName != "undefined" && !c) { return b.getElementsByClassName(a[1]) } }, a = null } } (), c.documentElement.contains ? m.contains = function (a, b) { return a !== b && (a.contains ? a.contains(b) : !0) } : c.documentElement.compareDocumentPosition ? m.contains = function (a, b) { return !!(a.compareDocumentPosition(b) & 16) } : m.contains = function () { return !1 }, m.isXML = function (a) { var b = (a ? a.ownerDocument || a : 0).documentElement; return b ? b.nodeName !== "HTML" : !1 }; var y = function (a, b, c) { var d, e = [], f = "", g = b.nodeType ? [b] : b; while (d = o.match.PSEUDO.exec(a)) { f += d[0], a = a.replace(o.match.PSEUDO, "") } a = o.relative[a] ? a + "*" : a; for (var h = 0, i = g.length; h < i; h++) { m(a, g[h], e, c) } return m.filter(f, e) }; m.attr = f.attr, m.selectors.attrMap = {}, f.find = m, f.expr = m.selectors, f.expr[":"] = f.expr.filters, f.unique = m.uniqueSort, f.text = m.getText, f.isXMLDoc = m.isXML, f.contains = m.contains } (); var O = /Until$/, P = /^(?:parents|prevUntil|prevAll)/, Q = /,/, R = /^.[^:#\[\.,]*$/, S = Array.prototype.slice, T = f.expr.match.POS, U = { children: !0, contents: !0, next: !0, prev: !0 }; f.fn.extend({ find: function (a) { var b = this, c, d; if (typeof a != "string") { return f(a).filter(function () { for (c = 0, d = b.length; c < d; c++) { if (f.contains(b[c], this)) { return !0 } } }) } var e = this.pushStack("", "find", a), g, h, i; for (c = 0, d = this.length; c < d; c++) { g = e.length, f.find(a, this[c], e); if (c > 0) { for (h = g; h < e.length; h++) { for (i = 0; i < g; i++) { if (e[i] === e[h]) { e.splice(h--, 1); break } } } } } return e }, has: function (a) { var b = f(a); return this.filter(function () { for (var a = 0, c = b.length; a < c; a++) { if (f.contains(this, b[a])) { return !0 } } }) }, not: function (a) { return this.pushStack(W(this, a, !1), "not", a) }, filter: function (a) { return this.pushStack(W(this, a, !0), "filter", a) }, is: function (a) { return !!a && (typeof a == "string" ? T.test(a) ? f(a, this.context).index(this[0]) >= 0 : f.filter(a, this).length > 0 : this.filter(a).length > 0) }, closest: function (a, b) { var c = [], d, e, g = this[0]; if (f.isArray(a)) { var h = 1; while (g && g.ownerDocument && g !== b) { for (d = 0; d < a.length; d++) { f(g).is(a[d]) && c.push({ selector: a[d], elem: g, level: h }) } g = g.parentNode, h++ } return c } var i = T.test(a) || typeof a != "string" ? f(a, b || this.context) : 0; for (d = 0, e = this.length; d < e; d++) { g = this[d]; while (g) { if (i ? i.index(g) > -1 : f.find.matchesSelector(g, a)) { c.push(g); break } g = g.parentNode; if (!g || !g.ownerDocument || g === b || g.nodeType === 11) { break } } } c = c.length > 1 ? f.unique(c) : c; return this.pushStack(c, "closest", a) }, index: function (a) { if (!a) { return this[0] && this[0].parentNode ? this.prevAll().length : -1 } if (typeof a == "string") { return f.inArray(this[0], f(a)) } return f.inArray(a.jquery ? a[0] : a, this) }, add: function (a, b) { var c = typeof a == "string" ? f(a, b) : f.makeArray(a && a.nodeType ? [a] : a), d = f.merge(this.get(), c); return this.pushStack(V(c[0]) || V(d[0]) ? d : f.unique(d)) }, andSelf: function () { return this.add(this.prevObject) } }), f.each({ parent: function (a) { var b = a.parentNode; return b && b.nodeType !== 11 ? b : null }, parents: function (a) { return f.dir(a, "parentNode") }, parentsUntil: function (a, b, c) { return f.dir(a, "parentNode", c) }, next: function (a) { return f.nth(a, 2, "nextSibling") }, prev: function (a) { return f.nth(a, 2, "previousSibling") }, nextAll: function (a) { return f.dir(a, "nextSibling") }, prevAll: function (a) { return f.dir(a, "previousSibling") }, nextUntil: function (a, b, c) { return f.dir(a, "nextSibling", c) }, prevUntil: function (a, b, c) { return f.dir(a, "previousSibling", c) }, siblings: function (a) { return f.sibling(a.parentNode.firstChild, a) }, children: function (a) { return f.sibling(a.firstChild) }, contents: function (a) { return f.nodeName(a, "iframe") ? a.contentDocument || a.contentWindow.document : f.makeArray(a.childNodes) } }, function (a, b) { f.fn[a] = function (c, d) { var e = f.map(this, b, c), g = S.call(arguments); O.test(a) || (d = c), d && typeof d == "string" && (e = f.filter(d, e)), e = this.length > 1 && !U[a] ? f.unique(e) : e, (this.length > 1 || Q.test(d)) && P.test(a) && (e = e.reverse()); return this.pushStack(e, a, g.join(",")) } }), f.extend({ filter: function (a, b, c) { c && (a = ":not(" + a + ")"); return b.length === 1 ? f.find.matchesSelector(b[0], a) ? [b[0]] : [] : f.find.matches(a, b) }, dir: function (a, c, d) { var e = [], g = a[c]; while (g && g.nodeType !== 9 && (d === b || g.nodeType !== 1 || !f(g).is(d))) { g.nodeType === 1 && e.push(g), g = g[c] } return e }, nth: function (a, b, c, d) { b = b || 1; var e = 0; for (; a; a = a[c]) { if (a.nodeType === 1 && ++e === b) { break } } return a }, sibling: function (a, b) { var c = []; for (; a; a = a.nextSibling) { a.nodeType === 1 && a !== b && c.push(a) } return c } }); var Y = "abbr article aside audio canvas datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video", Z = / jQuery\d+="(?:\d+|null)"/g, $ = /^\s+/, _ = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig, ba = /<([\w:]+)/, bb = /<tbody/i, bc = /<|&#?\w+;/, bd = /<(?:script|style)/i, be = /<(?:script|object|embed|option|style)/i, bf = new RegExp("<(?:" + Y.replace(" ", "|") + ")", "i"), bg = /checked\s*(?:[^=]|=\s*.checked.)/i, bh = /\/(java|ecma)script/i, bi = /^\s*<!(?:\[CDATA\[|\-\-)/, bj = { option: [1, "<select multiple='multiple'>", "</select>"], legend: [1, "<fieldset>", "</fieldset>"], thead: [1, "<table>", "</table>"], tr: [2, "<table><tbody>", "</tbody></table>"], td: [3, "<table><tbody><tr>", "</tr></tbody></table>"], col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"], area: [1, "<map>", "</map>"], _default: [0, "", ""] }, bk = X(c); bj.optgroup = bj.option, bj.tbody = bj.tfoot = bj.colgroup = bj.caption = bj.thead, bj.th = bj.td, f.support.htmlSerialize || (bj._default = [1, "div<div>", "</div>"]), f.fn.extend({ text: function (a) { if (f.isFunction(a)) { return this.each(function (b) { var c = f(this); c.text(a.call(this, b, c.text())) }) } if (typeof a != "object" && a !== b) { return this.empty().append((this[0] && this[0].ownerDocument || c).createTextNode(a)) } return f.text(this) }, wrapAll: function (a) { if (f.isFunction(a)) { return this.each(function (b) { f(this).wrapAll(a.call(this, b)) }) } if (this[0]) { var b = f(a, this[0].ownerDocument).eq(0).clone(!0); this[0].parentNode && b.insertBefore(this[0]), b.map(function () { var a = this; while (a.firstChild && a.firstChild.nodeType === 1) { a = a.firstChild } return a }).append(this) } return this }, wrapInner: function (a) { if (f.isFunction(a)) { return this.each(function (b) { f(this).wrapInner(a.call(this, b)) }) } return this.each(function () { var b = f(this), c = b.contents(); c.length ? c.wrapAll(a) : b.append(a) }) }, wrap: function (a) { return this.each(function () { f(this).wrapAll(a) }) }, unwrap: function () { return this.parent().each(function () { f.nodeName(this, "body") || f(this).replaceWith(this.childNodes) }).end() }, append: function () { return this.domManip(arguments, !0, function (a) { this.nodeType === 1 && this.appendChild(a) }) }, prepend: function () { return this.domManip(arguments, !0, function (a) { this.nodeType === 1 && this.insertBefore(a, this.firstChild) }) }, before: function () { if (this[0] && this[0].parentNode) { return this.domManip(arguments, !1, function (a) { this.parentNode.insertBefore(a, this) }) } if (arguments.length) { var a = f(arguments[0]); a.push.apply(a, this.toArray()); return this.pushStack(a, "before", arguments) } }, after: function () { if (this[0] && this[0].parentNode) { return this.domManip(arguments, !1, function (a) { this.parentNode.insertBefore(a, this.nextSibling) }) } if (arguments.length) { var a = this.pushStack(this, "after", arguments); a.push.apply(a, f(arguments[0]).toArray()); return a } }, remove: function (a, b) { for (var c = 0, d; (d = this[c]) != null; c++) { if (!a || f.filter(a, [d]).length) { !b && d.nodeType === 1 && (f.cleanData(d.getElementsByTagName("*")), f.cleanData([d])), d.parentNode && d.parentNode.removeChild(d) } } return this }, empty: function () { for (var a = 0, b; (b = this[a]) != null; a++) { b.nodeType === 1 && f.cleanData(b.getElementsByTagName("*")); while (b.firstChild) { b.removeChild(b.firstChild) } } return this }, clone: function (a, b) { a = a == null ? !1 : a, b = b == null ? a : b; return this.map(function () { return f.clone(this, a, b) }) }, html: function (a) { if (a === b) { return this[0] && this[0].nodeType === 1 ? this[0].innerHTML.replace(Z, "") : null } if (typeof a == "string" && !bd.test(a) && (f.support.leadingWhitespace || !$.test(a)) && !bj[(ba.exec(a) || ["", ""])[1].toLowerCase()]) { a = a.replace(_, "<$1></$2>"); try { for (var c = 0, d = this.length; c < d; c++) { this[c].nodeType === 1 && (f.cleanData(this[c].getElementsByTagName("*")), this[c].innerHTML = a) } } catch (e) { this.empty().append(a) } } else { f.isFunction(a) ? this.each(function (b) { var c = f(this); c.html(a.call(this, b, c.html())) }) : this.empty().append(a) } return this }, replaceWith: function (a) { if (this[0] && this[0].parentNode) { if (f.isFunction(a)) { return this.each(function (b) { var c = f(this), d = c.html(); c.replaceWith(a.call(this, b, d)) }) } typeof a != "string" && (a = f(a).detach()); return this.each(function () { var b = this.nextSibling, c = this.parentNode; f(this).remove(), b ? f(b).before(a) : f(c).append(a) }) } return this.length ? this.pushStack(f(f.isFunction(a) ? a() : a), "replaceWith", a) : this }, detach: function (a) { return this.remove(a, !0) }, domManip: function (a, c, d) { var e, g, h, i, j = a[0], k = []; if (!f.support.checkClone && arguments.length === 3 && typeof j == "string" && bg.test(j)) { return this.each(function () { f(this).domManip(a, c, d, !0) }) } if (f.isFunction(j)) { return this.each(function (e) { var g = f(this); a[0] = j.call(this, e, c ? g.html() : b), g.domManip(a, c, d) }) } if (this[0]) { i = j && j.parentNode, f.support.parentNode && i && i.nodeType === 11 && i.childNodes.length === this.length ? e = { fragment: i} : e = f.buildFragment(a, this, k), h = e.fragment, h.childNodes.length === 1 ? g = h = h.firstChild : g = h.firstChild; if (g) { c = c && f.nodeName(g, "tr"); for (var l = 0, m = this.length, n = m - 1; l < m; l++) { d.call(c ? bl(this[l], g) : this[l], e.cacheable || m > 1 && l < n ? f.clone(h, !0, !0) : h) } } k.length && f.each(k, br) } return this } }), f.buildFragment = function (a, b, d) { var e, g, h, i, j = a[0]; b && b[0] && (i = b[0].ownerDocument || b[0]), i.createDocumentFragment || (i = c), a.length === 1 && typeof j == "string" && j.length < 512 && i === c && j.charAt(0) === "<" && !be.test(j) && (f.support.checkClone || !bg.test(j)) && !f.support.unknownElems && bf.test(j) && (g = !0, h = f.fragments[j], h && h !== 1 && (e = h)), e || (e = i.createDocumentFragment(), f.clean(a, i, e, d)), g && (f.fragments[j] = h ? e : 1); return { fragment: e, cacheable: g} }, f.fragments = {}, f.each({ appendTo: "append", prependTo: "prepend", insertBefore: "before", insertAfter: "after", replaceAll: "replaceWith" }, function (a, b) { f.fn[a] = function (c) { var d = [], e = f(c), g = this.length === 1 && this[0].parentNode; if (g && g.nodeType === 11 && g.childNodes.length === 1 && e.length === 1) { e[b](this[0]); return this } for (var h = 0, i = e.length; h < i; h++) { var j = (h > 0 ? this.clone(!0) : this).get(); f(e[h])[b](j), d = d.concat(j) } return this.pushStack(d, a, e.selector) } }), f.extend({ clone: function (a, b, c) { var d = a.cloneNode(!0), e, g, h; if ((!f.support.noCloneEvent || !f.support.noCloneChecked) && (a.nodeType === 1 || a.nodeType === 11) && !f.isXMLDoc(a)) { bn(a, d), e = bo(a), g = bo(d); for (h = 0; e[h]; ++h) { g[h] && bn(e[h], g[h]) } } if (b) { bm(a, d); if (c) { e = bo(a), g = bo(d); for (h = 0; e[h]; ++h) { bm(e[h], g[h]) } } } e = g = null; return d }, clean: function (a, b, d, e) { var g; b = b || c, typeof b.createElement == "undefined" && (b = b.ownerDocument || b[0] && b[0].ownerDocument || c); var h = [], i; for (var j = 0, k; (k = a[j]) != null; j++) { typeof k == "number" && (k += ""); if (!k) { continue } if (typeof k == "string") { if (!bc.test(k)) { k = b.createTextNode(k) } else { k = k.replace(_, "<$1></$2>"); var l = (ba.exec(k) || ["", ""])[1].toLowerCase(), m = bj[l] || bj._default, n = m[0], o = b.createElement("div"); b === c ? bk.appendChild(o) : X(b).appendChild(o), o.innerHTML = m[1] + k + m[2]; while (n--) { o = o.lastChild } if (!f.support.tbody) { var p = bb.test(k), q = l === "table" && !p ? o.firstChild && o.firstChild.childNodes : m[1] === "<table>" && !p ? o.childNodes : []; for (i = q.length - 1; i >= 0; --i) { f.nodeName(q[i], "tbody") && !q[i].childNodes.length && q[i].parentNode.removeChild(q[i]) } } !f.support.leadingWhitespace && $.test(k) && o.insertBefore(b.createTextNode($.exec(k)[0]), o.firstChild), k = o.childNodes } } var r; if (!f.support.appendChecked) { if (k[0] && typeof (r = k.length) == "number") { for (i = 0; i < r; i++) { bq(k[i]) } } else { bq(k) } } k.nodeType ? h.push(k) : h = f.merge(h, k) } if (d) { g = function (a) { return !a.type || bh.test(a.type) }; for (j = 0; h[j]; j++) { if (e && f.nodeName(h[j], "script") && (!h[j].type || h[j].type.toLowerCase() === "text/javascript")) { e.push(h[j].parentNode ? h[j].parentNode.removeChild(h[j]) : h[j]) } else { if (h[j].nodeType === 1) { var s = f.grep(h[j].getElementsByTagName("script"), g); h.splice.apply(h, [j + 1, 0].concat(s)) } d.appendChild(h[j]) } } } return h }, cleanData: function (a) { var b, c, d = f.cache, e = f.event.special, g = f.support.deleteExpando; for (var h = 0, i; (i = a[h]) != null; h++) { if (i.nodeName && f.noData[i.nodeName.toLowerCase()]) { continue } c = i[f.expando]; if (c) { b = d[c]; if (b && b.events) { for (var j in b.events) { e[j] ? f.event.remove(i, j) : f.removeEvent(i, j, b.handle) } b.handle && (b.handle.elem = null) } g ? delete i[f.expando] : i.removeAttribute && i.removeAttribute(f.expando), delete d[c] } } } }); var bs = /alpha\([^)]*\)/i, bt = /opacity=([^)]*)/, bu = /([A-Z]|^ms)/g, bv = /^-?\d+(?:px)?$/i, bw = /^-?\d/, bx = /^([\-+])=([\-+.\de]+)/, by = { position: "absolute", visibility: "hidden", display: "block" }, bz = ["Left", "Right"], bA = ["Top", "Bottom"], bB, bC, bD; f.fn.css = function (a, c) { if (arguments.length === 2 && c === b) { return this } return f.access(this, a, c, !0, function (a, c, d) { return d !== b ? f.style(a, c, d) : f.css(a, c) }) }, f.extend({ cssHooks: { opacity: { get: function (a, b) { if (b) { var c = bB(a, "opacity", "opacity"); return c === "" ? "1" : c } return a.style.opacity } } }, cssNumber: { fillOpacity: !0, fontWeight: !0, lineHeight: !0, opacity: !0, orphans: !0, widows: !0, zIndex: !0, zoom: !0 }, cssProps: { "float": f.support.cssFloat ? "cssFloat" : "styleFloat" }, style: function (a, c, d, e) { if (!!a && a.nodeType !== 3 && a.nodeType !== 8 && !!a.style) { var g, h, i = f.camelCase(c), j = a.style, k = f.cssHooks[i]; c = f.cssProps[i] || i; if (d === b) { if (k && "get" in k && (g = k.get(a, !1, e)) !== b) { return g } return j[c] } h = typeof d, h === "string" && (g = bx.exec(d)) && (d = +(g[1] + 1) * +g[2] + parseFloat(f.css(a, c)), h = "number"); if (d == null || h === "number" && isNaN(d)) { return } h === "number" && !f.cssNumber[i] && (d += "px"); if (!k || !("set" in k) || (d = k.set(a, d)) !== b) { try { j[c] = d } catch (l) { } } } }, css: function (a, c, d) { var e, g; c = f.camelCase(c), g = f.cssHooks[c], c = f.cssProps[c] || c, c === "cssFloat" && (c = "float"); if (g && "get" in g && (e = g.get(a, !0, d)) !== b) { return e } if (bB) { return bB(a, c) } }, swap: function (a, b, c) { var d = {}; for (var e in b) { d[e] = a.style[e], a.style[e] = b[e] } c.call(a); for (e in b) { a.style[e] = d[e] } } }), f.curCSS = f.css, f.each(["height", "width"], function (a, b) { f.cssHooks[b] = { get: function (a, c, d) { var e; if (c) { if (a.offsetWidth !== 0) { return bE(a, b, d) } f.swap(a, by, function () { e = bE(a, b, d) }); return e } }, set: function (a, b) { if (!bv.test(b)) { return b } b = parseFloat(b); if (b >= 0) { return b + "px" } } } }), f.support.opacity || (f.cssHooks.opacity = { get: function (a, b) { return bt.test((b && a.currentStyle ? a.currentStyle.filter : a.style.filter) || "") ? parseFloat(RegExp.$1) / 100 + "" : b ? "1" : "" }, set: function (a, b) { var c = a.style, d = a.currentStyle, e = f.isNumeric(b) ? "alpha(opacity=" + b * 100 + ")" : "", g = d && d.filter || c.filter || ""; c.zoom = 1; if (b >= 1 && f.trim(g.replace(bs, "")) === "") { c.removeAttribute("filter"); if (d && !d.filter) { return } } c.filter = bs.test(g) ? g.replace(bs, e) : g + " " + e } }), f(function () { f.support.reliableMarginRight || (f.cssHooks.marginRight = { get: function (a, b) { var c; f.swap(a, { display: "inline-block" }, function () { b ? c = bB(a, "margin-right", "marginRight") : c = a.style.marginRight }); return c } }) }), c.defaultView && c.defaultView.getComputedStyle && (bC = function (a, c) { var d, e, g; c = c.replace(bu, "-$1").toLowerCase(); if (!(e = a.ownerDocument.defaultView)) { return b } if (g = e.getComputedStyle(a, null)) { d = g.getPropertyValue(c), d === "" && !f.contains(a.ownerDocument.documentElement, a) && (d = f.style(a, c)) } return d }), c.documentElement.currentStyle && (bD = function (a, b) { var c, d, e, f = a.currentStyle && a.currentStyle[b], g = a.style; f === null && g && (e = g[b]) && (f = e), !bv.test(f) && bw.test(f) && (c = g.left, d = a.runtimeStyle && a.runtimeStyle.left, d && (a.runtimeStyle.left = a.currentStyle.left), g.left = b === "fontSize" ? "1em" : f || 0, f = g.pixelLeft + "px", g.left = c, d && (a.runtimeStyle.left = d)); return f === "" ? "auto" : f }), bB = bC || bD, f.expr && f.expr.filters && (f.expr.filters.hidden = function (a) { var b = a.offsetWidth, c = a.offsetHeight; return b === 0 && c === 0 || !f.support.reliableHiddenOffsets && (a.style && a.style.display || f.css(a, "display")) === "none" }, f.expr.filters.visible = function (a) { return !f.expr.filters.hidden(a) }); var bF = /%20/g, bG = /\[\]$/, bH = /\r?\n/g, bI = /#.*$/, bJ = /^(.*?):[ \t]*([^\r\n]*)\r?$/mg, bK = /^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i, bL = /^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/, bM = /^(?:GET|HEAD)$/, bN = /^\/\//, bO = /\?/, bP = /<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, bQ = /^(?:select|textarea)/i, bR = /\s+/, bS = /([?&])_=[^&]*/, bT = /^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/, bU = f.fn.load, bV = {}, bW = {}, bX, bY, bZ = ["*/"] + ["*"]; try { bX = e.href } catch (b$) { bX = c.createElement("a"), bX.href = "", bX = bX.href } bY = bT.exec(bX.toLowerCase()) || [], f.fn.extend({ load: function (a, c, d) { if (typeof a != "string" && bU) { return bU.apply(this, arguments) } if (!this.length) { return this } var e = a.indexOf(" "); if (e >= 0) { var g = a.slice(e, a.length); a = a.slice(0, e) } var h = "GET"; c && (f.isFunction(c) ? (d = c, c = b) : typeof c == "object" && (c = f.param(c, f.ajaxSettings.traditional), h = "POST")); var i = this; f.ajax({ url: a, type: h, dataType: "html", data: c, complete: function (a, b, c) { c = a.responseText, a.isResolved() && (a.done(function (a) { c = a }), i.html(g ? f("<div>").append(c.replace(bP, "")).find(g) : c)), d && i.each(d, [c, b, a]) } }); return this }, serialize: function () { return f.param(this.serializeArray()) }, serializeArray: function () { return this.map(function () { return this.elements ? f.makeArray(this.elements) : this }).filter(function () { return this.name && !this.disabled && (this.checked || bQ.test(this.nodeName) || bK.test(this.type)) }).map(function (a, b) { var c = f(this).val(); return c == null ? null : f.isArray(c) ? f.map(c, function (a, c) { return { name: b.name, value: a.replace(bH, "\r\n")} }) : { name: b.name, value: c.replace(bH, "\r\n")} }).get() } }), f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "), function (a, b) { f.fn[b] = function (a) { return this.bind(b, a) } }), f.each(["get", "post"], function (a, c) { f[c] = function (a, d, e, g) { f.isFunction(d) && (g = g || e, e = d, d = b); return f.ajax({ type: c, url: a, data: d, success: e, dataType: g }) } }), f.extend({ getScript: function (a, c) { return f.get(a, b, c, "script") }, getJSON: function (a, b, c) { return f.get(a, b, c, "json") }, ajaxSetup: function (a, b) { b ? cb(a, f.ajaxSettings) : (b = a, a = f.ajaxSettings), cb(a, b); return a }, ajaxSettings: { url: bX, isLocal: bL.test(bY[1]), global: !0, type: "GET", contentType: "application/x-www-form-urlencoded", processData: !0, async: !0, accepts: { xml: "application/xml, text/xml", html: "text/html", text: "text/plain", json: "application/json, text/javascript", "*": bZ }, contents: { xml: /xml/, html: /html/, json: /json/ }, responseFields: { xml: "responseXML", text: "responseText" }, converters: { "* text": a.String, "text html": !0, "text json": f.parseJSON, "text xml": f.parseXML }, flatOptions: { context: !0, url: !0} }, ajaxPrefilter: b_(bV), ajaxTransport: b_(bW), ajax: function (a, c) { function w(a, c, l, m) { if (s !== 2) { s = 2, q && clearTimeout(q), p = b, n = m || "", v.readyState = a > 0 ? 4 : 0; var o, r, u, w = c, x = l ? cd(d, v, l) : b, y, z; if (a >= 200 && a < 300 || a === 304) { if (d.ifModified) { if (y = v.getResponseHeader("Last-Modified")) { f.lastModified[k] = y } if (z = v.getResponseHeader("Etag")) { f.etag[k] = z } } if (a === 304) { w = "notmodified", o = !0 } else { try { r = ce(d, x), w = "success", o = !0 } catch (A) { w = "parsererror", u = A } } } else { u = w; if (!w || a) { w = "error", a < 0 && (a = 0) } } v.status = a, v.statusText = "" + (c || w), o ? h.resolveWith(e, [r, w, v]) : h.rejectWith(e, [v, w, u]), v.statusCode(j), j = b, t && g.trigger("ajax" + (o ? "Success" : "Error"), [v, d, o ? r : u]), i.fireWith(e, [v, w]), t && (g.trigger("ajaxComplete", [v, d]), --f.active || f.event.trigger("ajaxStop")) } } typeof a == "object" && (c = a, a = b), c = c || {}; var d = f.ajaxSetup({}, c), e = d.context || d, g = e !== d && (e.nodeType || e instanceof f) ? f(e) : f.event, h = f.Deferred(), i = f.Callbacks("once memory"), j = d.statusCode || {}, k, l = {}, m = {}, n, o, p, q, r, s = 0, t, u, v = { readyState: 0, setRequestHeader: function (a, b) { if (!s) { var c = a.toLowerCase(); a = m[c] = m[c] || a, l[a] = b } return this }, getAllResponseHeaders: function () { return s === 2 ? n : null }, getResponseHeader: function (a) { var c; if (s === 2) { if (!o) { o = {}; while (c = bJ.exec(n)) { o[c[1].toLowerCase()] = c[2] } } c = o[a.toLowerCase()] } return c === b ? null : c }, overrideMimeType: function (a) { s || (d.mimeType = a); return this }, abort: function (a) { a = a || "abort", p && p.abort(a), w(0, a); return this } }; h.promise(v), v.success = v.done, v.error = v.fail, v.complete = i.add, v.statusCode = function (a) { if (a) { var b; if (s < 2) { for (b in a) { j[b] = [j[b], a[b]] } } else { b = a[v.status], v.then(b, b) } } return this }, d.url = ((a || d.url) + "").replace(bI, "").replace(bN, bY[1] + "//"), d.dataTypes = f.trim(d.dataType || "*").toLowerCase().split(bR), d.crossDomain == null && (r = bT.exec(d.url.toLowerCase()), d.crossDomain = !(!r || r[1] == bY[1] && r[2] == bY[2] && (r[3] || (r[1] === "http:" ? 80 : 443)) == (bY[3] || (bY[1] === "http:" ? 80 : 443)))), d.data && d.processData && typeof d.data != "string" && (d.data = f.param(d.data, d.traditional)), ca(bV, d, c, v); if (s === 2) { return !1 } t = d.global, d.type = d.type.toUpperCase(), d.hasContent = !bM.test(d.type), t && f.active++ === 0 && f.event.trigger("ajaxStart"); if (!d.hasContent) { d.data && (d.url += (bO.test(d.url) ? "&" : "?") + d.data, delete d.data), k = d.url; if (d.cache === !1) { var x = f.now(), y = d.url.replace(bS, "$1_=" + x); d.url = y + (y === d.url ? (bO.test(d.url) ? "&" : "?") + "_=" + x : "") } } (d.data && d.hasContent && d.contentType !== !1 || c.contentType) && v.setRequestHeader("Content-Type", d.contentType), d.ifModified && (k = k || d.url, f.lastModified[k] && v.setRequestHeader("If-Modified-Since", f.lastModified[k]), f.etag[k] && v.setRequestHeader("If-None-Match", f.etag[k])), v.setRequestHeader("Accept", d.dataTypes[0] && d.accepts[d.dataTypes[0]] ? d.accepts[d.dataTypes[0]] + (d.dataTypes[0] !== "*" ? ", " + bZ + "; q=0.01" : "") : d.accepts["*"]); for (u in d.headers) { v.setRequestHeader(u, d.headers[u]) } if (d.beforeSend && (d.beforeSend.call(e, v, d) === !1 || s === 2)) { v.abort(); return !1 } for (u in { success: 1, error: 1, complete: 1 }) { v[u](d[u]) } p = ca(bW, d, c, v); if (!p) { w(-1, "No Transport") } else { v.readyState = 1, t && g.trigger("ajaxSend", [v, d]), d.async && d.timeout > 0 && (q = setTimeout(function () { v.abort("timeout") }, d.timeout)); try { s = 1, p.send(l, w) } catch (z) { s < 2 ? w(-1, z) : f.error(z) } } return v }, param: function (a, c) { var d = [], e = function (a, b) { b = f.isFunction(b) ? b() : b, d[d.length] = encodeURIComponent(a) + "=" + encodeURIComponent(b) }; c === b && (c = f.ajaxSettings.traditional); if (f.isArray(a) || a.jquery && !f.isPlainObject(a)) { f.each(a, function () { e(this.name, this.value) }) } else { for (var g in a) { cc(g, a[g], c, e) } } return d.join("&").replace(bF, "+") } }), f.extend({ active: 0, lastModified: {}, etag: {} }); var cf = f.now(), cg = /(\=)\?(&|$)|\?\?/i; f.ajaxSetup({ jsonp: "callback", jsonpCallback: function () { return f.expando + "_" + cf++ } }), f.ajaxPrefilter("json jsonp", function (b, c, d) { var e = b.contentType === "application/x-www-form-urlencoded" && typeof b.data == "string"; if (b.dataTypes[0] === "jsonp" || b.jsonp !== !1 && (cg.test(b.url) || e && cg.test(b.data))) { var g, h = b.jsonpCallback = f.isFunction(b.jsonpCallback) ? b.jsonpCallback() : b.jsonpCallback, i = a[h], j = b.url, k = b.data, l = "$1" + h + "$2"; b.jsonp !== !1 && (j = j.replace(cg, l), b.url === j && (e && (k = k.replace(cg, l)), b.data === k && (j += (/\?/.test(j) ? "&" : "?") + b.jsonp + "=" + h))), b.url = j, b.data = k, a[h] = function (a) { g = [a] }, d.always(function () { a[h] = i, g && f.isFunction(i) && a[h](g[0]) }), b.converters["script json"] = function () { g || f.error(h + " was not called"); return g[0] }, b.dataTypes[0] = "json"; return "script" } }), f.ajaxSetup({ accepts: { script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript" }, contents: { script: /javascript|ecmascript/ }, converters: { "text script": function (a) { f.globalEval(a); return a } } }), f.ajaxPrefilter("script", function (a) { a.cache === b && (a.cache = !1), a.crossDomain && (a.type = "GET", a.global = !1) }), f.ajaxTransport("script", function (a) { if (a.crossDomain) { var d, e = c.head || c.getElementsByTagName("head")[0] || c.documentElement; return { send: function (f, g) { d = c.createElement("script"), d.async = "async", a.scriptCharset && (d.charset = a.scriptCharset), d.src = a.url, d.onload = d.onreadystatechange = function (a, c) { if (c || !d.readyState || /loaded|complete/.test(d.readyState)) { d.onload = d.onreadystatechange = null, e && d.parentNode && e.removeChild(d), d = b, c || g(200, "success") } }, e.insertBefore(d, e.firstChild) }, abort: function () { d && d.onload(0, 1) } } } }); var ch = a.ActiveXObject ? function () { for (var a in cj) { cj[a](0, 1) } } : !1, ci = 0, cj; f.ajaxSettings.xhr = a.ActiveXObject ? function () { return !this.isLocal && ck() || cl() } : ck, function (a) { f.extend(f.support, { ajax: !!a, cors: !!a && "withCredentials" in a }) } (f.ajaxSettings.xhr()), f.support.ajax && f.ajaxTransport(function (c) { if (!c.crossDomain || f.support.cors) { var d; return { send: function (e, g) { var h = c.xhr(), i, j; c.username ? h.open(c.type, c.url, c.async, c.username, c.password) : h.open(c.type, c.url, c.async); if (c.xhrFields) { for (j in c.xhrFields) { h[j] = c.xhrFields[j] } } c.mimeType && h.overrideMimeType && h.overrideMimeType(c.mimeType), !c.crossDomain && !e["X-Requested-With"] && (e["X-Requested-With"] = "XMLHttpRequest"); try { for (j in e) { h.setRequestHeader(j, e[j]) } } catch (k) { } h.send(c.hasContent && c.data || null), d = function (a, e) { var j, k, l, m, n; try { if (d && (e || h.readyState === 4)) { d = b, i && (h.onreadystatechange = f.noop, ch && delete cj[i]); if (e) { h.readyState !== 4 && h.abort() } else { j = h.status, l = h.getAllResponseHeaders(), m = {}, n = h.responseXML, n && n.documentElement && (m.xml = n), m.text = h.responseText; try { k = h.statusText } catch (o) { k = "" } !j && c.isLocal && !c.crossDomain ? j = m.text ? 200 : 404 : j === 1223 && (j = 204) } } } catch (p) { e || g(-1, p) } m && g(j, k, m, l) }, !c.async || h.readyState === 4 ? d() : (i = ++ci, ch && (cj || (cj = {}, f(a).unload(ch)), cj[i] = d), h.onreadystatechange = d) }, abort: function () { d && d(0, 1) } } } }); var cm = {}, cn, co, cp = /^(?:toggle|show|hide)$/, cq = /^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i, cr, cs = [["height", "marginTop", "marginBottom", "paddingTop", "paddingBottom"], ["width", "marginLeft", "marginRight", "paddingLeft", "paddingRight"], ["opacity"]], ct; f.fn.extend({ show: function (a, b, c) { var d, e; if (a || a === 0) { return this.animate(cw("show", 3), a, b, c) } for (var g = 0, h = this.length; g < h; g++) { d = this[g], d.style && (e = d.style.display, !f._data(d, "olddisplay") && e === "none" && (e = d.style.display = ""), e === "" && f.css(d, "display") === "none" && f._data(d, "olddisplay", cx(d.nodeName))) } for (g = 0; g < h; g++) { d = this[g]; if (d.style) { e = d.style.display; if (e === "" || e === "none") { d.style.display = f._data(d, "olddisplay") || "" } } } return this }, hide: function (a, b, c) { if (a || a === 0) { return this.animate(cw("hide", 3), a, b, c) } var d, e, g = 0, h = this.length; for (; g < h; g++) { d = this[g], d.style && (e = f.css(d, "display"), e !== "none" && !f._data(d, "olddisplay") && f._data(d, "olddisplay", e)) } for (g = 0; g < h; g++) { this[g].style && (this[g].style.display = "none") } return this }, _toggle: f.fn.toggle, toggle: function (a, b, c) { var d = typeof a == "boolean"; f.isFunction(a) && f.isFunction(b) ? this._toggle.apply(this, arguments) : a == null || d ? this.each(function () { var b = d ? a : f(this).is(":hidden"); f(this)[b ? "show" : "hide"]() }) : this.animate(cw("toggle", 3), a, b, c); return this }, fadeTo: function (a, b, c, d) { return this.filter(":hidden").css("opacity", 0).show().end().animate({ opacity: b }, a, c, d) }, animate: function (a, b, c, d) { function g() { e.queue === !1 && f._mark(this); var b = f.extend({}, e), c = this.nodeType === 1, d = c && f(this).is(":hidden"), g, h, i, j, k, l, m, n, o; b.animatedProperties = {}; for (i in a) { g = f.camelCase(i), i !== g && (a[g] = a[i], delete a[i]), h = a[g], f.isArray(h) ? (b.animatedProperties[g] = h[1], h = a[g] = h[0]) : b.animatedProperties[g] = b.specialEasing && b.specialEasing[g] || b.easing || "swing"; if (h === "hide" && d || h === "show" && !d) { return b.complete.call(this) } c && (g === "height" || g === "width") && (b.overflow = [this.style.overflow, this.style.overflowX, this.style.overflowY], f.css(this, "display") === "inline" && f.css(this, "float") === "none" && (!f.support.inlineBlockNeedsLayout || cx(this.nodeName) === "inline" ? this.style.display = "inline-block" : this.style.zoom = 1)) } b.overflow != null && (this.style.overflow = "hidden"); for (i in a) { j = new f.fx(this, b, i), h = a[i], cp.test(h) ? (o = f._data(this, "toggle" + i) || (h === "toggle" ? d ? "show" : "hide" : 0), o ? (f._data(this, "toggle" + i, o === "show" ? "hide" : "show"), j[o]()) : j[h]()) : (k = cq.exec(h), l = j.cur(), k ? (m = parseFloat(k[2]), n = k[3] || (f.cssNumber[i] ? "" : "px"), n !== "px" && (f.style(this, i, (m || 1) + n), l = (m || 1) / j.cur() * l, f.style(this, i, l + n)), k[1] && (m = (k[1] === "-=" ? -1 : 1) * m + l), j.custom(l, m, n)) : j.custom(l, h, "")) } return !0 } var e = f.speed(b, c, d); if (f.isEmptyObject(a)) { return this.each(e.complete, [!1]) } a = f.extend({}, a); return e.queue === !1 ? this.each(g) : this.queue(e.queue, g) }, stop: function (a, c, d) { typeof a != "string" && (d = c, c = a, a = b), c && a !== !1 && this.queue(a || "fx", []); return this.each(function () { function h(a, b, c) { var e = b[c]; f.removeData(a, c, !0), e.stop(d) } var b, c = !1, e = f.timers, g = f._data(this); d || f._unmark(!0, this); if (a == null) { for (b in g) { g[b].stop && b.indexOf(".run") === b.length - 4 && h(this, g, b) } } else { g[b = a + ".run"] && g[b].stop && h(this, g, b) } for (b = e.length; b--; ) { e[b].elem === this && (a == null || e[b].queue === a) && (d ? e[b](!0) : e[b].saveState(), c = !0, e.splice(b, 1)) } (!d || !c) && f.dequeue(this, a) }) } }), f.each({ slideDown: cw("show", 1), slideUp: cw("hide", 1), slideToggle: cw("toggle", 1), fadeIn: { opacity: "show" }, fadeOut: { opacity: "hide" }, fadeToggle: { opacity: "toggle"} }, function (a, b) { f.fn[a] = function (a, c, d) { return this.animate(b, a, c, d) } }), f.extend({ speed: function (a, b, c) { var d = a && typeof a == "object" ? f.extend({}, a) : { complete: c || !c && b || f.isFunction(a) && a, duration: a, easing: c && b || b && !f.isFunction(b) && b }; d.duration = f.fx.off ? 0 : typeof d.duration == "number" ? d.duration : d.duration in f.fx.speeds ? f.fx.speeds[d.duration] : f.fx.speeds._default; if (d.queue == null || d.queue === !0) { d.queue = "fx" } d.old = d.complete, d.complete = function (a) { f.isFunction(d.old) && d.old.call(this), d.queue ? f.dequeue(this, d.queue) : a !== !1 && f._unmark(this) }; return d }, easing: { linear: function (a, b, c, d) { return c + d * a }, swing: function (a, b, c, d) { return (-Math.cos(a * Math.PI) / 2 + 0.5) * d + c } }, timers: [], fx: function (a, b, c) { this.options = b, this.elem = a, this.prop = c, b.orig = b.orig || {} } }), f.fx.prototype = { update: function () { this.options.step && this.options.step.call(this.elem, this.now, this), (f.fx.step[this.prop] || f.fx.step._default)(this) }, cur: function () { if (this.elem[this.prop] != null && (!this.elem.style || this.elem.style[this.prop] == null)) { return this.elem[this.prop] } var a, b = f.css(this.elem, this.prop); return isNaN(a = parseFloat(b)) ? !b || b === "auto" ? 0 : b : a }, custom: function (a, c, d) { function h(a) { return e.step(a) } var e = this, g = f.fx; this.startTime = ct || cu(), this.end = c, this.now = this.start = a, this.pos = this.state = 0, this.unit = d || this.unit || (f.cssNumber[this.prop] ? "" : "px"), h.queue = this.options.queue, h.elem = this.elem, h.saveState = function () { e.options.hide && f._data(e.elem, "fxshow" + e.prop) === b && f._data(e.elem, "fxshow" + e.prop, e.start) }, h() && f.timers.push(h) && !cr && (cr = setInterval(g.tick, g.interval)) }, show: function () { var a = f._data(this.elem, "fxshow" + this.prop); this.options.orig[this.prop] = a || f.style(this.elem, this.prop), this.options.show = !0, a !== b ? this.custom(this.cur(), a) : this.custom(this.prop === "width" || this.prop === "height" ? 1 : 0, this.cur()), f(this.elem).show() }, hide: function () { this.options.orig[this.prop] = f._data(this.elem, "fxshow" + this.prop) || f.style(this.elem, this.prop), this.options.hide = !0, this.custom(this.cur(), 0) }, step: function (a) { var b, c, d, e = ct || cu(), g = !0, h = this.elem, i = this.options; if (a || e >= i.duration + this.startTime) { this.now = this.end, this.pos = this.state = 1, this.update(), i.animatedProperties[this.prop] = !0; for (b in i.animatedProperties) { i.animatedProperties[b] !== !0 && (g = !1) } if (g) { i.overflow != null && !f.support.shrinkWrapBlocks && f.each(["", "X", "Y"], function (a, b) { h.style["overflow" + b] = i.overflow[a] }), i.hide && f(h).hide(); if (i.hide || i.show) { for (b in i.animatedProperties) { f.style(h, b, i.orig[b]), f.removeData(h, "fxshow" + b, !0), f.removeData(h, "toggle" + b, !0) } } d = i.complete, d && (i.complete = !1, d.call(h)) } return !1 } i.duration == Infinity ? this.now = e : (c = e - this.startTime, this.state = c / i.duration, this.pos = f.easing[i.animatedProperties[this.prop]](this.state, c, 0, 1, i.duration), this.now = this.start + (this.end - this.start) * this.pos), this.update(); return !0 } }, f.extend(f.fx, { tick: function () { var a, b = f.timers, c = 0; for (; c < b.length; c++) { a = b[c], !a() && b[c] === a && b.splice(c--, 1) } b.length || f.fx.stop() }, interval: 13, stop: function () { clearInterval(cr), cr = null }, speeds: { slow: 600, fast: 200, _default: 400 }, step: { opacity: function (a) { f.style(a.elem, "opacity", a.now) }, _default: function (a) { a.elem.style && a.elem.style[a.prop] != null ? a.elem.style[a.prop] = a.now + a.unit : a.elem[a.prop] = a.now } } }), f.each(["width", "height"], function (a, b) { f.fx.step[b] = function (a) { f.style(a.elem, b, Math.max(0, a.now)) } }), f.expr && f.expr.filters && (f.expr.filters.animated = function (a) { return f.grep(f.timers, function (b) { return a === b.elem }).length }); var cy = /^t(?:able|d|h)$/i, cz = /^(?:body|html)$/i; "getBoundingClientRect" in c.documentElement ? f.fn.offset = function (a) { var b = this[0], c; if (a) { return this.each(function (b) { f.offset.setOffset(this, a, b) }) } if (!b || !b.ownerDocument) { return null } if (b === b.ownerDocument.body) { return f.offset.bodyOffset(b) } try { c = b.getBoundingClientRect() } catch (d) { } var e = b.ownerDocument, g = e.documentElement; if (!c || !f.contains(g, b)) { return c ? { top: c.top, left: c.left} : { top: 0, left: 0} } var h = e.body, i = cA(e), j = g.clientTop || h.clientTop || 0, k = g.clientLeft || h.clientLeft || 0, l = i.pageYOffset || f.support.boxModel && g.scrollTop || h.scrollTop, m = i.pageXOffset || f.support.boxModel && g.scrollLeft || h.scrollLeft, n = c.top + l - j, o = c.left + m - k; return { top: n, left: o} } : f.fn.offset = function (a) { var b = this[0]; if (a) { return this.each(function (b) { f.offset.setOffset(this, a, b) }) } if (!b || !b.ownerDocument) { return null } if (b === b.ownerDocument.body) { return f.offset.bodyOffset(b) } var c, d = b.offsetParent, e = b, g = b.ownerDocument, h = g.documentElement, i = g.body, j = g.defaultView, k = j ? j.getComputedStyle(b, null) : b.currentStyle, l = b.offsetTop, m = b.offsetLeft; while ((b = b.parentNode) && b !== i && b !== h) { if (f.support.fixedPosition && k.position === "fixed") { break } c = j ? j.getComputedStyle(b, null) : b.currentStyle, l -= b.scrollTop, m -= b.scrollLeft, b === d && (l += b.offsetTop, m += b.offsetLeft, f.support.doesNotAddBorder && (!f.support.doesAddBorderForTableAndCells || !cy.test(b.nodeName)) && (l += parseFloat(c.borderTopWidth) || 0, m += parseFloat(c.borderLeftWidth) || 0), e = d, d = b.offsetParent), f.support.subtractsBorderForOverflowNotVisible && c.overflow !== "visible" && (l += parseFloat(c.borderTopWidth) || 0, m += parseFloat(c.borderLeftWidth) || 0), k = c } if (k.position === "relative" || k.position === "static") { l += i.offsetTop, m += i.offsetLeft } f.support.fixedPosition && k.position === "fixed" && (l += Math.max(h.scrollTop, i.scrollTop), m += Math.max(h.scrollLeft, i.scrollLeft)); return { top: l, left: m} }, f.offset = { bodyOffset: function (a) { var b = a.offsetTop, c = a.offsetLeft; f.support.doesNotIncludeMarginInBodyOffset && (b += parseFloat(f.css(a, "marginTop")) || 0, c += parseFloat(f.css(a, "marginLeft")) || 0); return { top: b, left: c} }, setOffset: function (a, b, c) { var d = f.css(a, "position"); d === "static" && (a.style.position = "relative"); var e = f(a), g = e.offset(), h = f.css(a, "top"), i = f.css(a, "left"), j = (d === "absolute" || d === "fixed") && f.inArray("auto", [h, i]) > -1, k = {}, l = {}, m, n; j ? (l = e.position(), m = l.top, n = l.left) : (m = parseFloat(h) || 0, n = parseFloat(i) || 0), f.isFunction(b) && (b = b.call(a, c, g)), b.top != null && (k.top = b.top - g.top + m), b.left != null && (k.left = b.left - g.left + n), "using" in b ? b.using.call(a, k) : e.css(k) } }, f.fn.extend({ position: function () { if (!this[0]) { return null } var a = this[0], b = this.offsetParent(), c = this.offset(), d = cz.test(b[0].nodeName) ? { top: 0, left: 0} : b.offset(); c.top -= parseFloat(f.css(a, "marginTop")) || 0, c.left -= parseFloat(f.css(a, "marginLeft")) || 0, d.top += parseFloat(f.css(b[0], "borderTopWidth")) || 0, d.left += parseFloat(f.css(b[0], "borderLeftWidth")) || 0; return { top: c.top - d.top, left: c.left - d.left} }, offsetParent: function () { return this.map(function () { var a = this.offsetParent || c.body; while (a && !cz.test(a.nodeName) && f.css(a, "position") === "static") { a = a.offsetParent } return a }) } }), f.each(["Left", "Top"], function (a, c) { var d = "scroll" + c; f.fn[d] = function (c) { var e, g; if (c === b) { e = this[0]; if (!e) { return null } g = cA(e); return g ? "pageXOffset" in g ? g[a ? "pageYOffset" : "pageXOffset"] : f.support.boxModel && g.document.documentElement[d] || g.document.body[d] : e[d] } return this.each(function () { g = cA(this), g ? g.scrollTo(a ? f(g).scrollLeft() : c, a ? c : f(g).scrollTop()) : this[d] = c }) } }), f.each(["Height", "Width"], function (a, c) { var d = c.toLowerCase(); f.fn["inner" + c] = function () { var a = this[0]; return a ? a.style ? parseFloat(f.css(a, d, "padding")) : this[d]() : null }, f.fn["outer" + c] = function (a) { var b = this[0]; return b ? b.style ? parseFloat(f.css(b, d, a ? "margin" : "border")) : this[d]() : null }, f.fn[d] = function (a) { var e = this[0]; if (!e) { return a == null ? null : this } if (f.isFunction(a)) { return this.each(function (b) { var c = f(this); c[d](a.call(this, b, c[d]())) }) } if (f.isWindow(e)) { var g = e.document.documentElement["client" + c], h = e.document.body; return e.document.compatMode === "CSS1Compat" && g || h && h["client" + c] || g } if (e.nodeType === 9) { return Math.max(e.documentElement["client" + c], e.body["scroll" + c], e.documentElement["scroll" + c], e.body["offset" + c], e.documentElement["offset" + c]) } if (a === b) { var i = f.css(e, d), j = parseFloat(i); return f.isNumeric(j) ? j : i } return this.css(d, typeof a == "string" ? a : a + "px") } }), a.jQuery = a.$ = f })(window); (function (e, d) { function b(f, c) { var g = f.nodeName.toLowerCase(); if ("area" === g) { c = f.parentNode; g = c.name; if (!f.href || !g || c.nodeName.toLowerCase() !== "map") { return false } f = e("img[usemap=#" + g + "]")[0]; return !!f && a(f) } return (/input|select|textarea|button|object/.test(g) ? !f.disabled : "a" == g ? f.href || c : c) && a(f) } function a(c) { return !e(c).parents().andSelf().filter(function () { return e.curCSS(this, "visibility") === "hidden" || e.expr.filters.hidden(this) }).length } e.ui = e.ui || {}; if (!e.ui.version) { e.extend(e.ui, { version: "1.8.16", keyCode: { ALT: 18, BACKSPACE: 8, CAPS_LOCK: 20, COMMA: 188, COMMAND: 91, COMMAND_LEFT: 91, COMMAND_RIGHT: 93, CONTROL: 17, DELETE: 46, DOWN: 40, END: 35, ENTER: 13, ESCAPE: 27, HOME: 36, INSERT: 45, LEFT: 37, MENU: 93, NUMPAD_ADD: 107, NUMPAD_DECIMAL: 110, NUMPAD_DIVIDE: 111, NUMPAD_ENTER: 108, NUMPAD_MULTIPLY: 106, NUMPAD_SUBTRACT: 109, PAGE_DOWN: 34, PAGE_UP: 33, PERIOD: 190, RIGHT: 39, SHIFT: 16, SPACE: 32, TAB: 9, UP: 38, WINDOWS: 91} }); e.fn.extend({ propAttr: e.fn.prop || e.fn.attr, _focus: e.fn.focus, focus: function (f, c) { return typeof f === "number" ? this.each(function () { var g = this; setTimeout(function () { e(g).focus(); c && c.call(g) }, f) }) : this._focus.apply(this, arguments) }, scrollParent: function () { var c; c = e.browser.msie && /(static|relative)/.test(this.css("position")) || /absolute/.test(this.css("position")) ? this.parents().filter(function () { return /(relative|absolute|fixed)/.test(e.curCSS(this, "position", 1)) && /(auto|scroll)/.test(e.curCSS(this, "overflow", 1) + e.curCSS(this, "overflow-y", 1) + e.curCSS(this, "overflow-x", 1)) }).eq(0) : this.parents().filter(function () { return /(auto|scroll)/.test(e.curCSS(this, "overflow", 1) + e.curCSS(this, "overflow-y", 1) + e.curCSS(this, "overflow-x", 1)) }).eq(0); return /fixed/.test(this.css("position")) || !c.length ? e(document) : c }, zIndex: function (f) { if (f !== d) { return this.css("zIndex", f) } if (this.length) { f = e(this[0]); for (var c; f.length && f[0] !== document; ) { c = f.css("position"); if (c === "absolute" || c === "relative" || c === "fixed") { c = parseInt(f.css("zIndex"), 10); if (!isNaN(c) && c !== 0) { return c } } f = f.parent() } } return 0 }, disableSelection: function () { return this.bind((e.support.selectstart ? "selectstart" : "mousedown") + ".ui-disableSelection", function (c) { c.preventDefault() }) }, enableSelection: function () { return this.unbind(".ui-disableSelection") } }); e.each(["Width", "Height"], function (f, c) { function l(q, o, h, r) { e.each(k, function () { o -= parseFloat(e.curCSS(q, "padding" + this, true)) || 0; if (h) { o -= parseFloat(e.curCSS(q, "border" + this + "Width", true)) || 0 } if (r) { o -= parseFloat(e.curCSS(q, "margin" + this, true)) || 0 } }); return o } var k = c === "Width" ? ["Left", "Right"] : ["Top", "Bottom"], j = c.toLowerCase(), g = { innerWidth: e.fn.innerWidth, innerHeight: e.fn.innerHeight, outerWidth: e.fn.outerWidth, outerHeight: e.fn.outerHeight }; e.fn["inner" + c] = function (h) { if (h === d) { return g["inner" + c].call(this) } return this.each(function () { e(this).css(j, l(this, h) + "px") }) }; e.fn["outer" + c] = function (m, h) { if (typeof m !== "number") { return g["outer" + c].call(this, m) } return this.each(function () { e(this).css(j, l(this, m, true, h) + "px") }) } }); e.extend(e.expr[":"], { data: function (f, c, g) { return !!e.data(f, g[3]) }, focusable: function (c) { return b(c, !isNaN(e.attr(c, "tabindex"))) }, tabbable: function (f) { var c = e.attr(f, "tabindex"), g = isNaN(c); return (g || c >= 0) && b(f, !g) } }); e(function () { var f = document.body, c = f.appendChild(c = document.createElement("div")); e.extend(c.style, { minHeight: "100px", height: "auto", padding: 0, borderWidth: 0 }); e.support.minHeight = c.offsetHeight === 100; e.support.selectstart = "onselectstart" in c; f.removeChild(c).style.display = "none" }); e.extend(e.ui, { plugin: { add: function (f, c, h) { f = e.ui[f].prototype; for (var g in h) { f.plugins[g] = f.plugins[g] || []; f.plugins[g].push([c, h[g]]) } }, call: function (f, c, h) { if ((c = f.plugins[c]) && f.element[0].parentNode) { for (var g = 0; g < c.length; g++) { f.options[c[g][0]] && c[g][1].apply(f.element, h) } } } }, contains: function (f, c) { return document.compareDocumentPosition ? f.compareDocumentPosition(c) & 16 : f !== c && f.contains(c) }, hasScroll: function (f, c) { if (e(f).css("overflow") === "hidden") { return false } c = c && c === "left" ? "scrollLeft" : "scrollTop"; var g = false; if (f[c] > 0) { return true } f[c] = 1; g = f[c] > 0; f[c] = 0; return g }, isOverAxis: function (f, c, g) { return f > c && f < c + g }, isOver: function (f, c, l, k, j, g) { return e.ui.isOverAxis(f, l, j) && e.ui.isOverAxis(c, k, g) } }) } })(jQuery); (function (a, e) { if (a.cleanData) { var d = a.cleanData; a.cleanData = function (b) { for (var h = 0, g; (g = b[h]) != null; h++) { try { a(g).triggerHandler("remove") } catch (f) { } } d(b) } } else { var c = a.fn.remove; a.fn.remove = function (b, f) { return this.each(function () { if (!f) { if (!b || a.filter(b, [this]).length) { a("*", this).add([this]).each(function () { try { a(this).triggerHandler("remove") } catch (g) { } }) } } return c.call(a(this), b, f) }) } } a.widget = function (b, k, j) { var h = b.split(".")[0], g; b = b.split(".")[1]; g = h + "-" + b; if (!j) { j = k; k = a.Widget } a.expr[":"][g] = function (f) { return !!a.data(f, b) }; a[h] = a[h] || {}; a[h][b] = function (f, l) { arguments.length && this._createWidget(f, l) }; k = new k; k.options = a.extend(true, {}, k.options); a[h][b].prototype = a.extend(true, k, { namespace: h, widgetName: b, widgetEventPrefix: a[h][b].prototype.widgetEventPrefix || b, widgetBaseClass: g }, j); a.widget.bridge(b, a[h][b]) }; a.widget.bridge = function (b, f) { a.fn[b] = function (l) { var k = typeof l === "string", j = Array.prototype.slice.call(arguments, 1), g = this; l = !k && j.length ? a.extend.apply(null, [true, l].concat(j)) : l; if (k && l.charAt(0) === "_") { return g } k ? this.each(function () { var m = a.data(this, b), h = m && a.isFunction(m[l]) ? m[l].apply(m, j) : m; if (h !== m && h !== e) { g = h; return false } }) : this.each(function () { var h = a.data(this, b); h ? h.option(l || {})._init() : a.data(this, b, new f(l, this)) }); return g } }; a.Widget = function (b, f) { arguments.length && this._createWidget(b, f) }; a.Widget.prototype = { widgetName: "widget", widgetEventPrefix: "", options: { disabled: false }, _createWidget: function (b, g) { a.data(g, this.widgetName, this); this.element = a(g); this.options = a.extend(true, {}, this.options, this._getCreateOptions(), b); var f = this; this.element.bind("remove." + this.widgetName, function () { f.destroy() }); this._create(); this._trigger("create"); this._init() }, _getCreateOptions: function () { return a.metadata && a.metadata.get(this.element[0])[this.widgetName] }, _create: function () { }, _init: function () { }, destroy: function () { this.element.unbind("." + this.widgetName).removeData(this.widgetName); this.widget().unbind("." + this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass + "-disabled ui-state-disabled") }, widget: function () { return this.element }, option: function (b, g) { var f = b; if (arguments.length === 0) { return a.extend({}, this.options) } if (typeof b === "string") { if (g === e) { return this.options[b] } f = {}; f[b] = g } this._setOptions(f); return this }, _setOptions: function (b) { var f = this; a.each(b, function (h, g) { f._setOption(h, g) }); return this }, _setOption: function (b, f) { this.options[b] = f; if (b === "disabled") { this.widget()[f ? "addClass" : "removeClass"](this.widgetBaseClass + "-disabled ui-state-disabled").attr("aria-disabled", f) } return this }, enable: function () { return this._setOption("disabled", false) }, disable: function () { return this._setOption("disabled", true) }, _trigger: function (b, k, j) { var h = this.options[b]; k = a.Event(k); k.type = (b === this.widgetEventPrefix ? b : this.widgetEventPrefix + b).toLowerCase(); j = j || {}; if (k.originalEvent) { b = a.event.props.length; for (var g; b; ) { g = a.event.props[--b]; k[g] = k.originalEvent[g] } } this.element.trigger(k, j); return !(a.isFunction(h) && h.call(this.element[0], k, j) === false || k.isDefaultPrevented()) } } })(jQuery); (function (a) { var c = false; a(document).mouseup(function () { c = false }); a.widget("ui.mouse", { options: { cancel: ":input,option", distance: 1, delay: 0 }, _mouseInit: function () { var b = this; this.element.bind("mousedown." + this.widgetName, function (d) { return b._mouseDown(d) }).bind("click." + this.widgetName, function (d) { if (true === a.data(d.target, b.widgetName + ".preventClickEvent")) { a.removeData(d.target, b.widgetName + ".preventClickEvent"); d.stopImmediatePropagation(); return false } }); this.started = false }, _mouseDestroy: function () { this.element.unbind("." + this.widgetName) }, _mouseDown: function (b) { if (!c) { this._mouseStarted && this._mouseUp(b); this._mouseDownEvent = b; var h = this, e = b.which == 1, d = typeof this.options.cancel == "string" && b.target.nodeName ? a(b.target).closest(this.options.cancel).length : false; if (!e || d || !this._mouseCapture(b)) { return true } this.mouseDelayMet = !this.options.delay; if (!this.mouseDelayMet) { this._mouseDelayTimer = setTimeout(function () { h.mouseDelayMet = true }, this.options.delay) } if (this._mouseDistanceMet(b) && this._mouseDelayMet(b)) { this._mouseStarted = this._mouseStart(b) !== false; if (!this._mouseStarted) { b.preventDefault(); return true } } true === a.data(b.target, this.widgetName + ".preventClickEvent") && a.removeData(b.target, this.widgetName + ".preventClickEvent"); this._mouseMoveDelegate = function (f) { return h._mouseMove(f) }; this._mouseUpDelegate = function (f) { return h._mouseUp(f) }; a(document).bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate); b.preventDefault(); return c = true } }, _mouseMove: function (b) { if (a.browser.msie && !(document.documentMode >= 9) && !b.button) { return this._mouseUp(b) } if (this._mouseStarted) { this._mouseDrag(b); return b.preventDefault() } if (this._mouseDistanceMet(b) && this._mouseDelayMet(b)) { (this._mouseStarted = this._mouseStart(this._mouseDownEvent, b) !== false) ? this._mouseDrag(b) : this._mouseUp(b) } return !this._mouseStarted }, _mouseUp: function (b) { a(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate); if (this._mouseStarted) { this._mouseStarted = false; b.target == this._mouseDownEvent.target && a.data(b.target, this.widgetName + ".preventClickEvent", true); this._mouseStop(b) } return false }, _mouseDistanceMet: function (b) { return Math.max(Math.abs(this._mouseDownEvent.pageX - b.pageX), Math.abs(this._mouseDownEvent.pageY - b.pageY)) >= this.options.distance }, _mouseDelayMet: function () { return this.mouseDelayMet }, _mouseStart: function () { }, _mouseDrag: function () { }, _mouseStop: function () { }, _mouseCapture: function () { return true } }) })(jQuery); (function (f) { f.ui = f.ui || {}; var e = /left|center|right/, d = /top|center|bottom/, b = f.fn.position, a = f.fn.offset; f.fn.position = function (c) { if (!c || !c.of) { return b.apply(this, arguments) } c = f.extend({}, c); var l = f(c.of), s = l[0], q = (c.collision || "flip").split(" "), r = c.offset ? c.offset.split(" ") : [0, 0], o, m, n; if (s.nodeType === 9) { o = l.width(); m = l.height(); n = { top: 0, left: 0} } else { if (s.setTimeout) { o = l.width(); m = l.height(); n = { top: l.scrollTop(), left: l.scrollLeft()} } else { if (s.preventDefault) { c.at = "left top"; o = m = 0; n = { top: c.of.pageY, left: c.of.pageX} } else { o = l.outerWidth(); m = l.outerHeight(); n = l.offset() } } } f.each(["my", "at"], function () { var g = (c[this] || "").split(" "); if (g.length === 1) { g = e.test(g[0]) ? g.concat(["center"]) : d.test(g[0]) ? ["center"].concat(g) : ["center", "center"] } g[0] = e.test(g[0]) ? g[0] : "center"; g[1] = d.test(g[1]) ? g[1] : "center"; c[this] = g }); if (q.length === 1) { q[1] = q[0] } r[0] = parseInt(r[0], 10) || 0; if (r.length === 1) { r[1] = r[0] } r[1] = parseInt(r[1], 10) || 0; if (c.at[0] === "right") { n.left += o } else { if (c.at[0] === "center") { n.left += o / 2 } } if (c.at[1] === "bottom") { n.top += m } else { if (c.at[1] === "center") { n.top += m / 2 } } n.left += r[0]; n.top += r[1]; return this.each(function () { var A = f(this), y = A.outerWidth(), k = A.outerHeight(), j = parseInt(f.curCSS(this, "marginLeft", true)) || 0, h = parseInt(f.curCSS(this, "marginTop", true)) || 0, C = y + j + (parseInt(f.curCSS(this, "marginRight", true)) || 0), B = k + h + (parseInt(f.curCSS(this, "marginBottom", true)) || 0), z = f.extend({}, n), g; if (c.my[0] === "right") { z.left -= y } else { if (c.my[0] === "center") { z.left -= y / 2 } } if (c.my[1] === "bottom") { z.top -= k } else { if (c.my[1] === "center") { z.top -= k / 2 } } z.left = Math.round(z.left); z.top = Math.round(z.top); g = { left: z.left - j, top: z.top - h }; f.each(["left", "top"], function (w, v) { f.ui.position[q[w]] && f.ui.position[q[w]][v](z, { targetWidth: o, targetHeight: m, elemWidth: y, elemHeight: k, collisionPosition: g, collisionWidth: C, collisionHeight: B, offset: r, my: c.my, at: c.at }) }); f.fn.bgiframe && A.bgiframe(); A.offset(f.extend(z, { using: c.using })) }) }; f.ui.position = { fit: { left: function (c, g) { var h = f(window); h = g.collisionPosition.left + g.collisionWidth - h.width() - h.scrollLeft(); c.left = h > 0 ? c.left - h : Math.max(c.left - g.collisionPosition.left, c.left) }, top: function (c, g) { var h = f(window); h = g.collisionPosition.top + g.collisionHeight - h.height() - h.scrollTop(); c.top = h > 0 ? c.top - h : Math.max(c.top - g.collisionPosition.top, c.top) } }, flip: { left: function (c, j) { if (j.at[0] !== "center") { var n = f(window); n = j.collisionPosition.left + j.collisionWidth - n.width() - n.scrollLeft(); var l = j.my[0] === "left" ? -j.elemWidth : j.my[0] === "right" ? j.elemWidth : 0, m = j.at[0] === "left" ? j.targetWidth : -j.targetWidth, k = -2 * j.offset[0]; c.left += j.collisionPosition.left < 0 ? l + m + k : n > 0 ? l + m + k : 0 } }, top: function (c, j) { if (j.at[1] !== "center") { var n = f(window); n = j.collisionPosition.top + j.collisionHeight - n.height() - n.scrollTop(); var l = j.my[1] === "top" ? -j.elemHeight : j.my[1] === "bottom" ? j.elemHeight : 0, m = j.at[1] === "top" ? j.targetHeight : -j.targetHeight, k = -2 * j.offset[1]; c.top += j.collisionPosition.top < 0 ? l + m + k : n > 0 ? l + m + k : 0 } } } }; if (!f.offset.setOffset) { f.offset.setOffset = function (c, j) { if (/static/.test(f.curCSS(c, "position"))) { c.style.position = "relative" } var n = f(c), l = n.offset(), m = parseInt(f.curCSS(c, "top", true), 10) || 0, k = parseInt(f.curCSS(c, "left", true), 10) || 0; l = { top: j.top - l.top + m, left: j.left - l.left + k }; "using" in j ? j.using.call(c, l) : n.css(l) }; f.fn.offset = function (c) { var g = this[0]; if (!g || !g.ownerDocument) { return null } if (c) { return this.each(function () { f.offset.setOffset(this, c) }) } return a.call(this) } } })(jQuery); (function (b) { var a = 0; b.widget("ui.autocomplete", { options: { appendTo: "body", autoFocus: false, delay: 300, minLength: 1, position: { my: "left top", at: "left bottom", collision: "none" }, source: null }, pending: 0, _create: function () { var d = this, c = this.element[0].ownerDocument, e; this.element.addClass("ui-autocomplete-input").attr("autocomplete", "off").attr({ role: "textbox", "aria-autocomplete": "list", "aria-haspopup": "true" }).bind("keydown.autocomplete", function (h) { if (!(d.options.disabled || d.element.propAttr("readOnly"))) { e = false; var g = b.ui.keyCode; switch (h.keyCode) { case g.PAGE_UP: d._move("previousPage", h); break; case g.PAGE_DOWN: d._move("nextPage", h); break; case g.UP: d._move("previous", h); h.preventDefault(); break; case g.DOWN: d._move("next", h); h.preventDefault(); break; case g.ENTER: case g.NUMPAD_ENTER: if (d.menu.active) { e = true; h.preventDefault() } case g.TAB: if (!d.menu.active) { return } d.menu.select(h); break; case g.ESCAPE: d.element.val(d.term); d.close(h); break; default: clearTimeout(d.searching); d.searching = setTimeout(function () { if (d.term != d.element.val()) { d.selectedItem = null; d.search(null, h) } }, d.options.delay); break } } }).bind("keypress.autocomplete", function (f) { if (e) { e = false; f.preventDefault() } }).bind("focus.autocomplete", function () { if (!d.options.disabled) { d.selectedItem = null; d.previous = d.element.val() } }).bind("blur.autocomplete", function (f) { if (!d.options.disabled) { clearTimeout(d.searching); d.closing = setTimeout(function () { d.close(f); d._change(f) }, 150) } }); this._initSource(); this.response = function () { return d._response.apply(d, arguments) }; this.menu = b("<ul></ul>").addClass("ui-autocomplete").appendTo(b(this.options.appendTo || "body", c)[0]).mousedown(function (h) { var g = d.menu.element[0]; b(h.target).closest(".ui-menu-item").length || setTimeout(function () { b(document).one("mousedown", function (f) { f.target !== d.element[0] && f.target !== g && !b.ui.contains(g, f.target) && d.close() }) }, 1); setTimeout(function () { clearTimeout(d.closing) }, 13) }).menu({ focus: function (h, g) { g = g.item.data("item.autocomplete"); false !== d._trigger("focus", h, { item: g }) && /^key/.test(h.originalEvent.type) && d.element.val(g.value) }, selected: function (l, k) { var j = k.item.data("item.autocomplete"), g = d.previous; if (d.element[0] !== c.activeElement) { d.element.focus(); d.previous = g; setTimeout(function () { d.previous = g; d.selectedItem = j }, 1) } false !== d._trigger("select", l, { item: j }) && d.element.val(j.value); d.term = d.element.val(); d.close(l); d.selectedItem = j }, blur: function () { d.menu.element.is(":visible") && d.element.val() !== d.term && d.element.val(d.term) } }).zIndex(this.element.zIndex() + 1).css({ top: 0, left: 0 }).hide().data("menu"); b.fn.bgiframe && this.menu.element.bgiframe() }, destroy: function () { this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"); this.menu.element.remove(); b.Widget.prototype.destroy.call(this) }, _setOption: function (d, c) { b.Widget.prototype._setOption.apply(this, arguments); d === "source" && this._initSource(); if (d === "appendTo") { this.menu.element.appendTo(b(c || "body", this.element[0].ownerDocument)[0]) } d === "disabled" && c && this.xhr && this.xhr.abort() }, _initSource: function () { var d = this, c, e; if (b.isArray(this.options.source)) { c = this.options.source; this.source = function (h, g) { g(b.ui.autocomplete.filter(c, h.term)) } } else { if (typeof this.options.source === "string") { e = this.options.source; this.source = function (h, g) { d.xhr && d.xhr.abort(); d.xhr = b.ajax({ url: e, data: h, dataType: "json", autocompleteRequest: ++a, success: function (f) { this.autocompleteRequest === a && g(f) }, error: function () { this.autocompleteRequest === a && g([]) } }) } } else { this.source = this.options.source } } }, search: function (d, c) { d = d != null ? d : this.element.val(); this.term = this.element.val(); if (d.length < this.options.minLength) { return this.close(c) } clearTimeout(this.closing); if (this._trigger("search", c) !== false) { return this._search(d) } }, _search: function (c) { this.pending++; this.element.addClass("ui-autocomplete-loading"); this.source({ term: c }, this.response) }, _response: function (c) { if (!this.options.disabled && c && c.length) { c = this._normalize(c); this._suggest(c); this._trigger("open") } else { this.close() } this.pending--; this.pending || this.element.removeClass("ui-autocomplete-loading") }, close: function (c) { clearTimeout(this.closing); if (this.menu.element.is(":visible")) { this.menu.element.hide(); this.menu.deactivate(); this._trigger("close", c) } }, _change: function (c) { this.previous !== this.element.val() && this._trigger("change", c, { item: this.selectedItem }) }, _normalize: function (c) { if (c.length && c[0].label && c[0].value) { return c } return b.map(c, function (d) { if (typeof d === "string") { return { label: d, value: d} } return b.extend({ label: d.label || d.value, value: d.value || d.label }, d) }) }, _suggest: function (d) { var c = this.menu.element.empty().zIndex(this.element.zIndex() + 1); this._renderMenu(c, d); this.menu.deactivate(); this.menu.refresh(); c.show(); this._resizeMenu(); c.position(b.extend({ of: this.element }, this.options.position)); this.options.autoFocus && this.menu.next(new b.Event("mouseover")) }, _resizeMenu: function () { var c = this.menu.element; c.outerWidth(Math.max(c.width("").outerWidth(), this.element.outerWidth())) }, _renderMenu: function (d, c) { var e = this; b.each(c, function (h, g) { e._renderItem(d, g) }) }, _renderItem: function (d, c) { return b("<li></li>").data("item.autocomplete", c).append(b("<a></a>").text(c.label)).appendTo(d) }, _move: function (d, c) { if (this.menu.element.is(":visible")) { if (this.menu.first() && /^previous/.test(d) || this.menu.last() && /^next/.test(d)) { this.element.val(this.term); this.menu.deactivate() } else { this.menu[d](c) } } else { this.search(null, c) } }, widget: function () { return this.menu.element } }); b.extend(b.ui.autocomplete, { escapeRegex: function (c) { return c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&") }, filter: function (d, c) { var e = new RegExp(b.ui.autocomplete.escapeRegex(c), "i"); return b.grep(d, function (f) { return e.test(f.label || f.value || f) }) } }) })(jQuery); (function (a) { a.widget("ui.menu", { _create: function () { var b = this; this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({ role: "listbox", "aria-activedescendant": "ui-active-menuitem" }).click(function (c) { if (a(c.target).closest(".ui-menu-item a").length) { c.preventDefault(); b.select(c) } }); this.refresh() }, refresh: function () { var b = this; this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role", "menuitem").children("a").addClass("ui-corner-all").attr("tabindex", -1).mouseenter(function (c) { b.activate(c, a(this).parent()) }).mouseleave(function () { b.deactivate() }) }, activate: function (j, f) { this.deactivate(); if (this.hasScroll()) { var d = f.offset().top - this.element.offset().top, h = this.element.scrollTop(), k = this.element.height(); if (d < 0) { this.element.scrollTop(h + d) } else { d >= k && this.element.scrollTop(h + d - k + f.height()) } } this.active = f.eq(0).children("a").addClass("ui-state-hover").attr("id", "ui-active-menuitem").end(); this._trigger("focus", j, { item: f }) }, deactivate: function () { if (this.active) { this.active.children("a").removeClass("ui-state-hover").removeAttr("id"); this._trigger("blur"); this.active = null } }, next: function (b) { this.move("next", ".ui-menu-item:first", b) }, previous: function (b) { this.move("prev", ".ui-menu-item:last", b) }, first: function () { return this.active && !this.active.prevAll(".ui-menu-item").length }, last: function () { return this.active && !this.active.nextAll(".ui-menu-item").length }, move: function (f, d, c) { if (this.active) { f = this.active[f + "All"](".ui-menu-item").eq(0); f.length ? this.activate(c, f) : this.activate(c, this.element.children(d)) } else { this.activate(c, this.element.children(d)) } }, nextPage: function (h) { if (this.hasScroll()) { if (!this.active || this.last()) { this.activate(h, this.element.children(".ui-menu-item:first")) } else { var d = this.active.offset().top, c = this.element.height(), f = this.element.children(".ui-menu-item").filter(function () { var b = a(this).offset().top - d - c + a(this).height(); return b < 10 && b > -10 }); f.length || (f = this.element.children(".ui-menu-item:last")); this.activate(h, f) } } else { this.activate(h, this.element.children(".ui-menu-item").filter(!this.active || this.last() ? ":first" : ":last")) } }, previousPage: function (f) { if (this.hasScroll()) { if (!this.active || this.first()) { this.activate(f, this.element.children(".ui-menu-item:last")) } else { var d = this.active.offset().top, c = this.element.height(); result = this.element.children(".ui-menu-item").filter(function () { var b = a(this).offset().top - d + c - a(this).height(); return b < 10 && b > -10 }); result.length || (result = this.element.children(".ui-menu-item:first")); this.activate(f, result) } } else { this.activate(f, this.element.children(".ui-menu-item").filter(!this.active || this.first() ? ":last" : ":first")) } }, hasScroll: function () { return this.element.height() < this.element[a.fn.prop ? "prop" : "attr"]("scrollHeight") }, select: function (b) { this._trigger("selected", b, { item: this.active }) } }) })(jQuery); (function (a) { a.widget("ui.slider", a.ui.mouse, { widgetEventPrefix: "slide", options: { animate: false, distance: 0, max: 100, min: 0, orientation: "horizontal", range: false, step: 1, value: 0, values: null }, _create: function () { var g = this, d = this.options, m = this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"), k = d.values && d.values.length || 1, l = []; this._mouseSliding = this._keySliding = false; this._animateOff = true; this._handleIndex = null; this._detectOrientation(); this._mouseInit(); this.element.addClass("ui-slider ui-slider-" + this.orientation + " ui-widget ui-widget-content ui-corner-all" + (d.disabled ? " ui-slider-disabled ui-disabled" : "")); this.range = a([]); if (d.range) { if (d.range === true) { if (!d.values) { d.values = [this._valueMin(), this._valueMin()] } if (d.values.length && d.values.length !== 2) { d.values = [d.values[0], d.values[0]] } } this.range = a("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header" + (d.range === "min" || d.range === "max" ? " ui-slider-range-" + d.range : "")) } for (var h = m.length; h < k; h += 1) { l.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>") } this.handles = m.add(a(l.join("")).appendTo(g.element)); this.handle = this.handles.eq(0); this.handles.add(this.range).filter("a").click(function (b) { b.preventDefault() }).hover(function () { d.disabled || a(this).addClass("ui-state-hover") }, function () { a(this).removeClass("ui-state-hover") }).focus(function () { if (d.disabled) { a(this).blur() } else { a(".ui-slider .ui-state-focus").removeClass("ui-state-focus"); a(this).addClass("ui-state-focus") } }).blur(function () { a(this).removeClass("ui-state-focus") }); this.handles.each(function (b) { a(this).data("index.ui-slider-handle", b) }); this.handles.keydown(function (n) { var e = true, c = a(this).data("index.ui-slider-handle"), f, j, b; if (!g.options.disabled) { switch (n.keyCode) { case a.ui.keyCode.HOME: case a.ui.keyCode.END: case a.ui.keyCode.PAGE_UP: case a.ui.keyCode.PAGE_DOWN: case a.ui.keyCode.UP: case a.ui.keyCode.RIGHT: case a.ui.keyCode.DOWN: case a.ui.keyCode.LEFT: e = false; if (!g._keySliding) { g._keySliding = true; a(this).addClass("ui-state-active"); f = g._start(n, c); if (f === false) { return } } break } b = g.options.step; f = g.options.values && g.options.values.length ? (j = g.values(c)) : (j = g.value()); switch (n.keyCode) { case a.ui.keyCode.HOME: j = g._valueMin(); break; case a.ui.keyCode.END: j = g._valueMax(); break; case a.ui.keyCode.PAGE_UP: j = g._trimAlignValue(f + (g._valueMax() - g._valueMin()) / 5); break; case a.ui.keyCode.PAGE_DOWN: j = g._trimAlignValue(f - (g._valueMax() - g._valueMin()) / 5); break; case a.ui.keyCode.UP: case a.ui.keyCode.RIGHT: if (f === g._valueMax()) { return } j = g._trimAlignValue(f + b); break; case a.ui.keyCode.DOWN: case a.ui.keyCode.LEFT: if (f === g._valueMin()) { return } j = g._trimAlignValue(f - b); break } g._slide(n, c, j); return e } }).keyup(function (c) { var b = a(this).data("index.ui-slider-handle"); if (g._keySliding) { g._keySliding = false; g._stop(c, b); g._change(c, b); a(this).removeClass("ui-state-active") } }); this._refreshValue(); this._animateOff = false }, destroy: function () { this.handles.remove(); this.range.remove(); this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"); this._mouseDestroy(); return this }, _mouseCapture: function (h) { var d = this.options, o, m, n, k, l; if (d.disabled) { return false } this.elementSize = { width: this.element.outerWidth(), height: this.element.outerHeight() }; this.elementOffset = this.element.offset(); o = this._normValueFromMouse({ x: h.pageX, y: h.pageY }); m = this._valueMax() - this._valueMin() + 1; k = this; this.handles.each(function (c) { var b = Math.abs(o - k.values(c)); if (m > b) { m = b; n = a(this); l = c } }); if (d.range === true && this.values(1) === d.min) { l += 1; n = a(this.handles[l]) } if (this._start(h, l) === false) { return false } this._mouseSliding = true; k._handleIndex = l; n.addClass("ui-state-active").focus(); d = n.offset(); this._clickOffset = !a(h.target).parents().andSelf().is(".ui-slider-handle") ? { left: 0, top: 0} : { left: h.pageX - d.left - n.width() / 2, top: h.pageY - d.top - n.height() / 2 - (parseInt(n.css("borderTopWidth"), 10) || 0) - (parseInt(n.css("borderBottomWidth"), 10) || 0) + (parseInt(n.css("marginTop"), 10) || 0) }; this.handles.hasClass("ui-state-hover") || this._slide(h, l, o); return this._animateOff = true }, _mouseStart: function () { return true }, _mouseDrag: function (d) { var c = this._normValueFromMouse({ x: d.pageX, y: d.pageY }); this._slide(d, this._handleIndex, c); return false }, _mouseStop: function (b) { this.handles.removeClass("ui-state-active"); this._mouseSliding = false; this._stop(b, this._handleIndex); this._change(b, this._handleIndex); this._clickOffset = this._handleIndex = null; return this._animateOff = false }, _detectOrientation: function () { this.orientation = this.options.orientation === "vertical" ? "vertical" : "horizontal" }, _normValueFromMouse: function (d) { var c; if (this.orientation === "horizontal") { c = this.elementSize.width; d = d.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0) } else { c = this.elementSize.height; d = d.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0) } c = d / c; if (c > 1) { c = 1 } if (c < 0) { c = 0 } if (this.orientation === "vertical") { c = 1 - c } d = this._valueMax() - this._valueMin(); return this._trimAlignValue(this._valueMin() + c * d) }, _start: function (e, d) { var f = { handle: this.handles[d], value: this.value() }; if (this.options.values && this.options.values.length) { f.value = this.values(d); f.values = this.values() } return this._trigger("start", e, f) }, _slide: function (e, d, h) { var g; if (this.options.values && this.options.values.length) { g = this.values(d ? 0 : 1); if (this.options.values.length === 2 && this.options.range === true && (d === 0 && h > g || d === 1 && h < g)) { h = g } if (h !== this.values(d)) { g = this.values(); g[d] = h; e = this._trigger("slide", e, { handle: this.handles[d], value: h, values: g }); this.values(d ? 0 : 1); e !== false && this.values(d, h, true) } } else { if (h !== this.value()) { e = this._trigger("slide", e, { handle: this.handles[d], value: h }); e !== false && this.value(h) } } }, _stop: function (e, d) { var f = { handle: this.handles[d], value: this.value() }; if (this.options.values && this.options.values.length) { f.value = this.values(d); f.values = this.values() } this._trigger("stop", e, f) }, _change: function (e, d) { if (!this._keySliding && !this._mouseSliding) { var f = { handle: this.handles[d], value: this.value() }; if (this.options.values && this.options.values.length) { f.value = this.values(d); f.values = this.values() } this._trigger("change", e, f) } }, value: function (b) { if (arguments.length) { this.options.value = this._trimAlignValue(b); this._refreshValue(); this._change(null, 0) } else { return this._value() } }, values: function (g, d) { var k, h, j; if (arguments.length > 1) { this.options.values[g] = this._trimAlignValue(d); this._refreshValue(); this._change(null, g) } else { if (arguments.length) { if (a.isArray(arguments[0])) { k = this.options.values; h = arguments[0]; for (j = 0; j < k.length; j += 1) { k[j] = this._trimAlignValue(h[j]); this._change(null, j) } this._refreshValue() } else { return this.options.values && this.options.values.length ? this._values(g) : this.value() } } else { return this._values() } } }, _setOption: function (e, d) { var h, g = 0; if (a.isArray(this.options.values)) { g = this.options.values.length } a.Widget.prototype._setOption.apply(this, arguments); switch (e) { case "disabled": if (d) { this.handles.filter(".ui-state-focus").blur(); this.handles.removeClass("ui-state-hover"); this.handles.propAttr("disabled", true); this.element.addClass("ui-disabled") } else { this.handles.propAttr("disabled", false); this.element.removeClass("ui-disabled") } break; case "orientation": this._detectOrientation(); this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-" + this.orientation); this._refreshValue(); break; case "value": this._animateOff = true; this._refreshValue(); this._change(null, 0); this._animateOff = false; break; case "values": this._animateOff = true; this._refreshValue(); for (h = 0; h < g; h += 1) { this._change(null, h) } this._animateOff = false; break } }, _value: function () { var b = this.options.value; return b = this._trimAlignValue(b) }, _values: function (e) { var d, f; if (arguments.length) { d = this.options.values[e]; return d = this._trimAlignValue(d) } else { d = this.options.values.slice(); for (f = 0; f < d.length; f += 1) { d[f] = this._trimAlignValue(d[f]) } return d } }, _trimAlignValue: function (e) { if (e <= this._valueMin()) { return this._valueMin() } if (e >= this._valueMax()) { return this._valueMax() } var d = this.options.step > 0 ? this.options.step : 1, f = (e - this._valueMin()) % d; e = e - f; if (Math.abs(f) * 2 >= d) { e += f > 0 ? d : -d } return parseFloat(e.toFixed(5)) }, _valueMin: function () { return this.options.min }, _valueMax: function () { return this.options.max }, _refreshValue: function () { var w = this.options.range, v = this.options, s = this, q = !this._animateOff ? v.animate : false, r, m = {}, o, h, d, n; if (this.options.values && this.options.values.length) { this.handles.each(function (b) { r = (s.values(b) - s._valueMin()) / (s._valueMax() - s._valueMin()) * 100; m[s.orientation === "horizontal" ? "left" : "bottom"] = r + "%"; a(this).stop(1, 1)[q ? "animate" : "css"](m, v.animate); if (s.options.range === true) { if (s.orientation === "horizontal") { if (b === 0) { s.range.stop(1, 1)[q ? "animate" : "css"]({ left: r + "%" }, v.animate) } if (b === 1) { s.range[q ? "animate" : "css"]({ width: r - o + "%" }, { queue: false, duration: v.animate }) } } else { if (b === 0) { s.range.stop(1, 1)[q ? "animate" : "css"]({ bottom: r + "%" }, v.animate) } if (b === 1) { s.range[q ? "animate" : "css"]({ height: r - o + "%" }, { queue: false, duration: v.animate }) } } } o = r }) } else { h = this.value(); d = this._valueMin(); n = this._valueMax(); r = n !== d ? (h - d) / (n - d) * 100 : 0; m[s.orientation === "horizontal" ? "left" : "bottom"] = r + "%"; this.handle.stop(1, 1)[q ? "animate" : "css"](m, v.animate); if (w === "min" && this.orientation === "horizontal") { this.range.stop(1, 1)[q ? "animate" : "css"]({ width: r + "%" }, v.animate) } if (w === "max" && this.orientation === "horizontal") { this.range[q ? "animate" : "css"]({ width: 100 - r + "%" }, { queue: false, duration: v.animate }) } if (w === "min" && this.orientation === "vertical") { this.range.stop(1, 1)[q ? "animate" : "css"]({ height: r + "%" }, v.animate) } if (w === "max" && this.orientation === "vertical") { this.range[q ? "animate" : "css"]({ height: 100 - r + "%" }, { queue: false, duration: v.animate }) } } } }); a.extend(a.ui.slider, { version: "1.8.16" }) })(jQuery); jQuery.effects || function (B, y) { function z(b) { var a; if (b && b.constructor == Array && b.length == 3) { return b } if (a = /rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b)) { return [parseInt(a[1], 10), parseInt(a[2], 10), parseInt(a[3], 10)] } if (a = /rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b)) { return [parseFloat(a[1]) * 2.55, parseFloat(a[2]) * 2.55, parseFloat(a[3]) * 2.55] } if (a = /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b)) { return [parseInt(a[1], 16), parseInt(a[2], 16), parseInt(a[3], 16)] } if (a = /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b)) { return [parseInt(a[1] + a[1], 16), parseInt(a[2] + a[2], 16), parseInt(a[3] + a[3], 16)] } if (/rgba\(0, 0, 0, 0\)/.exec(b)) { return n.transparent } return n[B.trim(b).toLowerCase()] } function w(c, b) { var a; do { a = B.curCSS(c, b); if (a != "" && a != "transparent" || B.nodeName(c, "body")) { break } b = "backgroundColor" } while (c = c.parentNode); return z(a) } function r() { var e = document.defaultView ? document.defaultView.getComputedStyle(this, null) : this.currentStyle, b = {}, a, d; if (e && e.length && e[0] && e[e[0]]) { for (var c = e.length; c--; ) { a = e[c]; if (typeof e[a] == "string") { d = a.replace(/\-(\w)/g, function (f, g) { return g.toUpperCase() }); b[d] = e[a] } } } else { for (a in e) { if (typeof e[a] === "string") { b[a] = e[a] } } } return b } function s(c) { var b, a; for (b in c) { a = c[b]; if (a == null || B.isFunction(a) || b in k || /scrollbar/.test(b) || !/color/i.test(b) && isNaN(parseFloat(a))) { delete c[b] } } return c } function q(d, b) { var a = { _: 0 }, c; for (c in b) { if (d[c] != b[c]) { a[c] = b[c] } } return a } function A(d, b, a, c) { if (typeof d == "object") { c = b; a = null; b = d; d = b.effect } if (B.isFunction(b)) { c = b; a = null; b = {} } if (typeof b == "number" || B.fx.speeds[b]) { c = a; a = b; b = {} } if (B.isFunction(a)) { c = a; a = null } b = b || {}; a = a || b.duration; a = B.fx.off ? 0 : typeof a == "number" ? a : a in B.fx.speeds ? B.fx.speeds[a] : B.fx.speeds._default; c = c || b.complete; return [d, b, a, c] } function v(a) { if (!a || typeof a === "number" || B.fx.speeds[a]) { return true } if (typeof a === "string" && !B.effects[a]) { return true } return false } B.effects = {}; B.each(["backgroundColor", "borderBottomColor", "borderLeftColor", "borderRightColor", "borderTopColor", "borderColor", "color", "outlineColor"], function (b, a) { B.fx.step[a] = function (c) { if (!c.colorInit) { c.start = w(c.elem, a); c.end = z(c.end); c.colorInit = true } c.elem.style[a] = "rgb(" + Math.max(Math.min(parseInt(c.pos * (c.end[0] - c.start[0]) + c.start[0], 10), 255), 0) + "," + Math.max(Math.min(parseInt(c.pos * (c.end[1] - c.start[1]) + c.start[1], 10), 255), 0) + "," + Math.max(Math.min(parseInt(c.pos * (c.end[2] - c.start[2]) + c.start[2], 10), 255), 0) + ")" } }); var n = { aqua: [0, 255, 255], azure: [240, 255, 255], beige: [245, 245, 220], black: [0, 0, 0], blue: [0, 0, 255], brown: [165, 42, 42], cyan: [0, 255, 255], darkblue: [0, 0, 139], darkcyan: [0, 139, 139], darkgrey: [169, 169, 169], darkgreen: [0, 100, 0], darkkhaki: [189, 183, 107], darkmagenta: [139, 0, 139], darkolivegreen: [85, 107, 47], darkorange: [255, 140, 0], darkorchid: [153, 50, 204], darkred: [139, 0, 0], darksalmon: [233, 150, 122], darkviolet: [148, 0, 211], fuchsia: [255, 0, 255], gold: [255, 215, 0], green: [0, 128, 0], indigo: [75, 0, 130], khaki: [240, 230, 140], lightblue: [173, 216, 230], lightcyan: [224, 255, 255], lightgreen: [144, 238, 144], lightgrey: [211, 211, 211], lightpink: [255, 182, 193], lightyellow: [255, 255, 224], lime: [0, 255, 0], magenta: [255, 0, 255], maroon: [128, 0, 0], navy: [0, 0, 128], olive: [128, 128, 0], orange: [255, 165, 0], pink: [255, 192, 203], purple: [128, 0, 128], violet: [128, 0, 128], red: [255, 0, 0], silver: [192, 192, 192], white: [255, 255, 255], yellow: [255, 255, 0], transparent: [255, 255, 255] }, m = ["add", "remove", "toggle"], k = { border: 1, borderBottom: 1, borderColor: 1, borderLeft: 1, borderRight: 1, borderTop: 1, borderWidth: 1, margin: 1, padding: 1 }; B.effects.animateClass = function (d, b, a, c) { if (B.isFunction(a)) { c = a; a = null } return this.queue(function () { var j = B(this), g = j.attr("style") || " ", h = s(r.call(this)), f, e = j.attr("class"); B.each(m, function (o, l) { d[l] && j[l + "Class"](d[l]) }); f = s(r.call(this)); j.attr("class", e); j.animate(q(h, f), { queue: false, duration: b, easing: a, complete: function () { B.each(m, function (o, l) { d[l] && j[l + "Class"](d[l]) }); if (typeof j.attr("style") == "object") { j.attr("style").cssText = ""; j.attr("style").cssText = g } else { j.attr("style", g) } c && c.apply(this, arguments); B.dequeue(this) } }) }) }; B.fn.extend({ _addClass: B.fn.addClass, addClass: function (d, b, a, c) { return b ? B.effects.animateClass.apply(this, [{ add: d }, b, a, c]) : this._addClass(d) }, _removeClass: B.fn.removeClass, removeClass: function (d, b, a, c) { return b ? B.effects.animateClass.apply(this, [{ remove: d }, b, a, c]) : this._removeClass(d) }, _toggleClass: B.fn.toggleClass, toggleClass: function (e, b, a, d, c) { return typeof b == "boolean" || b === y ? a ? B.effects.animateClass.apply(this, [b ? { add: e} : { remove: e }, a, d, c]) : this._toggleClass(e, b) : B.effects.animateClass.apply(this, [{ toggle: e }, b, a, d]) }, switchClass: function (e, b, a, d, c) { return B.effects.animateClass.apply(this, [{ add: b, remove: e }, a, d, c]) } }); B.extend(B.effects, { version: "1.8.16", save: function (c, b) { for (var a = 0; a < b.length; a++) { b[a] !== null && c.data("ec.storage." + b[a], c[0].style[b[a]]) } }, restore: function (c, b) { for (var a = 0; a < b.length; a++) { b[a] !== null && c.css(b[a], c.data("ec.storage." + b[a])) } }, setMode: function (b, a) { if (a == "toggle") { a = b.is(":hidden") ? "show" : "hide" } return a }, getBaseline: function (c, b) { var a; switch (c[0]) { case "top": a = 0; break; case "middle": a = 0.5; break; case "bottom": a = 1; break; default: a = c[0] / b.height } switch (c[1]) { case "left": c = 0; break; case "center": c = 0.5; break; case "right": c = 1; break; default: c = c[1] / b.width } return { x: c, y: a} }, createWrapper: function (d) { if (d.parent().is(".ui-effects-wrapper")) { return d.parent() } var b = { width: d.outerWidth(true), height: d.outerHeight(true), "float": d.css("float") }, a = B("<div></div>").addClass("ui-effects-wrapper").css({ fontSize: "100%", background: "transparent", border: "none", margin: 0, padding: 0 }), c = document.activeElement; d.wrap(a); if (d[0] === c || B.contains(d[0], c)) { B(c).focus() } a = d.parent(); if (d.css("position") == "static") { a.css({ position: "relative" }); d.css({ position: "relative" }) } else { B.extend(b, { position: d.css("position"), zIndex: d.css("z-index") }); B.each(["top", "left", "bottom", "right"], function (f, e) { b[e] = d.css(e); if (isNaN(parseInt(b[e], 10))) { b[e] = "auto" } }); d.css({ position: "relative", top: 0, left: 0, right: "auto", bottom: "auto" }) } return a.css(b).show() }, removeWrapper: function (c) { var b, a = document.activeElement; if (c.parent().is(".ui-effects-wrapper")) { b = c.parent().replaceWith(c); if (c[0] === a || B.contains(c[0], a)) { B(a).focus() } return b } return c }, setTransition: function (d, b, a, c) { c = c || {}; B.each(b, function (f, e) { unit = d.cssUnit(e); if (unit[0] > 0) { c[e] = unit[0] * a + unit[1] } }); return c } }); B.fn.extend({ effect: function (d) { var b = A.apply(this, arguments), a = { options: b[1], duration: b[2], callback: b[3] }; b = a.options.mode; var c = B.effects[d]; if (B.fx.off || !c) { return b ? this[b](a.duration, a.callback) : this.each(function () { a.callback && a.callback.call(this) }) } return c.call(this, a) }, _show: B.fn.show, show: function (b) { if (v(b)) { return this._show.apply(this, arguments) } else { var a = A.apply(this, arguments); a[1].mode = "show"; return this.effect.apply(this, a) } }, _hide: B.fn.hide, hide: function (b) { if (v(b)) { return this._hide.apply(this, arguments) } else { var a = A.apply(this, arguments); a[1].mode = "hide"; return this.effect.apply(this, a) } }, __toggle: B.fn.toggle, toggle: function (b) { if (v(b) || typeof b === "boolean" || B.isFunction(b)) { return this.__toggle.apply(this, arguments) } else { var a = A.apply(this, arguments); a[1].mode = "toggle"; return this.effect.apply(this, a) } }, cssUnit: function (c) { var b = this.css(c), a = []; B.each(["em", "px", "%", "pt"], function (e, d) { if (b.indexOf(d) > 0) { a = [parseFloat(b), d] } }); return a } }); B.easing.jswing = B.easing.swing; B.extend(B.easing, { def: "easeOutQuad", swing: function (e, b, a, d, c) { return B.easing[B.easing.def](e, b, a, d, c) }, easeInQuad: function (e, b, a, d, c) { return d * (b /= c) * b + a }, easeOutQuad: function (e, b, a, d, c) { return -d * (b /= c) * (b - 2) + a }, easeInOutQuad: function (e, b, a, d, c) { if ((b /= c / 2) < 1) { return d / 2 * b * b + a } return -d / 2 * (--b * (b - 2) - 1) + a }, easeInCubic: function (e, b, a, d, c) { return d * (b /= c) * b * b + a }, easeOutCubic: function (e, b, a, d, c) { return d * ((b = b / c - 1) * b * b + 1) + a }, easeInOutCubic: function (e, b, a, d, c) { if ((b /= c / 2) < 1) { return d / 2 * b * b * b + a } return d / 2 * ((b -= 2) * b * b + 2) + a }, easeInQuart: function (e, b, a, d, c) { return d * (b /= c) * b * b * b + a }, easeOutQuart: function (e, b, a, d, c) { return -d * ((b = b / c - 1) * b * b * b - 1) + a }, easeInOutQuart: function (e, b, a, d, c) { if ((b /= c / 2) < 1) { return d / 2 * b * b * b * b + a } return -d / 2 * ((b -= 2) * b * b * b - 2) + a }, easeInQuint: function (e, b, a, d, c) { return d * (b /= c) * b * b * b * b + a }, easeOutQuint: function (e, b, a, d, c) { return d * ((b = b / c - 1) * b * b * b * b + 1) + a }, easeInOutQuint: function (e, b, a, d, c) { if ((b /= c / 2) < 1) { return d / 2 * b * b * b * b * b + a } return d / 2 * ((b -= 2) * b * b * b * b + 2) + a }, easeInSine: function (e, b, a, d, c) { return -d * Math.cos(b / c * (Math.PI / 2)) + d + a }, easeOutSine: function (e, b, a, d, c) { return d * Math.sin(b / c * (Math.PI / 2)) + a }, easeInOutSine: function (e, b, a, d, c) { return -d / 2 * (Math.cos(Math.PI * b / c) - 1) + a }, easeInExpo: function (e, b, a, d, c) { return b == 0 ? a : d * Math.pow(2, 10 * (b / c - 1)) + a }, easeOutExpo: function (e, b, a, d, c) { return b == c ? a + d : d * (-Math.pow(2, -10 * b / c) + 1) + a }, easeInOutExpo: function (e, b, a, d, c) { if (b == 0) { return a } if (b == c) { return a + d } if ((b /= c / 2) < 1) { return d / 2 * Math.pow(2, 10 * (b - 1)) + a } return d / 2 * (-Math.pow(2, -10 * --b) + 2) + a }, easeInCirc: function (e, b, a, d, c) { return -d * (Math.sqrt(1 - (b /= c) * b) - 1) + a }, easeOutCirc: function (e, b, a, d, c) { return d * Math.sqrt(1 - (b = b / c - 1) * b) + a }, easeInOutCirc: function (e, b, a, d, c) { if ((b /= c / 2) < 1) { return -d / 2 * (Math.sqrt(1 - b * b) - 1) + a } return d / 2 * (Math.sqrt(1 - (b -= 2) * b) + 1) + a }, easeInElastic: function (g, b, a, f, e) { g = 1.70158; var c = 0, d = f; if (b == 0) { return a } if ((b /= e) == 1) { return a + f } c || (c = e * 0.3); if (d < Math.abs(f)) { d = f; g = c / 4 } else { g = c / (2 * Math.PI) * Math.asin(f / d) } return -(d * Math.pow(2, 10 * (b -= 1)) * Math.sin((b * e - g) * 2 * Math.PI / c)) + a }, easeOutElastic: function (g, b, a, f, e) { g = 1.70158; var c = 0, d = f; if (b == 0) { return a } if ((b /= e) == 1) { return a + f } c || (c = e * 0.3); if (d < Math.abs(f)) { d = f; g = c / 4 } else { g = c / (2 * Math.PI) * Math.asin(f / d) } return d * Math.pow(2, -10 * b) * Math.sin((b * e - g) * 2 * Math.PI / c) + f + a }, easeInOutElastic: function (g, b, a, f, e) { g = 1.70158; var c = 0, d = f; if (b == 0) { return a } if ((b /= e / 2) == 2) { return a + f } c || (c = e * 0.3 * 1.5); if (d < Math.abs(f)) { d = f; g = c / 4 } else { g = c / (2 * Math.PI) * Math.asin(f / d) } if (b < 1) { return -0.5 * d * Math.pow(2, 10 * (b -= 1)) * Math.sin((b * e - g) * 2 * Math.PI / c) + a } return d * Math.pow(2, -10 * (b -= 1)) * Math.sin((b * e - g) * 2 * Math.PI / c) * 0.5 + f + a }, easeInBack: function (f, b, a, e, d, c) { if (c == y) { c = 1.70158 } return e * (b /= d) * b * ((c + 1) * b - c) + a }, easeOutBack: function (f, b, a, e, d, c) { if (c == y) { c = 1.70158 } return e * ((b = b / d - 1) * b * ((c + 1) * b + c) + 1) + a }, easeInOutBack: function (f, b, a, e, d, c) { if (c == y) { c = 1.70158 } if ((b /= d / 2) < 1) { return e / 2 * b * b * (((c *= 1.525) + 1) * b - c) + a } return e / 2 * ((b -= 2) * b * (((c *= 1.525) + 1) * b + c) + 2) + a }, easeInBounce: function (e, b, a, d, c) { return d - B.easing.easeOutBounce(e, c - b, 0, d, c) + a }, easeOutBounce: function (e, b, a, d, c) { return (b /= c) < 1 / 2.75 ? d * 7.5625 * b * b + a : b < 2 / 2.75 ? d * (7.5625 * (b -= 1.5 / 2.75) * b + 0.75) + a : b < 2.5 / 2.75 ? d * (7.5625 * (b -= 2.25 / 2.75) * b + 0.9375) + a : d * (7.5625 * (b -= 2.625 / 2.75) * b + 0.984375) + a }, easeInOutBounce: function (e, b, a, d, c) { if (b < c / 2) { return B.easing.easeInBounce(e, b * 2, 0, d, c) * 0.5 + a } return B.easing.easeOutBounce(e, b * 2 - c, 0, d, c) * 0.5 + d * 0.5 + a } }) } (jQuery); (function (b) { b.effects.blind = function (a) { return this.queue(function () { var o = b(this), n = ["position", "top", "bottom", "left", "right"], k = b.effects.setMode(o, a.options.mode || "hide"), l = a.options.direction || "vertical"; b.effects.save(o, n); o.show(); var j = b.effects.createWrapper(o).css({ overflow: "hidden" }), d = l == "vertical" ? "height" : "width"; l = l == "vertical" ? j.height() : j.width(); k == "show" && j.css(d, 0); var m = {}; m[d] = k == "show" ? l : 0; j.animate(m, a.duration, a.options.easing, function () { k == "hide" && o.hide(); b.effects.restore(o, n); b.effects.removeWrapper(o); a.callback && a.callback.apply(o[0], arguments); o.dequeue() }) }) } })(jQuery); (function (b) { b.effects.bounce = function (a) { return this.queue(function () { var z = b(this), y = ["position", "top", "bottom", "left", "right"], s = b.effects.setMode(z, a.options.mode || "effect"), v = a.options.direction || "up", r = a.options.distance || 20, A = a.options.times || 5, w = a.duration || 250; /show|hide/.test(s) && y.push("opacity"); b.effects.save(z, y); z.show(); b.effects.createWrapper(z); var q = v == "up" || v == "down" ? "top" : "left"; v = v == "up" || v == "left" ? "pos" : "neg"; r = a.options.distance || (q == "top" ? z.outerHeight({ margin: true }) / 3 : z.outerWidth({ margin: true }) / 3); if (s == "show") { z.css("opacity", 0).css(q, v == "pos" ? -r : r) } if (s == "hide") { r /= A * 2 } s != "hide" && A--; if (s == "show") { var m = { opacity: 1 }; m[q] = (v == "pos" ? "+=" : "-=") + r; z.animate(m, w / 2, a.options.easing); r /= 2; A-- } for (m = 0; m < A; m++) { var d = {}, k = {}; d[q] = (v == "pos" ? "-=" : "+=") + r; k[q] = (v == "pos" ? "+=" : "-=") + r; z.animate(d, w / 2, a.options.easing).animate(k, w / 2, a.options.easing); r = s == "hide" ? r * 2 : r / 2 } if (s == "hide") { m = { opacity: 0 }; m[q] = (v == "pos" ? "-=" : "+=") + r; z.animate(m, w / 2, a.options.easing, function () { z.hide(); b.effects.restore(z, y); b.effects.removeWrapper(z); a.callback && a.callback.apply(this, arguments) }) } else { d = {}; k = {}; d[q] = (v == "pos" ? "-=" : "+=") + r; k[q] = (v == "pos" ? "+=" : "-=") + r; z.animate(d, w / 2, a.options.easing).animate(k, w / 2, a.options.easing, function () { b.effects.restore(z, y); b.effects.removeWrapper(z); a.callback && a.callback.apply(this, arguments) }) } z.queue("fx", function () { z.dequeue() }); z.dequeue() }) } })(jQuery); (function (b) { b.effects.clip = function (a) { return this.queue(function () { var o = b(this), n = ["position", "top", "bottom", "left", "right", "height", "width"], k = b.effects.setMode(o, a.options.mode || "hide"), l = a.options.direction || "vertical"; b.effects.save(o, n); o.show(); var j = b.effects.createWrapper(o).css({ overflow: "hidden" }); j = o[0].tagName == "IMG" ? j : o; var d = { size: l == "vertical" ? "height" : "width", position: l == "vertical" ? "top" : "left" }; l = l == "vertical" ? j.height() : j.width(); if (k == "show") { j.css(d.size, 0); j.css(d.position, l / 2) } var m = {}; m[d.size] = k == "show" ? l : 0; m[d.position] = k == "show" ? 0 : l / 2; j.animate(m, { queue: false, duration: a.duration, easing: a.options.easing, complete: function () { k == "hide" && o.hide(); b.effects.restore(o, n); b.effects.removeWrapper(o); a.callback && a.callback.apply(o[0], arguments); o.dequeue() } }) }) } })(jQuery); (function (b) { b.effects.drop = function (a) { return this.queue(function () { var o = b(this), n = ["position", "top", "bottom", "left", "right", "opacity"], k = b.effects.setMode(o, a.options.mode || "hide"), l = a.options.direction || "left"; b.effects.save(o, n); o.show(); b.effects.createWrapper(o); var j = l == "up" || l == "down" ? "top" : "left"; l = l == "up" || l == "left" ? "pos" : "neg"; var d = a.options.distance || (j == "top" ? o.outerHeight({ margin: true }) / 2 : o.outerWidth({ margin: true }) / 2); if (k == "show") { o.css("opacity", 0).css(j, l == "pos" ? -d : d) } var m = { opacity: k == "show" ? 1 : 0 }; m[j] = (k == "show" ? l == "pos" ? "+=" : "-=" : l == "pos" ? "-=" : "+=") + d; o.animate(m, { queue: false, duration: a.duration, easing: a.options.easing, complete: function () { k == "hide" && o.hide(); b.effects.restore(o, n); b.effects.removeWrapper(o); a.callback && a.callback.apply(this, arguments); o.dequeue() } }) }) } })(jQuery); (function (b) { b.effects.explode = function (a) { return this.queue(function () { var r = a.options.pieces ? Math.round(Math.sqrt(a.options.pieces)) : 3, q = a.options.pieces ? Math.round(Math.sqrt(a.options.pieces)) : 3; a.options.mode = a.options.mode == "toggle" ? b(this).is(":visible") ? "hide" : "show" : a.options.mode; var m = b(this).show().css("visibility", "hidden"), n = m.offset(); n.top -= parseInt(m.css("marginTop"), 10) || 0; n.left -= parseInt(m.css("marginLeft"), 10) || 0; for (var l = m.outerWidth(true), d = m.outerHeight(true), o = 0; o < r; o++) { for (var k = 0; k < q; k++) { m.clone().appendTo("body").wrap("<div></div>").css({ position: "absolute", visibility: "visible", left: -k * (l / q), top: -o * (d / r) }).parent().addClass("ui-effects-explode").css({ position: "absolute", overflow: "hidden", width: l / q, height: d / r, left: n.left + k * (l / q) + (a.options.mode == "show" ? (k - Math.floor(q / 2)) * (l / q) : 0), top: n.top + o * (d / r) + (a.options.mode == "show" ? (o - Math.floor(r / 2)) * (d / r) : 0), opacity: a.options.mode == "show" ? 0 : 1 }).animate({ left: n.left + k * (l / q) + (a.options.mode == "show" ? 0 : (k - Math.floor(q / 2)) * (l / q)), top: n.top + o * (d / r) + (a.options.mode == "show" ? 0 : (o - Math.floor(r / 2)) * (d / r)), opacity: a.options.mode == "show" ? 1 : 0 }, a.duration || 500) } } setTimeout(function () { a.options.mode == "show" ? m.css({ visibility: "visible" }) : m.css({ visibility: "visible" }).hide(); a.callback && a.callback.apply(m[0]); m.dequeue(); b("div.ui-effects-explode").remove() }, a.duration || 500) }) } })(jQuery); (function (b) { b.effects.fade = function (a) { return this.queue(function () { var f = b(this), d = b.effects.setMode(f, a.options.mode || "hide"); f.animate({ opacity: d }, { queue: false, duration: a.duration, easing: a.options.easing, complete: function () { a.callback && a.callback.apply(this, arguments); f.dequeue() } }) }) } })(jQuery); (function (b) { b.effects.fold = function (a) { return this.queue(function () { var w = b(this), v = ["position", "top", "bottom", "left", "right"], q = b.effects.setMode(w, a.options.mode || "hide"), r = a.options.size || 15, n = !!a.options.horizFirst, y = a.duration ? a.duration / 2 : b.fx.speeds._default / 2; b.effects.save(w, v); w.show(); var s = b.effects.createWrapper(w).css({ overflow: "hidden" }), m = q == "show" != n, k = m ? ["width", "height"] : ["height", "width"]; m = m ? [s.width(), s.height()] : [s.height(), s.width()]; var d = /([0-9]+)%/.exec(r); if (d) { r = parseInt(d[1], 10) / 100 * m[q == "hide" ? 0 : 1] } if (q == "show") { s.css(n ? { height: 0, width: r} : { height: r, width: 0 }) } n = {}; d = {}; n[k[0]] = q == "show" ? m[0] : r; d[k[1]] = q == "show" ? m[1] : 0; s.animate(n, y, a.options.easing).animate(d, y, a.options.easing, function () { q == "hide" && w.hide(); b.effects.restore(w, v); b.effects.removeWrapper(w); a.callback && a.callback.apply(w[0], arguments); w.dequeue() }) }) } })(jQuery); (function (b) { b.effects.highlight = function (a) { return this.queue(function () { var k = b(this), j = ["backgroundImage", "backgroundColor", "opacity"], d = b.effects.setMode(k, a.options.mode || "show"), f = { backgroundColor: k.css("backgroundColor") }; if (d == "hide") { f.opacity = 0 } b.effects.save(k, j); k.show().css({ backgroundImage: "none", backgroundColor: a.options.color || "#ffff99" }).animate(f, { queue: false, duration: a.duration, easing: a.options.easing, complete: function () { d == "hide" && k.hide(); b.effects.restore(k, j); d == "show" && !b.support.opacity && this.style.removeAttribute("filter"); a.callback && a.callback.apply(this, arguments); k.dequeue() } }) }) } })(jQuery); (function (b) { b.effects.pulsate = function (a) { return this.queue(function () { var f = b(this), d = b.effects.setMode(f, a.options.mode || "show"); times = (a.options.times || 5) * 2 - 1; duration = a.duration ? a.duration / 2 : b.fx.speeds._default / 2; isVisible = f.is(":visible"); animateTo = 0; if (!isVisible) { f.css("opacity", 0).show(); animateTo = 1 } if (d == "hide" && isVisible || d == "show" && !isVisible) { times-- } for (d = 0; d < times; d++) { f.animate({ opacity: animateTo }, duration, a.options.easing); animateTo = (animateTo + 1) % 2 } f.animate({ opacity: animateTo }, duration, a.options.easing, function () { animateTo == 0 && f.hide(); a.callback && a.callback.apply(this, arguments) }); f.queue("fx", function () { f.dequeue() }).dequeue() }) } })(jQuery); (function (b) { b.effects.puff = function (a) { return this.queue(function () { var l = b(this), k = b.effects.setMode(l, a.options.mode || "hide"), f = parseInt(a.options.percent, 10) || 150, j = f / 100, d = { height: l.height(), width: l.width() }; b.extend(a.options, { fade: true, mode: k, percent: k == "hide" ? f : 100, from: k == "hide" ? d : { height: d.height * j, width: d.width * j} }); l.effect("scale", a.options, a.duration, a.callback); l.dequeue() }) }; b.effects.scale = function (a) { return this.queue(function () { var m = b(this), l = b.extend(true, {}, a.options), j = b.effects.setMode(m, a.options.mode || "effect"), k = parseInt(a.options.percent, 10) || (parseInt(a.options.percent, 10) == 0 ? 0 : j == "hide" ? 0 : 100), f = a.options.direction || "both", d = a.options.origin; if (j != "effect") { l.origin = d || ["middle", "center"]; l.restore = true } d = { height: m.height(), width: m.width() }; m.from = a.options.from || (j == "show" ? { height: 0, width: 0} : d); k = { y: f != "horizontal" ? k / 100 : 1, x: f != "vertical" ? k / 100 : 1 }; m.to = { height: d.height * k.y, width: d.width * k.x }; if (a.options.fade) { if (j == "show") { m.from.opacity = 0; m.to.opacity = 1 } if (j == "hide") { m.from.opacity = 1; m.to.opacity = 0 } } l.from = m.from; l.to = m.to; l.mode = j; m.effect("size", l, a.duration, a.callback); m.dequeue() }) }; b.effects.size = function (a) { return this.queue(function () { var D = b(this), C = ["position", "top", "bottom", "left", "right", "width", "height", "overflow", "opacity"], z = ["position", "top", "bottom", "left", "right", "overflow", "opacity"], A = ["width", "height", "overflow"], y = ["fontSize"], E = ["borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom"], B = ["borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight"], w = b.effects.setMode(D, a.options.mode || "effect"), s = a.options.restore || false, d = a.options.scale || "both", q = a.options.origin, v = { height: D.height(), width: D.width() }; D.from = a.options.from || v; D.to = a.options.to || v; if (q) { q = b.effects.getBaseline(q, v); D.from.top = (v.height - D.from.height) * q.y; D.from.left = (v.width - D.from.width) * q.x; D.to.top = (v.height - D.to.height) * q.y; D.to.left = (v.width - D.to.width) * q.x } var r = { from: { y: D.from.height / v.height, x: D.from.width / v.width }, to: { y: D.to.height / v.height, x: D.to.width / v.width} }; if (d == "box" || d == "both") { if (r.from.y != r.to.y) { C = C.concat(E); D.from = b.effects.setTransition(D, E, r.from.y, D.from); D.to = b.effects.setTransition(D, E, r.to.y, D.to) } if (r.from.x != r.to.x) { C = C.concat(B); D.from = b.effects.setTransition(D, B, r.from.x, D.from); D.to = b.effects.setTransition(D, B, r.to.x, D.to) } } if (d == "content" || d == "both") { if (r.from.y != r.to.y) { C = C.concat(y); D.from = b.effects.setTransition(D, y, r.from.y, D.from); D.to = b.effects.setTransition(D, y, r.to.y, D.to) } } b.effects.save(D, s ? C : z); D.show(); b.effects.createWrapper(D); D.css("overflow", "hidden").css(D.from); if (d == "content" || d == "both") { E = E.concat(["marginTop", "marginBottom"]).concat(y); B = B.concat(["marginLeft", "marginRight"]); A = C.concat(E).concat(B); D.find("*[width]").each(function () { child = b(this); s && b.effects.save(child, A); var c = { height: child.height(), width: child.width() }; child.from = { height: c.height * r.from.y, width: c.width * r.from.x }; child.to = { height: c.height * r.to.y, width: c.width * r.to.x }; if (r.from.y != r.to.y) { child.from = b.effects.setTransition(child, E, r.from.y, child.from); child.to = b.effects.setTransition(child, E, r.to.y, child.to) } if (r.from.x != r.to.x) { child.from = b.effects.setTransition(child, B, r.from.x, child.from); child.to = b.effects.setTransition(child, B, r.to.x, child.to) } child.css(child.from); child.animate(child.to, a.duration, a.options.easing, function () { s && b.effects.restore(child, A) }) }) } D.animate(D.to, { queue: false, duration: a.duration, easing: a.options.easing, complete: function () { D.to.opacity === 0 && D.css("opacity", D.from.opacity); w == "hide" && D.hide(); b.effects.restore(D, s ? C : z); b.effects.removeWrapper(D); a.callback && a.callback.apply(this, arguments); D.dequeue() } }) }) } })(jQuery); (function (b) { b.effects.shake = function (a) { return this.queue(function () { var w = b(this), v = ["position", "top", "bottom", "left", "right"]; b.effects.setMode(w, a.options.mode || "effect"); var q = a.options.direction || "left", r = a.options.distance || 20, n = a.options.times || 3, y = a.duration || a.options.duration || 140; b.effects.save(w, v); w.show(); b.effects.createWrapper(w); var s = q == "up" || q == "down" ? "top" : "left", m = q == "up" || q == "left" ? "pos" : "neg"; q = {}; var k = {}, d = {}; q[s] = (m == "pos" ? "-=" : "+=") + r; k[s] = (m == "pos" ? "+=" : "-=") + r * 2; d[s] = (m == "pos" ? "-=" : "+=") + r * 2; w.animate(q, y, a.options.easing); for (r = 1; r < n; r++) { w.animate(k, y, a.options.easing).animate(d, y, a.options.easing) } w.animate(k, y, a.options.easing).animate(q, y / 2, a.options.easing, function () { b.effects.restore(w, v); b.effects.removeWrapper(w); a.callback && a.callback.apply(this, arguments) }); w.queue("fx", function () { w.dequeue() }); w.dequeue() }) } })(jQuery); (function (b) { b.effects.slide = function (a) { return this.queue(function () { var o = b(this), n = ["position", "top", "bottom", "left", "right"], k = b.effects.setMode(o, a.options.mode || "show"), l = a.options.direction || "left"; b.effects.save(o, n); o.show(); b.effects.createWrapper(o).css({ overflow: "hidden" }); var j = l == "up" || l == "down" ? "top" : "left"; l = l == "up" || l == "left" ? "pos" : "neg"; var d = a.options.distance || (j == "top" ? o.outerHeight({ margin: true }) : o.outerWidth({ margin: true })); if (k == "show") { o.css(j, l == "pos" ? isNaN(d) ? "-" + d : -d : d) } var m = {}; m[j] = (k == "show" ? l == "pos" ? "+=" : "-=" : l == "pos" ? "-=" : "+=") + d; o.animate(m, { queue: false, duration: a.duration, easing: a.options.easing, complete: function () { k == "hide" && o.hide(); b.effects.restore(o, n); b.effects.removeWrapper(o); a.callback && a.callback.apply(this, arguments); o.dequeue() } }) }) } })(jQuery); (function (b) { b.effects.transfer = function (a) { return this.queue(function () { var k = b(this), j = b(a.options.to), d = j.offset(); j = { top: d.top, left: d.left, height: j.innerHeight(), width: j.innerWidth() }; d = k.offset(); var f = b('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(a.options.className).css({ top: d.top, left: d.left, height: k.innerHeight(), width: k.innerWidth(), position: "absolute" }).animate(j, a.duration, a.options.easing, function () { f.remove(); a.callback && a.callback.apply(k[0], arguments); k.dequeue() }) }) } })(jQuery); window.Modernizr = function (aj, ai, ah) { function O() { af.input = function (e) { for (var d = 0, f = e.length; d < f; d++) { N[e[d]] = e[d] in Y } return N } ("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")), af.inputtypes = function (b) { for (var l = 0, k, j, g, c = b.length; l < c; l++) { Y.setAttribute("type", j = b[l]), k = Y.type !== "text", k && (Y.value = X, Y.style.cssText = "position:absolute;visibility:hidden;", /^range$/.test(j) && Y.style.WebkitAppearance !== ah ? (ad.appendChild(Y), g = ai.defaultView, k = g.getComputedStyle && g.getComputedStyle(Y, null).WebkitAppearance !== "textfield" && Y.offsetHeight !== 0, ad.removeChild(Y)) : /^(search|tel)$/.test(j) || (/^(url|email)$/.test(j) ? k = Y.checkValidity && Y.checkValidity() === !1 : /^color$/.test(j) ? (ad.appendChild(Y), ad.offsetWidth, k = Y.value != X, ad.removeChild(Y)) : k = Y.value != X)), P[b[l]] = !!k } return P } ("search tel url email datetime date month week time datetime-local number range color".split(" ")) } function Q(f, e) { var h = f.charAt(0).toUpperCase() + f.substr(1), g = (f + " " + T.join(h + " ") + h).split(" "); return S(g, e) } function S(e, c) { for (var f in e) { if (Z[e[f]] !== ah) { return c == "pfx" ? e[f] : !0 } } return !1 } function U(d, c) { return !! ~("" + d).indexOf(c) } function F(d, c) { return typeof d === c } function G(d, c) { return H(V.join(d + ";") + (c || "")) } function H(b) { Z.cssText = b } var ag = "2.0.6", af = {}, ae = !0, ad = ai.documentElement, ac = ai.head || ai.getElementsByTagName("head")[0], ab = "modernizr", aa = ai.createElement(ab), Z = aa.style, Y = ai.createElement("input"), X = ":)", W = Object.prototype.toString, V = " -webkit- -moz- -o- -ms- -khtml- ".split(" "), T = "Webkit Moz O ms Khtml".split(" "), R = {}, P = {}, N = {}, M = [], K, J = {}.hasOwnProperty, I; !F(J, ah) && !F(J.call, ah) ? I = function (d, c) { return J.call(d, c) } : I = function (d, c) { return c in d && F(d.constructor.prototype[c], ah) }, R.flexbox = function () { function k(f, e, m, l) { f.style.cssText = V.join(e + ":" + m + ";") + (l || "") } function b(f, e, m, l) { e += ":", f.style.cssText = (e + V.join(m + ";" + e)).slice(0, -e.length) + (l || "") } var j = ai.createElement("div"), h = ai.createElement("div"); b(j, "display", "box", "width:42px;padding:0;"), k(h, "box-flex", "1", "width:10px;"), j.appendChild(h), ad.appendChild(j); var g = h.offsetWidth === 42; j.removeChild(h), ad.removeChild(j); return g }, R.cssgradients = function () { var e = "background-image:", d = "gradient(linear,left top,right bottom,from(#9f9),to(white));", f = "linear-gradient(left top,#9f9, white);"; H((e + V.join(d + e) + V.join(f + e)).slice(0, -e.length)); return U(Z.backgroundImage, "gradient") }, R.csstransitions = function () { return Q("transitionProperty") }; for (var L in R) { I(R, L) && (K = L.toLowerCase(), af[K] = R[L](), M.push((af[K] ? "" : "no-") + K)) } af.input || O(), H(""), aa = Y = null, aj.attachEvent && function () { var b = ai.createElement("div"); b.innerHTML = "<elem></elem>"; return b.childNodes.length !== 1 } () && function (ar, aq) { function c(e) { var d = -1; while (++d < am) { e.createElement(an[d]) } } ar.iepp = ar.iepp || {}; var ap = ar.iepp, ao = ap.html5elements || "abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video", an = ao.split("|"), am = an.length, al = new RegExp("(^|\\s)(" + ao + ")", "gi"), ak = new RegExp("<(/*)(" + ao + ")", "gi"), E = /^\s*[\{\}]\s*$/, D = new RegExp("(^|[^\\n]*?\\s)(" + ao + ")([^\\n]*)({[\\n\\w\\W]*?})", "gi"), C = aq.createDocumentFragment(), B = aq.documentElement, A = B.firstChild, z = aq.createElement("body"), y = aq.createElement("style"), w = /print|all/, v; ap.getCSS = function (j, d) { if (j + "" === ah) { return "" } var n = -1, m = j.length, l, k = []; while (++n < m) { l = j[n]; if (l.disabled) { continue } d = l.media || d, w.test(d) && k.push(ap.getCSS(l.imports, d), l.cssText), d = "all" } return k.join("") }, ap.parseCSS = function (e) { var d = [], f; while ((f = D.exec(e)) != null) { d.push(((E.exec(f[1]) ? "\n" : f[1]) + f[2] + f[3]).replace(al, "$1.iepp_$2") + f[4]) } return d.join("\n") }, ap.writeHTML = function () { var b = -1; v = v || aq.body; while (++b < am) { var h = aq.getElementsByTagName(an[b]), g = h.length, f = -1; while (++f < g) { h[f].className.indexOf("iepp_") < 0 && (h[f].className += " iepp_" + an[b]) } } C.appendChild(v), B.appendChild(z), z.className = v.className, z.id = v.id, z.innerHTML = v.innerHTML.replace(ak, "<$1font") }, ap._beforePrint = function () { y.styleSheet.cssText = ap.parseCSS(ap.getCSS(aq.styleSheets, "all")), ap.writeHTML() }, ap.restoreHTML = function () { z.innerHTML = "", B.removeChild(z), B.appendChild(v) }, ap._afterPrint = function () { ap.restoreHTML(), y.styleSheet.cssText = "" }, c(aq), c(C); ap.disablePP || (A.insertBefore(y, A.firstChild), y.media = "print", y.className = "iepp-printshim", ar.attachEvent("onbeforeprint", ap._beforePrint), ar.attachEvent("onafterprint", ap._afterPrint)) } (aj, ai), af._version = ag, af._prefixes = V, af._domPrefixes = T, af.testProp = function (b) { return S([b]) }, af.testAllProps = Q, ad.className = ad.className.replace(/\bno-js\b/, "") + (ae ? " js " + M.join(" ") : ""); return af } (this, this.document); (function (f, b, g) { var a = /\+/g; function e(h) { return h } function c(h) { return decodeURIComponent(h.replace(a, " ")) } var d = f.cookie = function (q, o, w) { if (o !== g) { w = f.extend({}, d.defaults, w); if (o === null) { w.expires = -1 } if (typeof w.expires === "number") { var r = w.expires, v = w.expires = new Date(); v.setDate(v.getDate() + r) } o = d.json ? JSON.stringify(o) : String(o); return (b.cookie = [encodeURIComponent(q), "=", d.raw ? o : encodeURIComponent(o), w.expires ? "; expires=" + w.expires.toUTCString() : "", w.path ? "; path=" + w.path : "", w.domain ? "; domain=" + w.domain : "", w.secure ? "; secure" : ""].join("")) } var h = d.raw ? e : c; var s = b.cookie.split("; "); for (var n = 0, k = s.length; n < k; n++) { var m = s[n].split("="); if (h(m.shift()) === q) { var j = h(m.join("=")); return d.json ? JSON.parse(j) : j } } return null }; d.defaults = {}; f.removeCookie = function (j, h) { if (f.cookie(j) !== null) { f.cookie(j, null, h); return true } return false } })(jQuery, document); window.log = function () { log.history = log.history || []; log.history.push(arguments); if (this.console) { arguments.callee = arguments.callee.caller; var a = [].slice.call(arguments); (typeof console.log === "object" ? log.apply.call(console.log, console, a) : console.log.apply(console, a)) } }; (function (e) { function h() { } for (var g = "assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,timeStamp,profile,profileEnd,time,timeEnd,trace,warn".split(","), f; f = g.pop(); ) { e[f] = e[f] || h } })((function () { try { console.log(); return window.console } catch (a) { return window.console = {} } })()); $.ui.autocomplete.prototype._renderItem = function (a, b) { var c = b.label; c = c.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)(" + $.ui.autocomplete.escapeRegex(this.term) + ")(?![^<>]*>)(?![^&;]+;)", "gi"), "<strong>$1</strong>"); return $("<li></li>").data("item.autocomplete", b).append("<a>" + c + "</a>").appendTo(a) }; (function (H, G) { function B(d, c) { return (new Date(d, c + 1, 0)).getDate() } function A(d, c) { d = "" + d, c = c || 2; while (d.length < c) { d = "0" + d } return d } function w(L, K, J) { var I = L.getDate(), o = L.getDay(), n = L.getMonth(), j = L.getFullYear(), h = { d: I, dd: A(I), ddd: C[J].shortDays[o], dddd: C[J].days[o], m: n + 1, mm: A(n + 1), mmm: C[J].shortMonths[n], mmmm: C[J].months[n], yy: String(j).slice(2), yyyy: j }, f = K.replace(z, function (b) { return b in h ? h[b] : b.slice(1, b.length - 1) }); return y.html(f).html() } function v(b) { return parseInt(b, 10) } function s(d, c) { return d.getFullYear() === c.getFullYear() && d.getMonth() == c.getMonth() && d.getDate() == c.getDate() } function r(b) { if (b === G) { return } if (b.constructor == Date) { return b } if (typeof b == "string") { var f = b.split("-"); if (f.length == 3) { return new Date(v(f[0]), v(f[1]) - 1, v(f[2])) } if (!/^-?\d+$/.test(b)) { return } b = v(b) } var e = new Date; return e.setDate(e.getDate() + b), e } function q(ah, ag) { function b(d, j, h) { f = d, O = d.getFullYear(), m = d.getMonth(), k = d.getDate(), h = h || H.Event("api"), h.type = "beforeChange", P.trigger(h, [d]); if (h.isDefaultPrevented()) { return } ah.val(w(d, j.format, j.lang)), h.type = "change", P.trigger(h), ah.data("date", d), af.hide(h) } function a(d) { d.type = "onShow", P.trigger(d), H(document).bind("keydown.d", function (j) { if (j.ctrlKey) { return !0 } var K = j.keyCode; if (K == 8) { return ah.val(""), af.hide(j) } if (K == 27 || K == 9) { return af.hide(j) } if (H(D).index(K) >= 0) { if (!X) { return af.show(j), j.preventDefault() } var J = H("#" + ac.weeks + " a"), I = H("." + ac.focus), o = J.index(I); I.removeClass(ac.focus); if (K == 74 || K == 40) { o += 7 } else { if (K == 75 || K == 38) { o -= 7 } else { if (K == 76 || K == 39) { o += 1 } else { if (K == 72 || K == 37) { o -= 1 } } } } return o > 41 ? (af.addMonth(), I = H("#" + ac.weeks + " a:eq(" + (o - 42) + ")")) : o < 0 ? (af.addMonth(-1), I = H("#" + ac.weeks + " a:eq(" + (o + 42) + ")")) : I = J.eq(o), I.addClass(ac.focus), j.preventDefault() } return K == 34 ? af.addMonth() : K == 33 ? af.addMonth(-1) : K == 36 ? af.today() : (K == 13 && (H(j.target).is("select") || H("." + ac.focus).click()), H([16, 17, 18, 9]).index(K) >= 0) }), H(document).bind("click.d", function (h) { var j = h.target; !H(j).parents("#" + ac.root).length && j != ah[0] && (!U || j != U[0]) && af.hide(h) }) } var af = this, ae = new Date, ad = ae.getFullYear(), ac = ag.css, aa = C[ag.lang], Y = H("#" + ac.root), W = Y.find("#" + ac.title), U, S, Q, O, m, k, f = ah.attr("data-value") || ag.value || ah.val(), ab = ah.attr("min") || ag.min, Z = ah.attr("max") || ag.max, X, V; ab === 0 && (ab = "0"), f = r(f) || ae, ab = r(ab || new Date(ad + ag.yearRange[0], 1, 1)), Z = r(Z || new Date(ad + ag.yearRange[1] + 1, 1, -1)); if (!aa) { throw "Dateinput: invalid language: " + ag.lang } if (ah.attr("type") == "date") { var V = ah.clone(), T = V.wrap("<div/>").parent().html(), R = H(T.replace(/type/i, "type=text data-orig-type")); ag.value && R.val(ag.value), ah.replaceWith(R), ah = R } ah.addClass(ac.input); var P = ah.add(af); if (!Y.length) { Y = H("<div><div><a/><div/><a/></div><div><div/><div/></div></div>").hide().css({ position: "absolute" }).attr("id", ac.root), Y.children().eq(0).attr("id", ac.head).end().eq(1).attr("id", ac.body).children().eq(0).attr("id", ac.days).end().eq(1).attr("id", ac.weeks).end().end().end().find("a").eq(0).attr("id", ac.prev).end().eq(1).attr("id", ac.next), W = Y.find("#" + ac.head).find("div").attr("id", ac.title); if (ag.selectors) { var n = H("<select/>").attr("id", ac.month), l = H("<select/>").attr("id", ac.year); W.html(n.add(l)) } var g = Y.find("#" + ac.days); for (var e = 0; e < 7; e++) { g.append(H("<span/>").text(aa.shortDays[(e + ag.firstDay) % 7])) } H("body").append(Y) } ag.trigger && (U = H("<a/>").attr("href", "#").addClass(ac.trigger).click(function (d) { return ag.toggle ? af.toggle() : af.show(), d.preventDefault() }).insertAfter(ah)); var c = Y.find("#" + ac.weeks); l = Y.find("#" + ac.year), n = Y.find("#" + ac.month), H.extend(af, { show: function (d) { if (ah.attr("readonly") || ah.attr("disabled") || X) { return } d = d || H.Event(), d.type = "onBeforeShow", P.trigger(d); if (d.isDefaultPrevented()) { return } H.each(F, function () { this.hide() }), X = !0, n.unbind("change").change(function () { af.setValue(l.val(), H(this).val()) }), l.unbind("change").change(function () { af.setValue(H(this).val(), n.val()) }), S = Y.find("#" + ac.prev).unbind("click").click(function (j) { return S.hasClass(ac.disabled) || af.addMonth(-1), !1 }), Q = Y.find("#" + ac.next).unbind("click").click(function (j) { return Q.hasClass(ac.disabled) || af.addMonth(), !1 }), af.setValue(f); var h = ah.offset(); return /iPad/i.test(navigator.userAgent) && (h.top -= H(window).scrollTop()), Y.css({ top: h.top + ah.outerHeight({ margins: !0 }) + ag.offset[0], left: h.left + ag.offset[1] }), ag.speed ? Y.show(ag.speed, function () { a(d) }) : (Y.show(), a(d)), af }, setValue: function (aj, ai, N) { var M = v(ai) >= -1 ? new Date(v(aj), v(ai), v(N == G || isNaN(N) ? 1 : N)) : aj || f; M < ab ? M = ab : M > Z && (M = Z), typeof aj == "string" && (M = r(aj)), aj = M.getFullYear(), ai = M.getMonth(), N = M.getDate(), ai == -1 ? (ai = 11, aj--) : ai == 12 && (ai = 0, aj++); if (!X) { return b(M, ag), af } m = ai, O = aj, k = N; var L = new Date(aj, ai, 1 - ag.firstDay), I = L.getDay(), j = B(aj, ai), ao = B(aj, ai - 1), h; if (ag.selectors) { n.empty(), H.each(aa.months, function (o, J) { ab < new Date(aj, o + 1, 1) && Z > new Date(aj, o, 0) && n.append(H("<option/>").html(J).attr("value", o)) }), l.empty(); var ap = ae.getFullYear(); for (var an = ap + ag.yearRange[0]; an < ap + ag.yearRange[1]; an++) { ab < new Date(an + 1, 0, 1) && Z > new Date(an, 0, 0) && l.append(H("<option/>").text(an)) } n.val(ai), l.val(aj) } else { W.html(aa.months[ai] + " " + aj) } c.empty(), S.add(Q).removeClass(ac.disabled); for (var am = I ? 0 : -7, al, ak; am < (I ? 42 : 35); am++) { al = H("<a/>"), am % 7 === 0 && (h = H("<div/>").addClass(ac.week), c.append(h)), am < I ? (al.addClass(ac.off), ak = ao - I + am + 1, M = new Date(aj, ai - 1, ak)) : am >= I + j ? (al.addClass(ac.off), ak = am - j - I + 1, M = new Date(aj, ai + 1, ak)) : (ak = am - I + 1, M = new Date(aj, ai, ak), s(f, M) ? al.attr("id", ac.current).addClass(ac.focus) : s(ae, M) && al.attr("id", ac.today)), ab && M < ab && al.add(S).addClass(ac.disabled), Z && M > Z && al.add(Q).addClass(ac.disabled), al.attr("href", "#" + ak).text(ak).data("date", M), h.append(al) } return c.find("a").click(function (d) { var o = H(this); return o.hasClass(ac.disabled) || (H("#" + ac.current).removeAttr("id"), o.attr("id", ac.current), b(o.data("date"), ag, d)), !1 }), ac.sunday && c.find(ac.week).each(function () { var d = ag.firstDay ? 7 - ag.firstDay : 0; H(this).children().slice(d, d + 1).addClass(ac.sunday) }), af }, setMin: function (h, d) { return ab = r(h), d && f < ab && af.setValue(ab), af }, setMax: function (h, d) { return Z = r(h), d && f > Z && af.setValue(Z), af }, today: function () { return af.setValue(ae) }, addDay: function (d) { return this.setValue(O, m, k + (d || 1)) }, addMonth: function (j) { var h = m + (j || 1), I = B(O, h), o = k <= I ? k : I; return this.setValue(O, h, o) }, addYear: function (d) { return this.setValue(O + (d || 1), m, k) }, destroy: function () { ah.add(document).unbind("click.d").unbind("keydown.d"), Y.add(U).remove(), ah.removeData("dateinput").removeClass(ac.input), V && ah.replaceWith(V) }, hide: function (d) { if (X) { d = H.Event(), d.type = "onHide", P.trigger(d), H(document).unbind("click.d").unbind("keydown.d"); if (d.isDefaultPrevented()) { return } Y.hide(), X = !1 } return af }, toggle: function () { return af.isOpen() ? af.hide() : af.show() }, getConf: function () { return ag }, getInput: function () { return ah }, getCalendar: function () { return Y }, getValue: function (d) { return d ? w(f, d, ag.lang) : f }, isOpen: function () { return X } }), H.each(["onBeforeShow", "onShow", "change", "onHide"], function (d, h) { H.isFunction(ag[h]) && H(af).bind(h, ag[h]), af[h] = function (j) { return j && H(af).bind(h, j), af } }), ag.editable || ah.bind("focus.d click.d", af.show).keydown(function (d) { var h = d.keyCode; return !X && H(D).index(h) >= 0 ? (af.show(d), d.preventDefault()) : d.shiftKey || d.ctrlKey || d.altKey || h == 9 ? !0 : d.preventDefault() }), r(ah.val()) && b(f, ag) } H.tools = H.tools || { version: "1.2.6" }; var F = [], E, D = [75, 76, 38, 39, 74, 72, 40, 37], C = {}; E = H.tools.dateinput = { conf: { format: "mm/dd/yy", selectors: !1, yearRange: [-5, 5], lang: "en", offset: [0, 0], speed: 0, firstDay: 0, min: G, max: G, trigger: 0, toggle: 0, editable: 0, css: { prefix: "cal", input: "date", root: 0, head: 0, title: 0, prev: 0, next: 0, month: 0, year: 0, days: 0, body: 0, weeks: 0, today: 0, current: 0, week: 0, off: 0, sunday: 0, focus: 0, disabled: 0, trigger: 0} }, localize: function (a, d) { H.each(d, function (e, c) { d[e] = c.split(",") }), C[a] = d } }, E.localize("en", { months: "January,February,March,April,May,June,July,August,September,October,November,December", shortMonths: "Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec", days: "Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday", shortDays: "Sun,Mon,Tue,Wed,Thu,Fri,Sat" }); var z = /d{1,4}|m{1,4}|yy(?:yy)?|"[^"]*"|'[^']*'/g, y = H("<a/>"); H.expr[":"].date = function (a) { var d = a.getAttribute("type"); return d && d == "date" || !!H(a).data("dateinput") }, H.fn.dateinput = function (a) { if (this.data("dateinput")) { return this } a = H.extend(!0, {}, E.conf, a), H.each(a.css, function (b, d) { !d && b != "prefix" && (a.css[b] = (a.css.prefix || "") + (d || b)) }); var c; return this.each(function () { var e = new q(H(this), a); F.push(e); var b = e.getInput().data("dateinput", e); c = c ? c.add(b) : b }), c ? c : this } })(jQuery), function (f) { function g(z, y) { var w = this, v = z.add(w), s = f(window), r, q, o, c = f.tools.expose && (y.mask || y.expose), b = Math.random().toString().slice(10); c && (typeof c == "string" && (c = { color: c }), c.closeOnClick = c.closeOnEsc = !1); var a = y.target || z.attr("rel"); q = a ? f(a) : null || z; if (!q.length) { throw "Could not find Overlay: " + a } z && z.index(q) == -1 && z.click(function (d) { return w.load(d), d.preventDefault() }), f.extend(w, { load: function (A) { if (w.isOpened()) { return w } var j = h[y.effect]; if (!j) { throw 'Overlay: cannot find effect : "' + y.effect + '"' } y.oneInstance && f.each(e, function () { this.close(A) }), A = A || f.Event(), A.type = "onBeforeLoad", v.trigger(A); if (A.isDefaultPrevented()) { return w } o = !0, c && f(q).expose(c); var B = y.top, m = y.left, l = q.outerWidth({ margin: !0 }), k = q.outerHeight({ margin: !0 }); return typeof B == "string" && (B = B == "center" ? Math.max((s.height() - k) / 2, 0) : parseInt(B, 10) / 100 * s.height()), m == "center" && (m = Math.max((s.width() - l) / 2, 0)), j[0].call(w, { top: B, left: m }, function () { o && (A.type = "onLoad", v.trigger(A)) }), c && y.closeOnClick && f.mask.getMask().one("click", w.close), y.closeOnClick && f(document).bind("click." + b, function (d) { f(d.target).parents(q).length || w.close(d) }), y.closeOnEsc && f(document).bind("keydown." + b, function (d) { d.keyCode == 27 && w.close(d) }), w }, close: function (d) { if (!w.isOpened()) { return w } d = d || f.Event(), d.type = "onBeforeClose", v.trigger(d); if (d.isDefaultPrevented()) { return } return o = !1, h[y.effect][1].call(w, function () { d.type = "onClose", v.trigger(d) }), f(document).unbind("click." + b).unbind("keydown." + b), c && f.mask.close(), w }, getOverlay: function () { return q }, getTrigger: function () { return z }, getClosers: function () { return r }, isOpened: function () { return o }, getConf: function () { return y } }), f.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","), function (d, j) { f.isFunction(y[j]) && f(w).bind(j, y[j]), w[j] = function (k) { return k && f(w).bind(j, k), w } }), r = q.find(y.close || ".close"), !r.length && !y.close && (r = f('<a class="close"></a>'), q.prepend(r)), r.click(function (d) { w.close(d) }), y.load && w.load() } f.tools = f.tools || { version: "1.2.6" }, f.tools.overlay = { addEffect: function (j, c, k) { h[j] = [c, k] }, conf: { close: null, closeOnClick: !0, closeOnEsc: !0, closeSpeed: "fast", effect: "default", fixed: !f.browser.msie || f.browser.version > 6, left: "center", load: !1, mask: null, oneInstance: !0, speed: "normal", target: null, top: "10%"} }; var e = [], h = {}; f.tools.overlay.addEffect("default", function (a, l) { var k = this.getConf(), j = f(window); k.fixed || (a.top += j.scrollTop(), a.left += j.scrollLeft()), a.position = k.fixed ? "fixed" : "absolute", this.getOverlay().css(a).fadeIn(k.speed, l) }, function (b) { this.getOverlay().fadeOut(this.getConf().closeSpeed, b) }), f.fn.overlay = function (b) { var a = this.data("overlay"); return a ? a : (f.isFunction(b) && (b = { onBeforeLoad: b }), b = f.extend(!0, {}, f.tools.overlay.conf, b), this.each(function () { a = new g(f(this), b), e.push(a), f(this).data("overlay", a) }), b.api ? a : this) } } (jQuery), function (h) { function l(d) { var c = d.offset(); return { top: c.top + d.height() / 2, left: c.left + d.width() / 2} } var g = h.tools.overlay, m = h(window); h.extend(g.conf, { start: { top: null, left: null }, fadeInSpeed: "fast", zIndex: 9999 }); var k = function (C, B) { var A = this.getOverlay(), z = this.getConf(), y = this.getTrigger(), w = this, v = A.outerWidth({ margin: !0 }), s = A.data("img"), r = z.fixed ? "fixed" : "absolute"; if (!s) { var q = A.css("backgroundImage"); if (!q) { throw "background-image CSS property not set for overlay" } q = q.slice(q.indexOf("(") + 1, q.indexOf(")")).replace(/\"/g, ""), A.css("backgroundImage", "none"), s = h('<img src="' + q + '"/>'), s.css({ border: 0, display: "none" }).width(v), h("body").append(s), A.data("img", s) } var d = z.start.top || Math.round(m.height() / 2), c = z.start.left || Math.round(m.width() / 2); if (y) { var a = l(y); d = a.top, c = a.left } z.fixed ? (d -= m.scrollTop(), c -= m.scrollLeft()) : (C.top += m.scrollTop(), C.left += m.scrollLeft()), s.css({ position: "absolute", top: d, left: c, width: 0, zIndex: z.zIndex }).show(), C.position = r, A.css(C), s.animate({ top: A.css("top"), left: A.css("left"), width: v }, z.speed, function () { A.css("zIndex", z.zIndex + 1).fadeIn(z.fadeInSpeed, function () { w.isOpened() && !h(this).index(A) ? B.call() : A.hide() }) }).css("position", r) }, j = function (a) { var q = this.getOverlay().hide(), o = this.getConf(), n = this.getTrigger(), d = q.data("img"), c = { top: o.start.top, left: o.start.left, width: 0 }; n && h.extend(c, l(n)), o.fixed && d.css({ position: "absolute" }).animate({ top: "+=" + m.scrollTop(), left: "+=" + m.scrollLeft() }, 0), d.animate(c, o.closeSpeed, a) }; g.addEffect("apple", k, j) } (jQuery), function (k) { function o(e, d) { var f = Math.pow(10, d); return Math.round(e * f) / f } function n(f, e) { var h = parseInt(f.css(e), 10); if (h) { return h } var g = f[0].currentStyle; return g && g.width && parseInt(g.width, 10) } function m(d) { var c = d.data("events"); return c && c.onSlide } function l(T, S) { function e(c, y, w, v) { w === undefined ? w = y / L * G : v && (w -= S.min), F && (w = Math.round(w / F) * F); if (y === undefined || F) { y = w * L / G } if (isNaN(w)) { return R } y = Math.max(0, Math.min(y, L)), w = y / L * G; if (v || !O) { w += S.min } O && (v ? y = L - y : w = S.max - w), w = o(w, E); var s = c.type == "click"; if (f && N !== undefined && !s) { c.type = "onSlide", g.trigger(c, [w, y]); if (c.isDefaultPrevented()) { return R } } var b = s ? S.speed : 0, d = s ? function () { c.type = "change", g.trigger(c, [w]) } : null; return O ? (J.animate({ top: y }, b, d), S.progress && I.animate({ height: L - y + J.height() / 2 }, b)) : (J.animate({ left: y }, b, d), S.progress && I.animate({ width: y + J.width() / 2 }, b)), N = w, K = y, T.val(w), R } function a() { O = S.vertical || n(P, "height") > n(P, "width"), O ? (L = n(P, "height") - n(J, "height"), M = P.offset().top + L) : (L = n(P, "width") - n(J, "width"), M = P.offset().left) } function H() { a(), R.setValue(S.value !== undefined ? S.value : S.min) } var R = this, Q = S.css, P = k("<div><div/><a href='#'/></div>").data("rangeinput", R), O, N, M, L, K; T.before(P); var J = P.addClass(Q.slider).find("a").addClass(Q.handle), I = P.find("div").addClass(Q.progress); k.each("min,max,step,value".split(","), function (b, h) { var c = T.attr(h); parseFloat(c) && (S[h] = parseFloat(c, 10)) }); var G = S.max - S.min, F = S.step == "any" ? 0 : S.step, E = S.precision; if (E === undefined) { try { E = F.toString().split(".")[1].length } catch (D) { E = 0 } } if (T.attr("type") == "range") { var C = T.clone().wrap("<div/>").parent().html(), B = k(C.replace(/type/i, "type=text data-orig-type")); B.val(S.value), T.replaceWith(B), T = B } T.addClass(Q.input); var g = k(R).add(T), f = !0; k.extend(R, { getValue: function () { return N }, setValue: function (d, h) { return a(), e(h || k.Event("api"), undefined, d, !0) }, getConf: function () { return S }, getProgress: function () { return I }, getHandle: function () { return J }, getInput: function () { return T }, step: function (c, h) { h = h || k.Event(); var d = S.step == "any" ? 1 : S.step; R.setValue(N + d * (c || 1), h) }, stepUp: function (b) { return R.step(b || 1) }, stepDown: function (b) { return R.step(-b || -1) } }), k.each("onSlide,change".split(","), function (c, d) { k.isFunction(S[d]) && k(R).bind(d, S[d]), R[d] = function (h) { return h && k(R).bind(d, h), R } }), J.drag({ drag: !1 }).bind("dragStart", function () { a(), f = m(k(R)) || m(T) }).bind("drag", function (b, s, h) { if (T.is(":disabled")) { return !1 } e(b, O ? s : h) }).bind("dragEnd", function (b) { b.isDefaultPrevented() || (b.type = "change", g.trigger(b, [N])) }).click(function (b) { return b.preventDefault() }), P.click(function (b) { if (T.is(":disabled") || b.target == J[0]) { return b.preventDefault() } a(); var d = O ? J.height() / 2 : J.width() / 2; e(b, O ? L - M - d + b.pageY : b.pageX - M - d) }), S.keyboard && T.keydown(function (s) { if (T.attr("readonly")) { return } var h = s.keyCode, d = k([75, 76, 38, 33, 39]).index(h) != -1, b = k([74, 72, 40, 34, 37]).index(h) != -1; if ((d || b) && !(s.shiftKey || s.altKey || s.ctrlKey)) { return d ? R.step(h == 33 ? 10 : 1, s) : b && R.step(h == 34 ? -10 : -1, s), s.preventDefault() } }), T.blur(function (d) { var h = k(this).val(); h !== N && R.setValue(h, d) }), k.extend(T[0], { stepUp: R.stepUp, stepDown: R.stepDown }), H(), L || k(window).load(H) } k.tools = k.tools || { version: "1.2.6" }; var j; j = k.tools.rangeinput = { conf: { min: 0, max: 100, step: "any", steps: 0, value: 0, precision: undefined, vertical: 0, keyboard: !0, progress: !1, speed: 100, css: { input: "range", slider: "slider", progress: "progress", handle: "handle"}} }; var r, q; k.fn.drag = function (a) { return document.ondragstart = function () { return !1 }, a = k.extend({ x: !0, y: !0, drag: !0 }, a), r = r || k(document).bind("mousedown mouseup", function (w) { var v = k(w.target); if (w.type == "mousedown" && v.data("drag")) { var s = v.position(), d = w.pageX - s.left, c = w.pageY - s.top, b = !0; r.bind("mousemove.drag", function (f) { var z = f.pageX - d, y = f.pageY - c, h = {}; a.x && (h.left = z), a.y && (h.top = y), b && (v.trigger("dragStart"), b = !1), a.drag && v.css(h), v.trigger("drag", [y, z]), q = v }), w.preventDefault() } else { try { q && q.trigger("dragEnd") } finally { r.unbind("mousemove.drag"), q = null } } }), this.data("drag", !0) }, k.expr[":"].range = function (a) { var d = a.getAttribute("type"); return d && d == "range" || !!k(a).filter("input").data("rangeinput") }, k.fn.rangeinput = function (b) { if (this.data("rangeinput")) { return this } b = k.extend(!0, {}, j.conf, b); var a; return this.each(function () { var c = new l(k(this), k.extend(!0, {}, b)), d = c.getInput().data("rangeinput", c); a = a ? a.add(d) : d }), a ? a : this } } (jQuery), function (g) { function f(l, e) { var n = parseInt(l.css(e), 10); if (n) { return n } var m = l[0].currentStyle; return m && m.width && parseInt(m.width, 10) } function k(a, l) { var e = g(l); return e.length < 2 ? e : a.parent().find(l) } function h(C, B) { var A = this, z = C.add(A), y = C.children(), w = 0, v = B.vertical; j || (j = A), y.length > 1 && (y = g(B.items, C)), B.size > 1 && (B.circular = !1), g.extend(A, { getConf: function () { return B }, getIndex: function () { return w }, getSize: function () { return A.getItems().size() }, getNaviButtons: function () { return d.add(c) }, getRoot: function () { return C }, getItemWrap: function () { return y }, getItems: function () { return y.find(B.item).not("." + B.clonedClass) }, move: function (l, e) { return A.seekTo(w + l, e) }, next: function (b) { return A.move(B.size, b) }, prev: function (b) { return A.move(-B.size, b) }, begin: function (b) { return A.seekTo(0, b) }, end: function (b) { return A.seekTo(A.getSize() - 1, b) }, focus: function () { return j = A, A }, addItem: function (e) { return e = g(e), B.circular ? (y.children().last().before(e), y.children().first().replaceWith(e.clone().addClass(B.clonedClass))) : (y.append(e), c.removeClass("disabled")), z.trigger("onAddItem", [e]), A }, seekTo: function (o, G, E) { o.jquery || (o *= 1); if (B.circular && o === 0 && w == -1 && G !== 0) { return A } if (!B.circular && o < 0 || o > A.getSize() || o < -1) { return A } var D = o; o.jquery ? o = A.getItems().index(o) : D = A.getItems().eq(o); var e = g.Event("onBeforeSeek"); if (!E) { z.trigger(e, [o, G]); if (e.isDefaultPrevented() || !D.length) { return A } } var F = v ? { top: -D.position().top} : { left: -D.position().left }; return w = o, j = A, G === undefined && (G = B.speed), y.animate(F, G, B.easing, E || function () { z.trigger("onSeek", [o]) }), A } }), g.each(["onBeforeSeek", "onSeek", "onAddItem"], function (e, l) { g.isFunction(B[l]) && g(A).bind(l, B[l]), A[l] = function (m) { return m && g(A).bind(l, m), A } }); if (B.circular) { var s = A.getItems().slice(-1).clone().prependTo(y), r = A.getItems().eq(1).clone().appendTo(y); s.add(r).addClass(B.clonedClass), A.onBeforeSeek(function (l, e, m) { if (l.isDefaultPrevented()) { return } if (e == -1) { return A.seekTo(s, m, function () { A.end(0) }), l.preventDefault() } e == A.getSize() && A.seekTo(r, m, function () { A.begin(0) }) }); var q = C.parents().add(C).filter(function () { if (g(this).css("display") === "none") { return !0 } }); q.length ? (q.show(), A.seekTo(0, 0, function () { }), q.hide()) : A.seekTo(0, 0, function () { }) } var d = k(C, B.prev).click(function (b) { b.stopPropagation(), A.prev() }), c = k(C, B.next).click(function (b) { b.stopPropagation(), A.next() }); B.circular || (A.onBeforeSeek(function (l, e) { setTimeout(function () { l.isDefaultPrevented() || (d.toggleClass(B.disabledClass, e <= 0), c.toggleClass(B.disabledClass, e >= A.getSize() - 1)) }, 1) }), B.initialIndex || d.addClass(B.disabledClass)), A.getSize() < 2 && d.add(c).addClass(B.disabledClass), B.mousewheel && g.fn.mousewheel && C.mousewheel(function (l, e) { if (B.mousewheel) { return A.move(e < 0 ? 1 : -1, B.wheelSpeed || 50), !1 } }); if (B.touch) { var a = {}; y[0].ontouchstart = function (l) { var e = l.touches[0]; a.x = e.clientX, a.y = e.clientY }, y[0].ontouchmove = function (l) { if (l.touches.length == 1 && !y.is(":animated")) { var e = l.touches[0], n = a.x - e.clientX, m = a.y - e.clientY; A[v && m > 0 || !v && n > 0 ? "next" : "prev"](), l.preventDefault() } } } B.keyboard && g(document).bind("keydown.scrollable", function (e) { if (!B.keyboard || e.altKey || e.ctrlKey || e.metaKey || g(e.target).is(":input")) { return } if (B.keyboard != "static" && j != A) { return } var l = e.keyCode; if (!(!v || l != 38 && l != 40)) { return A.move(l == 38 ? -1 : 1), e.preventDefault() } if (!v && (l == 37 || l == 39)) { return A.move(l == 37 ? -1 : 1), e.preventDefault() } }), B.initialIndex && A.seekTo(B.initialIndex, 0, function () { }) } g.tools = g.tools || { version: "1.2.6" }, g.tools.scrollable = { conf: { activeClass: "active", circular: !1, clonedClass: "cloned", disabledClass: "disabled", easing: "swing", initialIndex: 0, item: "> *", items: ".items", keyboard: !0, mousewheel: !1, next: ".next", prev: ".prev", size: 1, speed: 400, vertical: !1, touch: !0, wheelSpeed: 0} }; var j; g.fn.scrollable = function (a) { var d = this.data("scrollable"); return d ? d : (a = g.extend({}, g.tools.scrollable.conf, a), this.each(function () { d = new h(g(this), a), g(this).data("scrollable", d) }), a.api ? d : this) } } (jQuery), function (d) { var c = d.tools.scrollable; c.autoscroll = { conf: { autoplay: !0, interval: 3000, autopause: !0} }, d.fn.autoscroll = function (f) { typeof f == "number" && (f = { interval: f }); var b = d.extend({}, c.autoscroll.conf, f), a; return this.each(function () { function j() { l = setTimeout(function () { e.next() }, b.interval) } var e = d(this).data("scrollable"), m = e.getRoot(), l, k = !1; e && (a = e), e.play = function () { if (l) { return } k = !1, m.bind("onSeek", j), j() }, e.pause = function () { l = clearTimeout(l), m.unbind("onSeek", j) }, e.resume = function () { k || e.play() }, e.stop = function () { k = !0, e.pause() }, b.autopause && m.add(e.getNaviButtons()).hover(e.pause, e.resume), b.autoplay && e.play() }), b.api ? a : this } } (jQuery), function (e) { function f(a, h) { var g = e(h); return g.length < 2 ? g : a.parent().find(h) } var d = e.tools.scrollable; d.navigator = { conf: { navi: ".navi", naviItem: null, activeClass: "active", indexed: !1, idPrefix: null, history: !1} }, e.fn.navigator = function (b) { typeof b == "string" && (b = { navi: b }), b = e.extend({}, d.navigator.conf, b); var a; return this.each(function () { function o(g, j, h) { y.seekTo(j), h.preventDefault(), r && history.pushState({ i: j }) } function n() { return w.find(b.naviItem || "> *") } function c(g) { var h = e("<" + (b.naviItem || "a") + "/>").click(function (j) { o(e(this), g, j) }); return g === 0 && h.addClass(s), b.indexed && h.text(g + 1), b.idPrefix && h.attr("id", b.idPrefix + g), h.appendTo(w) } var y = e(this).data("scrollable"), w = b.navi.jquery ? b.navi : f(y.getRoot(), b.navi), v = y.getNaviButtons(), s = b.activeClass, r = b.history && !!history.pushState, q = y.getConf().size; y && (a = y), y.getNaviButtons = function () { return v.add(w) }, r && (history.pushState({ i: 0 }), e(window).bind("popstate", function (g) { var h = g.originalEvent.state; h && y.seekTo(h.i) })), n().length ? n().each(function (g) { e(this).click(function (h) { o(e(this), g, h) }) }) : e.each(y.getItems(), function (g) { g % q == 0 && c(g) }), y.onBeforeSeek(function (h, g) { setTimeout(function () { if (!h.isDefaultPrevented()) { var k = g / q, j = n().eq(k); j.length && n().removeClass(s).eq(k).addClass(s) } }, 1) }), y.onAddItem(function (g, j) { var h = y.getItems().index(j); h % q == 0 && c(h) }) }), b.api ? a : this } } (jQuery), function (g) { function h(r, q, o) { var n = this, m = r.add(this), l = r.find(o.tabs), b = q.jquery ? q : r.children(q), a; l.length || (l = r.children()), b.length || (b = r.parent().find(q)), b.length || (b = g(q)), g.extend(this, { click: function (w, v) { var s = l.eq(w); typeof w == "string" && w.replace("#", "") && (s = l.filter("[href*=" + w.replace("#", "") + "]"), w = Math.max(l.index(s), 0)); if (o.rotate) { var e = l.length - 1; if (w < 0) { return n.click(e, v) } if (w > e) { return n.click(0, v) } } if (!s.length) { if (a >= 0) { return n } w = o.initialIndex, s = l.eq(w) } if (w === a) { return n } v = v || g.Event(), v.type = "onBeforeClick", m.trigger(v, [w]); if (v.isDefaultPrevented()) { return } return f[o.effect].call(n, w, function () { a = w, v.type = "onClick", m.trigger(v, [w]) }), l.removeClass(o.current), s.addClass(o.current), n }, getConf: function () { return o }, getTabs: function () { return l }, getPanes: function () { return b }, getCurrentPane: function () { return b.eq(a) }, getCurrentTab: function () { return l.eq(a) }, getIndex: function () { return a }, next: function () { return n.click(a + 1) }, prev: function () { return n.click(a - 1) }, destroy: function () { return l.unbind(o.event).removeClass(o.current), b.find("a[href^=#]").unbind("click.T"), n } }), g.each("onBeforeClick,onClick".split(","), function (d, e) { g.isFunction(o[e]) && g(n).bind(e, o[e]), n[e] = function (c) { return c && g(n).bind(e, c), n } }), o.history && g.fn.history && (g.tools.history.init(l), o.event = "history"), l.each(function (c) { g(this).bind(o.event, function (d) { return n.click(c, d), d.preventDefault() }) }), b.find("a[href^=#]").bind("click.T", function (c) { n.click(g(this).attr("href"), c) }), location.hash && o.tabs == "a" && r.find("[href=" + location.hash + "]").length ? n.click(location.hash) : (o.initialIndex === 0 || o.initialIndex > 0) && n.click(o.initialIndex) } g.tools = g.tools || { version: "1.2.6" }, g.tools.tabs = { conf: { tabs: "a", current: "current", onBeforeClick: null, onClick: null, effect: "default", initialIndex: 0, event: "click", rotate: !1, slideUpSpeed: 400, slideDownSpeed: 400, history: !1 }, addEffect: function (b, d) { f[b] = d } }; var f = { "default": function (d, c) { this.getPanes().hide().eq(d).show(), c.call() }, fade: function (m, l) { var q = this.getConf(), o = q.fadeOutSpeed, n = this.getPanes(); o ? n.fadeOut(o) : n.hide(), n.eq(m).fadeIn(q.fadeInSpeed, l) }, slide: function (e, d) { var l = this.getConf(); this.getPanes().slideUp(l.slideUpSpeed), this.getPanes().eq(e).slideDown(l.slideDownSpeed, d) }, ajax: function (d, c) { this.getPanes().eq(0).load(this.getTabs().eq(d).attr("href"), c) } }, k, j; g.tools.tabs.addEffect("horizontal", function (a, l) { if (k) { return } var d = this.getPanes().eq(a), c = this.getCurrentPane(); j || (j = this.getPanes().eq(0).width()), k = !0, d.show(), c.animate({ width: 0 }, { step: function (b) { d.css("width", j - b) }, complete: function () { g(this).hide(), l.call(), k = !1 } }), c.length || (l.call(), k = !1) }), g.fn.tabs = function (a, l) { var e = this.data("tabs"); return e && (e.destroy(), this.removeData("tabs")), g.isFunction(l) && (l = { onBeforeClick: l }), l = g.extend({}, g.tools.tabs.conf, l), this.each(function () { e = new h(g(this), a, l), g(this).data("tabs", e) }), l.api ? e : this } } (jQuery), function (e) { function f(B, A) { function r(g) { var b = e(g); return b.length < 2 ? b : B.parent().find(g) } function n() { v = setTimeout(function () { w.next() }, A.interval) } var z = this, y = B.add(this), w = B.data("tabs"), v, s = !0, q = r(A.next).click(function () { w.next() }), o = r(A.prev).click(function () { w.prev() }); e.extend(z, { getTabs: function () { return w }, getConf: function () { return A }, play: function () { if (v) { return z } var c = e.Event("onBeforePlay"); return y.trigger(c), c.isDefaultPrevented() ? z : (s = !1, y.trigger("onPlay"), y.bind("onClick", n), n(), z) }, pause: function () { if (!v) { return z } var c = e.Event("onBeforePause"); return y.trigger(c), c.isDefaultPrevented() ? z : (v = clearTimeout(v), y.trigger("onPause"), y.unbind("onClick", n), z) }, resume: function () { s || z.play() }, stop: function () { z.pause(), s = !0 } }), e.each("onBeforePlay,onPlay,onBeforePause,onPause".split(","), function (c, g) { e.isFunction(A[g]) && e(z).bind(g, A[g]), z[g] = function (h) { return e(z).bind(g, h) } }), A.autopause && w.getTabs().add(q).add(o).add(w.getPanes()).hover(z.pause, z.resume), A.autoplay && z.play(), A.clickable && w.getPanes().click(function () { w.next() }); if (!w.getConf().rotate) { var a = A.disabledClass; w.getIndex() || o.addClass(a), w.onBeforeClick(function (g, c) { o.toggleClass(a, !c), q.toggleClass(a, c == w.getTabs().length - 1) }) } } var d; d = e.tools.tabs.slideshow = { conf: { next: ".forward", prev: ".backward", disabledClass: "disabled", autoplay: !1, autopause: !0, interval: 3000, clickable: !0, api: !1} }, e.fn.slideshow = function (b) { var a = this.data("slideshow"); return a ? a : (b = e.extend({}, d.conf, b), this.each(function () { a = new f(e(this), b), e(this).data("slideshow", a) }), b.api ? a : this) } } (jQuery), function (s) { function q() { if (s.browser.msie) { var a = s(document).height(), d = s(window).height(); return [window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth, a - d < 20 ? d : a] } return [s(document).width(), s(document).height()] } function o(a) { if (a) { return a.call(s.mask) } } s.tools = s.tools || { version: "1.2.6" }; var r; r = s.tools.expose = { conf: { maskId: "exposeMask", loadSpeed: "slow", closeSpeed: "fast", closeOnClick: !0, closeOnEsc: !0, zIndex: 9998, opacity: 0.8, startOpacity: 0, color: "#fff", onLoad: null, onClose: null} }; var n, m, l, k, j; s.mask = { load: function (c, b) { if (l) { return this } typeof c == "string" && (c = { color: c }), c = c || k, k = c = s.extend(s.extend({}, r.conf), c), n = s("#" + c.maskId), n.length || (n = s("<div/>").attr("id", c.maskId), s("body").append(n)); var a = q(); return n.css({ position: "absolute", top: 0, left: 0, width: a[0], height: a[1], display: "none", opacity: c.startOpacity, zIndex: c.zIndex }), c.color && n.css("backgroundColor", c.color), o(c.onBeforeLoad) === !1 ? this : (c.closeOnEsc && s(document).bind("keydown.mask", function (d) { d.keyCode == 27 && s.mask.close(d) }), c.closeOnClick && n.bind("click.mask", function (d) { s.mask.close(d) }), s(window).bind("resize.mask", function () { s.mask.fit() }), b && b.length && (j = b.eq(0).css("zIndex"), s.each(b, function () { var d = s(this); /relative|absolute|fixed/i.test(d.css("position")) || d.css("position", "relative") }), m = b.css({ zIndex: Math.max(c.zIndex + 1, j == "auto" ? 0 : j) })), n.css({ display: "block" }).fadeTo(c.loadSpeed, c.opacity, function () { s.mask.fit(), o(c.onLoad), l = "full" }), l = !0, this) }, close: function () { if (l) { if (o(k.onBeforeClose) === !1) { return this } n.fadeOut(k.closeSpeed, function () { o(k.onClose), m && m.css({ zIndex: j }), l = !1 }), s(document).unbind("keydown.mask"), n.unbind("click.mask"), s(window).unbind("resize.mask") } return this }, fit: function () { if (l) { var b = q(); n.css({ width: b[0], height: b[1] }) } }, getMask: function () { return n }, isLoaded: function (b) { return b ? l == "full" : l }, getConf: function () { return k }, getExposed: function () { return m } }, s.fn.mask = function (a) { return s.mask.load(a), this }, s.fn.expose = function (a) { return s.mask.load(a, this), this } } (jQuery), function () { function o(e, d) { if (d) { for (var f in d) { d.hasOwnProperty(f) && (e[f] = d[f]) } } return e } function n(f, e) { var h = []; for (var g in f) { f.hasOwnProperty(g) && (h[g] = e(f[g])) } return h } function k(h, f, b) { if (m.isSupported(f.version)) { h.innerHTML = m.getHTML(f, b) } else { if (f.expressInstall && m.isSupported([6, 65])) { h.innerHTML = m.getHTML(o(f, { src: f.expressInstall }), { MMredirectURL: location.href, MMplayerType: "PlugIn", MMdoctitle: document.title }) } else { h.innerHTML.replace(/\s/g, "") || (h.innerHTML = "<h2>Flash version " + f.version + " or greater is required</h2><h3>" + (l[0] > 0 ? "Your version is " + l : "You have no flash plugin installed") + "</h3>" + (h.tagName == "A" ? "<p>Click here to download latest version</p>" : "<p>Download latest version from <a href='" + v + "'>here</a></p>"), h.tagName == "A" && (h.onclick = function () { location.href = v })); if (f.onFail) { var a = f.onFail.call(this); typeof a == "string" && (h.innerHTML = a) } } } w && (window[f.id] = document.getElementById(f.id)), o(this, { getRoot: function () { return h }, getOptions: function () { return f }, getConf: function () { return b }, getApi: function () { return h.firstChild } }) } var w = document.all, v = "http://www.adobe.com/go/getflashplayer", s = typeof jQuery == "function", r = /(\d+)[^\d]+(\d+)[^\d]*(\d*)/, q = { width: "100%", height: "100%", id: "_" + ("" + Math.random()).slice(9), allowfullscreen: !0, allowscriptaccess: "always", quality: "high", version: [3, 0], onFail: null, expressInstall: null, w3c: !1, cachebusting: !1 }; window.attachEvent && window.attachEvent("onbeforeunload", function () { __flash_unloadHandler = function () { }, __flash_savedUnloadHandler = function () { } }), window.flashembed = function (e, d, f) { typeof e == "string" && (e = document.getElementById(e.replace("#", ""))); if (!e) { return } return typeof d == "string" && (d = { src: d }), new k(e, o(o({}, q), d), f) }; var m = o(window.flashembed, { conf: q, getVersion: function () { var g, d; try { d = navigator.plugins["Shockwave Flash"].description.slice(16) } catch (y) { try { g = new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"), d = g && g.GetVariable("$version") } catch (j) { try { g = new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"), d = g && g.GetVariable("$version") } catch (h) { } } } return d = r.exec(d), d ? [d[1], d[3]] : [0, 0] }, asString: function (f) { if (f === null || f === undefined) { return null } var e = typeof f; e == "object" && f.push && (e = "array"); switch (e) { case "string": return f = f.replace(new RegExp('(["\\\\])', "g"), "\\$1"), f = f.replace(/^\s?(\d+\.?\d*)%/, "$1pct"), '"' + f + '"'; case "array": return "[" + n(f, function (b) { return m.asString(b) }).join(",") + "]"; case "function": return '"function()"'; case "object": var h = []; for (var g in f) { f.hasOwnProperty(g) && h.push('"' + g + '":' + m.asString(f[g])) } return "{" + h.join(",") + "}" } return String(f).replace(/\s/g, " ").replace(/\'/g, '"') }, getHTML: function (a, B) { a = o({}, a); var A = '<object width="' + a.width + '" height="' + a.height + '" id="' + a.id + '" name="' + a.id + '"'; a.cachebusting && (a.src += (a.src.indexOf("?") != -1 ? "&" : "?") + Math.random()), a.w3c || !w ? A += ' data="' + a.src + '" type="application/x-shockwave-flash"' : A += ' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"', A += ">"; if (a.w3c || w) { A += '<param name="movie" value="' + a.src + '" />' } a.width = a.height = a.id = a.w3c = a.src = null, a.onFail = a.version = a.expressInstall = null; for (var z in a) { a[z] && (A += '<param name="' + z + '" value="' + a[z] + '" />') } var y = ""; if (B) { for (var h in B) { if (B[h]) { var f = B[h]; y += h + "=" + encodeURIComponent(/function|object/.test(typeof f) ? m.asString(f) : f) + "&" } } y = y.slice(0, -1), A += '<param name="flashvars" value=\'' + y + "' />" } return A += "</object>", A }, isSupported: function (b) { return l[0] > b[0] || l[0] == b[0] && l[1] >= b[1] } }), l = m.getVersion(); s && (jQuery.tools = jQuery.tools || { version: "1.2.6" }, jQuery.tools.flashembed = { conf: q }, jQuery.fn.flashembed = function (d, c) { return this.each(function () { jQuery(this).data("flashembed", flashembed(this, d, c)) }) }) } (), function (h) { function j(d) { if (d) { var c = m.contentWindow.document; c.open().close(), c.location.hash = d } } var g, m, l, k; h.tools = h.tools || { version: "1.2.6" }, h.tools.history = { init: function (a) { if (k) { return } h.browser.msie && h.browser.version < "8" ? m || (m = h("<iframe/>").attr("src", "javascript:false;").hide().get(0), h("body").prepend(m), setInterval(function () { var c = m.contentWindow.document, b = c.location.hash; g !== b && h(window).trigger("hash", b) }, 100), j(location.hash || "#")) : setInterval(function () { var b = location.hash; b !== g && h(window).trigger("hash", b) }, 100), l = l ? l.add(a) : a, a.click(function (c) { var e = h(this).attr("href"); m && j(e); if (e.slice(0, 1) != "#") { return location.href = "#" + e, c.preventDefault() } }), k = !0 } }, h(window).bind("hash", function (b, a) { a ? l.filter(function () { var c = h(this).attr("href"); return c == a || c == a.replace("#", "") }).trigger("history", [a]) : l.eq(0).trigger("history", [a]), g = a }), h.fn.history = function (a) { return h.tools.history.init(this), this.bind("history", a) } } (jQuery), function (e) { function f(a) { switch (a.type) { case "mousemove": return e.extend(a.data, { clientX: a.clientX, clientY: a.clientY, pageX: a.pageX, pageY: a.pageY }); case "DOMMouseScroll": e.extend(a, a.data), a.delta = -a.detail / 3; break; case "mousewheel": a.delta = a.wheelDelta / 120 } return a.type = "wheel", e.event.handle.call(this, a, a.delta) } e.fn.mousewheel = function (b) { return this[b ? "bind" : "trigger"]("wheel", b) }, e.event.special.wheel = { setup: function () { e.event.add(this, d, f, {}) }, teardown: function () { e.event.remove(this, d, f) } }; var d = e.browser.mozilla ? "DOMMouseScroll" + (e.browser.version < "1.9" ? " mousemove" : "") : "mousewheel" } (jQuery), function (f) { function h(a, q, o) { var n = o.relative ? a.position().top : a.offset().top, m = o.relative ? a.position().left : a.offset().left, l = o.position[0]; n -= q.outerHeight() - o.offset[0], m += a.outerWidth() + o.offset[1], /iPad/i.test(navigator.userAgent) && (n -= f(window).scrollTop()); var k = q.outerHeight() + a.outerHeight(); l == "center" && (n += k / 2), l == "bottom" && (n += k), l = o.position[1]; var j = q.outerWidth() + a.outerWidth(); return l == "center" && (m -= j / 2), l == "left" && (m -= j), { top: n, left: m} } function g(G, F) { var E = this, D = G.add(E), C, B = 0, A = 0, z = G.attr("title"), y = G.attr("data-tooltip"), w = e[F.effect], v, s = G.is(":input"), c = s && G.is(":checkbox, :radio, select, :button, :submit"), b = G.attr("type"), a = F.events[b] || F.events[s ? c ? "widget" : "input" : "def"]; if (!w) { throw 'Nonexistent effect "' + F.effect + '"' } a = a.split(/,\s*/); if (a.length != 2) { throw "Tooltip: bad events configuration for " + b } G.bind(a[0], function (d) { clearTimeout(B), F.predelay ? A = setTimeout(function () { E.show(d) }, F.predelay) : E.show(d) }).bind(a[1], function (d) { clearTimeout(A), F.delay ? B = setTimeout(function () { E.hide(d) }, F.delay) : E.hide(d) }), z && F.cancelDefault && (G.removeAttr("title"), G.data("title", z)), f.extend(E, { show: function (d) { if (!C) { y ? C = f(y) : F.tip ? C = f(F.tip).eq(0) : z ? C = f(F.layout).addClass(F.tipClass).appendTo(document.body).hide().append(z) : (C = G.next(), C.length || (C = G.parent().next())); if (!C.length) { throw "Cannot find tooltip for " + G } } if (E.isShown()) { return E } C.stop(!0, !0); var k = h(G, C, F); F.tip && C.html(G.data("title")), d = f.Event(), d.type = "onBeforeShow", D.trigger(d, [k]); if (d.isDefaultPrevented()) { return E } k = h(G, C, F), C.css({ position: "absolute", top: k.top, left: k.left }), v = !0, w[0].call(E, function () { d.type = "onShow", v = "full", D.trigger(d) }); var j = F.events.tooltip.split(/,\s*/); return C.data("__set") || (C.unbind(j[0]).bind(j[0], function () { clearTimeout(B), clearTimeout(A) }), j[1] && !G.is("input:not(:checkbox, :radio), textarea") && C.unbind(j[1]).bind(j[1], function (l) { l.relatedTarget != G[0] && G.trigger(a[1].split(" ")[0]) }), F.tip || C.data("__set", !0)), E }, hide: function (d) { if (!C || !E.isShown()) { return E } d = f.Event(), d.type = "onBeforeHide", D.trigger(d); if (d.isDefaultPrevented()) { return } return v = !1, e[F.effect][1].call(E, function () { d.type = "onHide", D.trigger(d) }), E }, isShown: function (d) { return d ? v == "full" : v }, getConf: function () { return F }, getTip: function () { return C }, getTrigger: function () { return G } }), f.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","), function (d, j) { f.isFunction(F[j]) && f(E).bind(j, F[j]), E[j] = function (k) { return k && f(E).bind(j, k), E } }) } f.tools = f.tools || { version: "1.2.6" }, f.tools.tooltip = { conf: { effect: "toggle", fadeOutSpeed: "fast", predelay: 0, delay: 30, opacity: 1, tip: 0, fadeIE: !1, position: ["top", "center"], offset: [0, 0], relative: !1, cancelDefault: !0, events: { def: "mouseenter,mouseleave", input: "focus,blur", widget: "focus mouseenter,blur mouseleave", tooltip: "mouseenter,mouseleave" }, layout: "<div/>", tipClass: "tooltip" }, addEffect: function (b, k, j) { e[b] = [k, j] } }; var e = { toggle: [function (k) { var j = this.getConf(), m = this.getTip(), l = j.opacity; l < 1 && m.css({ opacity: l }), m.show(), k.call() }, function (b) { this.getTip().hide(), b.call() } ], fade: [function (a) { var d = this.getConf(); !f.browser.msie || d.fadeIE ? this.getTip().fadeTo(d.fadeInSpeed, d.opacity, a) : (this.getTip().show(), a()) }, function (a) { var d = this.getConf(); !f.browser.msie || d.fadeIE ? this.getTip().fadeOut(d.fadeOutSpeed, a) : (this.getTip().hide(), a()) } ] }; f.fn.tooltip = function (a) { var d = this.data("tooltip"); return d ? d : (a = f.extend(!0, {}, f.tools.tooltip.conf, a), typeof a.position == "string" && (a.position = a.position.split(/,?\s/)), this.each(function () { d = new g(f(this), a), f(this).data("tooltip", d) }), a.api ? d : this) } } (jQuery), function (f) { function h(a) { var l = f(window), k = l.width() + l.scrollLeft(), j = l.height() + l.scrollTop(); return [a.offset().top <= l.scrollTop(), k <= a.offset().left + a.width(), j <= a.offset().top + a.height(), l.scrollLeft() >= a.offset().left] } function g(d) { var c = d.length; while (c--) { if (d[c]) { return !1 } } return !0 } var e = f.tools.tooltip; e.dynamic = { conf: { classNames: "top right bottom left"} }, f.fn.dynamic = function (d) { typeof d == "number" && (d = { speed: d }), d = f.extend({}, e.dynamic.conf, d); var c = f.extend(!0, {}, d), b = d.classNames.split(/\s/), a; return this.each(function () { var j = f(this).tooltip().onBeforeShow(function (m, s) { var r = this.getTip(), q = this.getConf(); a || (a = [q.position[0], q.position[1], q.offset[0], q.offset[1], f.extend({}, q)]), f.extend(q, a[4]), q.position = [a[0], a[1]], q.offset = [a[2], a[3]], r.css({ visibility: "hidden", position: "absolute", top: s.top, left: s.left }).show(); var o = f.extend(!0, {}, c), n = h(r); if (!g(n)) { n[2] && (f.extend(q, o.top), q.position[0] = "top", r.addClass(b[0])), n[3] && (f.extend(q, o.right), q.position[1] = "right", r.addClass(b[1])), n[0] && (f.extend(q, o.bottom), q.position[0] = "bottom", r.addClass(b[2])), n[1] && (f.extend(q, o.left), q.position[1] = "left", r.addClass(b[3])); if (n[0] || n[2]) { q.offset[0] *= -1 } if (n[1] || n[3]) { q.offset[1] *= -1 } } r.css({ visibility: "visible" }).hide() }); j.onBeforeShow(function () { var l = this.getConf(), k = this.getTip(); setTimeout(function () { l.position = [a[0], a[1]], l.offset = [a[2], a[3]] }, 0) }), j.onHide(function () { var k = this.getTip(); k.removeClass(d.classNames) }), ret = j }), d.api ? ret : this } } (jQuery), function (e) { var d = e.tools.tooltip; e.extend(d.conf, { direction: "up", bounce: !1, slideOffset: 10, slideInSpeed: 200, slideOutSpeed: 200, slideFade: !e.browser.msie }); var f = { up: ["-", "top"], down: ["+", "top"], left: ["-", "left"], right: ["+", "left"] }; d.addEffect("slide", function (g) { var c = this.getConf(), k = this.getTip(), j = c.slideFade ? { opacity: c.opacity} : {}, h = f[c.direction] || f.up; j[h[1]] = h[0] + "=" + c.slideOffset, c.slideFade && k.css({ opacity: 0 }), k.show().animate(j, c.slideInSpeed, g) }, function (a) { var m = this.getConf(), l = m.slideOffset, k = m.slideFade ? { opacity: 0} : {}, j = f[m.direction] || f.up, c = "" + j[0]; m.bounce && (c = c == "+" ? "-" : "+"), k[j[1]] = c + "=" + l, this.getTip().animate(k, m.slideOutSpeed, function () { e(this).hide(), a.call() }) }) } (jQuery), function (B) { function r(J, I, H) { var G = J.offset().top, F = J.offset().left, E = H.position.split(/,?\s+/), D = E[0], C = E[1]; G -= I.outerHeight() - H.offset[0], F += J.outerWidth() + H.offset[1], /iPad/i.test(navigator.userAgent) && (G -= B(window).scrollTop()); var l = I.outerHeight() + J.outerHeight(); D == "center" && (G += l / 2), D == "bottom" && (G += l); var a = J.outerWidth(); return C == "center" && (F -= (a + I.outerWidth()) / 2), C == "left" && (F -= a), { top: G, left: F} } function q(d) { function c() { return this.getAttribute("type") == d } return c.key = "[type=" + d + "]", c } function m(d, C, k) { function g(e, F, E) { if (!k.grouped && e.length) { return } var D; if (E === !1 || B.isArray(E)) { D = s.messages[F.key || F] || s.messages["*"], D = D[k.lang] || s.messages["*"].en; var l = D.match(/\$\d/g); l && B.isArray(E) && B.each(l, function (b) { D = D.replace(this, E[b]) }) } else { D = E[k.lang] || E } e.push(D) } var j = this, h = C.add(j); d = d.not(":button, :image, :reset, :submit"), C.attr("novalidate", "novalidate"), B.extend(j, { getConf: function () { return k }, getForm: function () { return C }, getInputs: function () { return d }, reflow: function () { return d.each(function () { var e = B(this), l = e.data("msg.el"); if (l) { var f = r(e, l, k); l.css({ top: f.top, left: f.left }) } }), j }, invalidate: function (f, e) { if (!e) { var b = []; B.each(f, function (l, E) { var D = d.filter("[name='" + l + "']"); D.length && (D.trigger("OI", [E]), b.push({ input: D, messages: [E] })) }), f = b, e = B.Event() } return e.type = "onFail", h.trigger(e, [f]), e.isDefaultPrevented() || n[k.effect][0].call(j, f, e), j }, reset: function (b) { return b = b || d, b.removeClass(k.errorClass).each(function () { var c = B(this).data("msg.el"); c && (c.remove(), B(this).data("msg.el", null)) }).unbind(k.errorInputEvent || ""), j }, destroy: function () { return C.unbind(k.formEvent + ".V").unbind("reset.V"), d.unbind(k.inputEvent + ".V").unbind("change.V"), j.reset() }, checkValidity: function (l, f) { l = l || d, l = l.not(":disabled"); if (!l.length) { return !0 } f = f || B.Event(), f.type = "onBeforeValidate", h.trigger(f, [l]); if (f.isDefaultPrevented()) { return f.result } var e = []; l.not(":radio:not(:checked)").each(function () { var D = [], F = B(this).data("messages", D), E = y && F.is(":date") ? "onHide.v" : k.errorInputEvent + ".v"; F.unbind(E), B.each(o, function () { var c = this, I = c[0]; if (F.filter(I).length) { var H = c[1].call(j, F, F.val()); if (H !== !0) { f.type = "onBeforeFail", h.trigger(f, [F, I]); if (f.isDefaultPrevented()) { return !1 } var G = F.attr(k.messageAttr); if (G) { return D = [G], !1 } g(D, I, H) } } }), D.length && (e.push({ input: F, messages: D }), F.trigger("OI", [D]), k.errorInputEvent && F.bind(E, function (c) { j.checkValidity(F, c) })); if (k.singleError && e.length) { return !1 } }); var b = n[k.effect]; if (!b) { throw 'Validator: cannot find effect "' + k.effect + '"' } return e.length ? (j.invalidate(e, f), !1) : (b[1].call(j, l, f), f.type = "onSuccess", h.trigger(f, [l]), l.unbind(k.errorInputEvent + ".v"), !0) } }), B.each("onBeforeValidate,onBeforeFail,onFail,onSuccess".split(","), function (e, f) { B.isFunction(k[f]) && B(j).bind(f, k[f]), j[f] = function (c) { return c && B(j).bind(f, c), j } }), k.formEvent && C.bind(k.formEvent + ".V", function (b) { if (!j.checkValidity(null, b)) { return b.preventDefault() } b.target = C, b.type = k.formEvent }), C.bind("reset.V", function () { j.reset() }), d[0] && d[0].validity && d.each(function () { this.oninvalid = function () { return !1 } }), C[0] && (C[0].checkValidity = j.checkValidity), k.inputEvent && d.bind(k.inputEvent + ".V", function (c) { j.checkValidity(B(this), c) }), d.filter(":checkbox, select").filter("[required]").bind("change.V", function (e) { var f = B(this); (this.checked || f.is("select") && B(this).val()) && n[k.effect][1].call(j, f, e) }); var a = d.filter(":radio").change(function (b) { j.checkValidity(a, b) }); B(window).resize(function () { j.reflow() }) } B.tools = B.tools || { version: "1.2.6" }; var A = /\[type=([a-z]+)\]/, z = /^-?[0-9]*(\.[0-9]+)?$/, y = B.tools.dateinput, w = /^([a-z0-9_\.\-\+]+)@([\da-z\.\-]+)\.([a-z\.]{2,6})$/i, v = /^(https?:\/\/)?[\da-z\.\-]+\.[a-z\.]{2,6}[#&+_\?\/\w \.\-=]*$/i, s; s = B.tools.validator = { conf: { grouped: !1, effect: "default", errorClass: "invalid", inputEvent: null, errorInputEvent: "keyup", formEvent: "submit", lang: "en", message: "<div/>", messageAttr: "data-message", messageClass: "error", offset: [0, 0], position: "center right", singleError: !1, speed: "normal" }, messages: { "*": { en: "Please correct this value"} }, localize: function (a, d) { B.each(d, function (b, e) { s.messages[b] = s.messages[b] || {}, s.messages[b][a] = e }) }, localizeFn: function (a, d) { s.messages[a] = s.messages[a] || {}, B.extend(s.messages[a], d) }, fn: function (h, g, b) { B.isFunction(g) ? b = g : (typeof g == "string" && (g = { en: g }), this.messages[h.key || h] = g); var a = A.exec(h); a && (h = q(a[1])), o.push([h, b]) }, addEffect: function (e, d, f) { n[e] = [d, f] } }; var o = [], n = { "default": [function (a) { var d = this.getConf(); B.each(a, function (c, l) { var k = l.input; k.addClass(d.errorClass); var j = k.data("msg.el"); j || (j = B(d.message).addClass(d.messageClass).appendTo(document.body), k.data("msg.el", j)), j.css({ visibility: "hidden" }).find("p").remove(), B.each(l.messages, function (e, f) { B("<p/>").html(f).appendTo(j) }), j.outerWidth() == j.parent().width() && j.add(j.find("p")).css({ display: "inline" }); var h = r(k, j, d); j.css({ visibility: "visible", position: "absolute", top: h.top, left: h.left }).fadeIn(d.speed) }) }, function (a) { var d = this.getConf(); a.removeClass(d.errorClass).each(function () { var c = B(this).data("msg.el"); c && c.css({ visibility: "hidden" }) }) } ] }; B.each("email,url,number".split(","), function (a, d) { B.expr[":"][d] = function (b) { return b.getAttribute("type") === d } }), B.fn.oninvalid = function (b) { return this[b ? "bind" : "trigger"]("OI", b) }, s.fn(":email", "Please enter a valid email address", function (d, c) { return !c || w.test(c) }), s.fn(":url", "Please enter a valid URL", function (d, c) { return !c || v.test(c) }), s.fn(":number", "Please enter a numeric value.", function (d, c) { return z.test(c) }), s.fn("[max]", "Please enter a value no larger than $1", function (e, d) { if (d === "" || y && e.is(":date")) { return !0 } var f = e.attr("max"); return parseFloat(d) <= parseFloat(f) ? !0 : [f] }), s.fn("[min]", "Please enter a value of at least $1", function (e, d) { if (d === "" || y && e.is(":date")) { return !0 } var f = e.attr("min"); return parseFloat(d) >= parseFloat(f) ? !0 : [f] }), s.fn("[required]", "Please complete this mandatory field.", function (d, c) { return d.is(":checkbox") ? d.is(":checked") : !!c }), s.fn("[pattern]", function (d) { var c = new RegExp("^" + d.attr("pattern") + "$"); return c.test(d.val()) }), B.fn.validator = function (a) { var d = this.data("validator"); return d && (d.destroy(), this.removeData("validator")), a = B.extend(!0, {}, s.conf, a), this.is("form") ? this.each(function () { var b = B(this); d = new m(b.find(":input"), b, a), b.data("validator", d) }) : (d = new m(this, this.eq(0).closest("form"), a), this.data("validator", d)) } } (jQuery); $.fn.isOnScreen = function () { var c = $(window); var a = { top: c.scrollTop(), left: c.scrollLeft() }; a.right = a.left + c.width(); a.bottom = a.top + c.height(); var d = false; if (!this.is(":visible")) { d = true; this.show() } var b = this.offset(); b.right = b.left + this.outerWidth(); b.bottom = b.top + this.outerHeight(); if (d) { this.hide() } return (!(a.right < b.left || a.left > b.right || a.bottom < b.top || a.top > b.bottom)) }; var Navigation = { menu: null, submenu: null, showMenu: function (b) { var a = this; $("#sub-" + b).data("shouldShow", true); setTimeout(function () { if (!$("#sub-" + b).data("shouldShow")) { return } a.showSubMenu(b) }, 100) }, showSubMenu: function (a) { this.lazyLoadThumbnails(a); $("#menu_category_" + a).addClass("hover"); $("#sub-" + a).fadeIn() }, hideMenu: function (a) { this.delayHideSubMenu(a) }, hideSubMenu: function (a) { $("#menu_category_" + a).removeClass("hover"); $("#sub-" + a).fadeOut() }, delayHideSubMenu: function (b) { var a = this; $("#sub-" + b).data("shouldShow", false); setTimeout(function () { if (!$("#sub-" + b).data("shouldShow")) { a.hideSubMenu(b) } }, 100) }, showData: function (a) { $("#sub-" + a).data("shouldShow", true) }, lazyLoadThumbnails: function (a) { $("#sub-" + a + " .lazyNavigation").each(function () { if (!$(this).hasClass(".loaded")) { var f = $(this).attr("src"); if ("catalog-thumbnail" === $(this).attr("type")) { var b = '<img src="' + f + '" width="28" height="28" class="subnavigation-icon" onload="Navigation.showImage($(this));" style="display:none" />' } else { if ("brand-thumbnail" === $(this).attr("type")) { var e = $(this).attr("title"); var b = '<img width="77" src="' + f + '" title="' + e + '" onload="Navigation.showImage($(this));" style="display:none" />' } else { var b = '<img src="' + f + '" onload="Navigation.showImage($(this));" style="display:none" />' } } var d = $(this).parent(); d.children("span").remove(); var c = d.html(); d.html(b + c) } }) }, showImage: function (a) { a.fadeIn() } }; (function (j) { var m = "2.88"; if (j.support == undefined) { j.support = { opacity: !(j.browser.msie)} } function a(v) { if (j.fn.cycle.debug) { f(v) } } function f() { if (window.console && window.console.log) { window.console.log("[cycle] " + Array.prototype.join.call(arguments, " ")) } } j.fn.cycle = function (v, s) { var w = { s: this.selector, c: this.context }; if (this.length === 0 && v != "stop") { if (!j.isReady && w.s) { f("DOM not ready, queuing slideshow"); j(function () { j(w.s, w.c).cycle(v, s) }); return this } f("terminating; zero elements found by selector" + (j.isReady ? "" : " (DOM not ready)")); return this } return this.each(function () { var B = n(this, v, s); if (B === false) { return } B.updateActivePagerLink = B.updateActivePagerLink || j.fn.cycle.updateActivePagerLink; if (this.cycleTimeout) { clearTimeout(this.cycleTimeout) } this.cycleTimeout = this.cyclePause = 0; var C = j(this); var D = B.slideExpr ? j(B.slideExpr, this) : C.children(); var z = D.get(); if (z.length < 2) { f("terminating; too few slides: " + z.length); return } var y = l(C, D, z, B, w); if (y === false) { return } var A = y.continuous ? 10 : h(z[y.currSlide], z[y.nextSlide], y, !y.rev); if (A) { A += (y.delay || 0); if (A < 10) { A = 10 } a("first timeout: " + A); this.cycleTimeout = setTimeout(function () { e(z, y, 0, (!y.rev && !B.backwards)) }, A) } }) }; function n(s, y, v) { if (s.cycleStop == undefined) { s.cycleStop = 0 } if (y === undefined || y === null) { y = {} } if (y.constructor == String) { switch (y) { case "destroy": case "stop": var A = j(s).data("cycle.opts"); if (!A) { return false } s.cycleStop++; if (s.cycleTimeout) { clearTimeout(s.cycleTimeout) } s.cycleTimeout = 0; j(s).removeData("cycle.opts"); if (y == "destroy") { r(A) } return false; case "toggle": s.cyclePause = (s.cyclePause === 1) ? 0 : 1; z(s.cyclePause, v, s); return false; case "pause": s.cyclePause = 1; return false; case "resume": s.cyclePause = 0; z(false, v, s); return false; case "prev": case "next": var A = j(s).data("cycle.opts"); if (!A) { f('options not found, "prev/next" ignored'); return false } j.fn.cycle[y](A); return false; default: y = { fx: y} } return y } else { if (y.constructor == Number) { var w = y; y = j(s).data("cycle.opts"); if (!y) { f("options not found, can not advance slide"); return false } if (w < 0 || w >= y.elements.length) { f("invalid slide index: " + w); return false } y.nextSlide = w; if (s.cycleTimeout) { clearTimeout(s.cycleTimeout); s.cycleTimeout = 0 } if (typeof v == "string") { y.oneTimeFx = v } e(y.elements, y, 1, w >= y.currSlide); return false } } return y; function z(C, D, B) { if (!C && D === true) { var E = j(B).data("cycle.opts"); if (!E) { f("options not found, can not resume"); return false } if (B.cycleTimeout) { clearTimeout(B.cycleTimeout); B.cycleTimeout = 0 } e(E.elements, E, 1, (!A.rev && !A.backwards)) } } } function b(s, v) { if (!j.support.opacity && v.cleartype && s.style.filter) { try { s.style.removeAttribute("filter") } catch (w) { } } } function r(s) { if (s.next) { j(s.next).unbind(s.prevNextEvent) } if (s.prev) { j(s.prev).unbind(s.prevNextEvent) } if (s.pager || s.pagerAnchorBuilder) { j.each(s.pagerAnchors || [], function () { this.unbind().remove() }) } s.pagerAnchors = null; if (s.destroy) { s.destroy(s) } } function l(D, P, A, z, J) { var H = j.extend({}, j.fn.cycle.defaults, z || {}, j.metadata ? D.metadata() : j.meta ? D.data() : {}); if (H.autostop) { H.countdown = H.autostopCount || A.length } var v = D[0]; D.data("cycle.opts", H); H.$cont = D; H.stopCount = v.cycleStop; H.elements = A; H.before = H.before ? [H.before] : []; H.after = H.after ? [H.after] : []; H.after.unshift(function () { H.busy = 0 }); if (!j.support.opacity && H.cleartype) { H.after.push(function () { b(this, H) }) } if (H.continuous) { H.after.push(function () { e(A, H, 0, (!H.rev && !H.backwards)) }) } o(H); if (!j.support.opacity && H.cleartype && !H.cleartypeNoBg) { g(P) } if (D.css("position") == "static") { D.css("position", "relative") } if (H.width) { D.width(H.width) } if (H.height && H.height != "auto") { D.height(H.height) } if (H.startingSlide) { H.startingSlide = parseInt(H.startingSlide) } else { if (H.backwards) { H.startingSlide = A.length - 1 } } if (H.random) { H.randomMap = []; for (var N = 0; N < A.length; N++) { H.randomMap.push(N) } H.randomMap.sort(function (R, w) { return Math.random() - 0.5 }); H.randomIndex = 1; H.startingSlide = H.randomMap[1] } else { if (H.startingSlide >= A.length) { H.startingSlide = 0 } } H.currSlide = H.startingSlide || 0; var C = H.startingSlide; P.css({ position: "absolute", top: 0, left: 0 }).hide().each(function (w) { var R; if (H.backwards) { R = C ? w <= C ? A.length + (w - C) : C - w : A.length - w } else { R = C ? w >= C ? A.length - (w - C) : C - w : A.length - w } j(this).css("z-index", R) }); j(A[C]).css("opacity", 1).show(); b(A[C], H); if (H.fit && H.width) { P.width(H.width) } if (H.fit && H.height && H.height != "auto") { P.height(H.height) } var I = H.containerResize && !D.innerHeight(); if (I) { var B = 0, G = 0; for (var L = 0; L < A.length; L++) { var s = j(A[L]), Q = s[0], F = s.outerWidth(), O = s.outerHeight(); if (!F) { F = Q.offsetWidth || Q.width || s.attr("width") } if (!O) { O = Q.offsetHeight || Q.height || s.attr("height") } B = F > B ? F : B; G = O > G ? O : G } if (B > 0 && G > 0) { D.css({ width: B + "px", height: G + "px" }) } } if (H.pause) { D.hover(function () { this.cyclePause++ }, function () { this.cyclePause-- }) } if (c(H) === false) { return false } var y = false; z.requeueAttempts = z.requeueAttempts || 0; P.each(function () { var T = j(this); this.cycleH = (H.fit && H.height) ? H.height : (T.height() || this.offsetHeight || this.height || T.attr("height") || 0); this.cycleW = (H.fit && H.width) ? H.width : (T.width() || this.offsetWidth || this.width || T.attr("width") || 0); if (T.is("img")) { var R = (j.browser.msie && this.cycleW == 28 && this.cycleH == 30 && !this.complete); var U = (j.browser.mozilla && this.cycleW == 34 && this.cycleH == 19 && !this.complete); var S = (j.browser.opera && ((this.cycleW == 42 && this.cycleH == 19) || (this.cycleW == 37 && this.cycleH == 17)) && !this.complete); var w = (this.cycleH == 0 && this.cycleW == 0 && !this.complete); if (R || U || S || w) { if (J.s && H.requeueOnImageNotLoaded && ++z.requeueAttempts < 100) { f(z.requeueAttempts, " - img slide not loaded, requeuing slideshow: ", this.src, this.cycleW, this.cycleH); setTimeout(function () { j(J.s, J.c).cycle(z) }, H.requeueTimeout); y = true; return false } else { f("could not determine size of image: " + this.src, this.cycleW, this.cycleH) } } } return true }); if (y) { return false } H.cssBefore = H.cssBefore || {}; H.animIn = H.animIn || {}; H.animOut = H.animOut || {}; P.not(":eq(" + C + ")").css(H.cssBefore); if (H.cssFirst) { j(P[C]).css(H.cssFirst) } if (H.timeout) { H.timeout = parseInt(H.timeout); if (H.speed.constructor == String) { H.speed = j.fx.speeds[H.speed] || parseInt(H.speed) } if (!H.sync) { H.speed = H.speed / 2 } var K = H.fx == "shuffle" ? 500 : 250; while ((H.timeout - H.speed) < K) { H.timeout += H.speed } } if (H.easing) { H.easeIn = H.easeOut = H.easing } if (!H.speedIn) { H.speedIn = H.speed } if (!H.speedOut) { H.speedOut = H.speed } H.slideCount = A.length; H.currSlide = H.lastSlide = C; if (H.random) { if (++H.randomIndex == A.length) { H.randomIndex = 0 } H.nextSlide = H.randomMap[H.randomIndex] } else { if (H.backwards) { H.nextSlide = H.startingSlide == 0 ? (A.length - 1) : H.startingSlide - 1 } else { H.nextSlide = H.startingSlide >= (A.length - 1) ? 0 : H.startingSlide + 1 } } if (!H.multiFx) { var M = j.fn.cycle.transitions[H.fx]; if (j.isFunction(M)) { M(D, P, H) } else { if (H.fx != "custom" && !H.multiFx) { f("unknown transition: " + H.fx, "; slideshow terminating"); return false } } } var E = P[C]; if (H.before.length) { H.before[0].apply(E, [E, E, H, true]) } if (H.after.length > 1) { H.after[1].apply(E, [E, E, H, true]) } if (H.next) { j(H.next).bind(H.prevNextEvent, function () { return q(H, H.rev ? -1 : 1) }) } if (H.prev) { j(H.prev).bind(H.prevNextEvent, function () { return q(H, H.rev ? 1 : -1) }) } if (H.pager || H.pagerAnchorBuilder) { d(A, H) } k(H, A); return H } function o(s) { s.original = { before: [], after: [] }; s.original.cssBefore = j.extend({}, s.cssBefore); s.original.cssAfter = j.extend({}, s.cssAfter); s.original.animIn = j.extend({}, s.animIn); s.original.animOut = j.extend({}, s.animOut); j.each(s.before, function () { s.original.before.push(this) }); j.each(s.after, function () { s.original.after.push(this) }) } function c(B) { var z, w, v = j.fn.cycle.transitions; if (B.fx.indexOf(",") > 0) { B.multiFx = true; B.fxs = B.fx.replace(/\s*/g, "").split(","); for (z = 0; z < B.fxs.length; z++) { var A = B.fxs[z]; w = v[A]; if (!w || !v.hasOwnProperty(A) || !j.isFunction(w)) { f("discarding unknown transition: ", A); B.fxs.splice(z, 1); z-- } } if (!B.fxs.length) { f("No valid transitions named; slideshow terminating."); return false } } else { if (B.fx == "all") { B.multiFx = true; B.fxs = []; for (p in v) { w = v[p]; if (v.hasOwnProperty(p) && j.isFunction(w)) { B.fxs.push(p) } } } } if (B.multiFx && B.randomizeEffects) { var y = Math.floor(Math.random() * 20) + 30; for (z = 0; z < y; z++) { var s = Math.floor(Math.random() * B.fxs.length); B.fxs.push(B.fxs.splice(s, 1)[0]) } a("randomized fx sequence: ", B.fxs) } return true } function k(v, s) { v.addSlide = function (y, z) { var w = j(y), A = w[0]; if (!v.autostopCount) { v.countdown++ } s[z ? "unshift" : "push"](A); if (v.els) { v.els[z ? "unshift" : "push"](A) } v.slideCount = s.length; w.css("position", "absolute"); w[z ? "prependTo" : "appendTo"](v.$cont); if (z) { v.currSlide++; v.nextSlide++ } if (!j.support.opacity && v.cleartype && !v.cleartypeNoBg) { g(w) } if (v.fit && v.width) { w.width(v.width) } if (v.fit && v.height && v.height != "auto") { $slides.height(v.height) } A.cycleH = (v.fit && v.height) ? v.height : w.height(); A.cycleW = (v.fit && v.width) ? v.width : w.width(); w.css(v.cssBefore); if (v.pager || v.pagerAnchorBuilder) { j.fn.cycle.createPagerAnchor(s.length - 1, A, j(v.pager), s, v) } if (j.isFunction(v.onAddSlide)) { v.onAddSlide(w) } else { w.hide() } } } j.fn.cycle.resetState = function (v, s) { s = s || v.fx; v.before = []; v.after = []; v.cssBefore = j.extend({}, v.original.cssBefore); v.cssAfter = j.extend({}, v.original.cssAfter); v.animIn = j.extend({}, v.original.animIn); v.animOut = j.extend({}, v.original.animOut); v.fxFn = null; j.each(v.original.before, function () { v.before.push(this) }); j.each(v.original.after, function () { v.after.push(this) }); var w = j.fn.cycle.transitions[s]; if (j.isFunction(w)) { w(v.$cont, j(v.elements), v) } }; function e(C, s, B, E) { if (B && s.busy && s.manualTrump) { a("manualTrump in go(), stopping active transition"); j(C).stop(true, true); s.busy = false } if (s.busy) { a("transition active, ignoring new tx request"); return } var z = s.$cont[0], G = C[s.currSlide], F = C[s.nextSlide]; if (z.cycleStop != s.stopCount || z.cycleTimeout === 0 && !B) { return } if (!B && !z.cyclePause && !s.bounce && ((s.autostop && (--s.countdown <= 0)) || (s.nowrap && !s.random && s.nextSlide < s.currSlide))) { if (s.end) { s.end(s) } return } var D = false; if ((B || !z.cyclePause) && (s.nextSlide != s.currSlide)) { D = true; var A = s.fx; G.cycleH = G.cycleH || j(G).height(); G.cycleW = G.cycleW || j(G).width(); F.cycleH = F.cycleH || j(F).height(); F.cycleW = F.cycleW || j(F).width(); if (s.multiFx) { if (s.lastFx == undefined || ++s.lastFx >= s.fxs.length) { s.lastFx = 0 } A = s.fxs[s.lastFx]; s.currFx = A } if (s.oneTimeFx) { A = s.oneTimeFx; s.oneTimeFx = null } j.fn.cycle.resetState(s, A); if (s.before.length) { j.each(s.before, function (H, I) { if (z.cycleStop != s.stopCount) { return } I.apply(F, [G, F, s, E]) }) } var w = function () { j.each(s.after, function (H, I) { if (z.cycleStop != s.stopCount) { return } I.apply(F, [G, F, s, E]) }) }; a("tx firing; currSlide: " + s.currSlide + "; nextSlide: " + s.nextSlide); s.busy = 1; if (s.fxFn) { s.fxFn(G, F, s, w, E, B && s.fastOnEvent) } else { if (j.isFunction(j.fn.cycle[s.fx])) { j.fn.cycle[s.fx](G, F, s, w, E, B && s.fastOnEvent) } else { j.fn.cycle.custom(G, F, s, w, E, B && s.fastOnEvent) } } } if (D || s.nextSlide == s.currSlide) { s.lastSlide = s.currSlide; if (s.random) { s.currSlide = s.nextSlide; if (++s.randomIndex == C.length) { s.randomIndex = 0 } s.nextSlide = s.randomMap[s.randomIndex]; if (s.nextSlide == s.currSlide) { s.nextSlide = (s.currSlide == s.slideCount - 1) ? 0 : s.currSlide + 1 } } else { if (s.backwards) { var y = (s.nextSlide - 1) < 0; if (y && s.bounce) { s.backwards = !s.backwards; s.nextSlide = 1; s.currSlide = 0 } else { s.nextSlide = y ? (C.length - 1) : s.nextSlide - 1; s.currSlide = y ? 0 : s.nextSlide + 1 } } else { var y = (s.nextSlide + 1) == C.length; if (y && s.bounce) { s.backwards = !s.backwards; s.nextSlide = C.length - 2; s.currSlide = C.length - 1 } else { s.nextSlide = y ? 0 : s.nextSlide + 1; s.currSlide = y ? C.length - 1 : s.nextSlide - 1 } } } } if (D && s.pager) { s.updateActivePagerLink(s.pager, s.currSlide, s.activePagerClass) } var v = 0; if (s.timeout && !s.continuous) { v = h(C[s.currSlide], C[s.nextSlide], s, E) } else { if (s.continuous && z.cyclePause) { v = 10 } } if (v > 0) { z.cycleTimeout = setTimeout(function () { e(C, s, 0, (!s.rev && !s.backwards)) }, v) } } j.fn.cycle.updateActivePagerLink = function (s, w, v) { j(s).each(function () { j(this).children().removeClass(v).eq(w).addClass(v) }) }; function h(z, w, y, v) { if (y.timeoutFn) { var s = y.timeoutFn.call(z, z, w, y, v); while ((s - y.speed) < 250) { s += y.speed } a("calculated timeout: " + s + "; speed: " + y.speed); if (s !== false) { return s } } return y.timeout } j.fn.cycle.next = function (s) { q(s, s.rev ? -1 : 1) }; j.fn.cycle.prev = function (s) { q(s, s.rev ? 1 : -1) }; function q(w, A) { var v = w.elements; var z = w.$cont[0], y = z.cycleTimeout; if (y) { clearTimeout(y); z.cycleTimeout = 0 } if (w.random && A < 0) { w.randomIndex--; if (--w.randomIndex == -2) { w.randomIndex = v.length - 2 } else { if (w.randomIndex == -1) { w.randomIndex = v.length - 1 } } w.nextSlide = w.randomMap[w.randomIndex] } else { if (w.random) { w.nextSlide = w.randomMap[w.randomIndex] } else { w.nextSlide = w.currSlide + A; if (w.nextSlide < 0) { if (w.nowrap) { return false } w.nextSlide = v.length - 1 } else { if (w.nextSlide >= v.length) { if (w.nowrap) { return false } w.nextSlide = 0 } } } } var s = w.onPrevNextEvent || w.prevNextClick; if (j.isFunction(s)) { s(A > 0, w.nextSlide, v[w.nextSlide]) } e(v, w, 1, A >= 0); return false } function d(v, w) { var s = j(w.pager); j.each(v, function (y, z) { j.fn.cycle.createPagerAnchor(y, z, s, v, w) }); w.updateActivePagerLink(w.pager, w.startingSlide, w.activePagerClass) } j.fn.cycle.createPagerAnchor = function (z, A, w, y, B) { var v; if (j.isFunction(B.pagerAnchorBuilder)) { v = B.pagerAnchorBuilder(z, A); a("pagerAnchorBuilder(" + z + ", el) returned: " + v) } else { v = '<a href="#">' + (z + 1) + "</a>" } if (!v) { return } var C = j(v); if (C.parents("body").length === 0) { var s = []; if (w.length > 1) { w.each(function () { var D = C.clone(true); j(this).append(D); s.push(D[0]) }); C = j(s) } else { C.appendTo(w) } } B.pagerAnchors = B.pagerAnchors || []; B.pagerAnchors.push(C); C.bind(B.pagerEvent, function (G) { G.preventDefault(); B.nextSlide = z; var F = B.$cont[0], E = F.cycleTimeout; if (E) { clearTimeout(E); F.cycleTimeout = 0 } var D = B.onPagerEvent || B.pagerClick; if (j.isFunction(D)) { D(B.nextSlide, y[B.nextSlide]) } e(y, B, 1, B.currSlide < z) }); if (!/^click/.test(B.pagerEvent) && !B.allowPagerClickBubble) { C.bind("click.cycle", function () { return false }) } if (B.pauseOnPagerHover) { C.hover(function () { B.$cont[0].cyclePause++ }, function () { B.$cont[0].cyclePause-- }) } }; j.fn.cycle.hopsFromLast = function (y, w) { var v, s = y.lastSlide, z = y.currSlide; if (w) { v = z > s ? z - s : y.slideCount - s } else { v = z < s ? s - z : s + y.slideCount - z } return v }; function g(w) { a("applying clearType background-color hack"); function v(y) { y = parseInt(y).toString(16); return y.length < 2 ? "0" + y : y } function s(A) { for (; A && A.nodeName.toLowerCase() != "html"; A = A.parentNode) { var y = j.css(A, "background-color"); if (y.indexOf("rgb") >= 0) { var z = y.match(/\d+/g); return "#" + v(z[0]) + v(z[1]) + v(z[2]) } if (y && y != "transparent") { return y } } return "#ffffff" } w.each(function () { j(this).css("background-color", s(this)) }) } j.fn.cycle.commonReset = function (B, z, A, v, y, s) { j(A.elements).not(B).hide(); A.cssBefore.opacity = 1; A.cssBefore.display = "block"; if (v !== false && z.cycleW > 0) { A.cssBefore.width = z.cycleW } if (y !== false && z.cycleH > 0) { A.cssBefore.height = z.cycleH } A.cssAfter = A.cssAfter || {}; A.cssAfter.display = "none"; j(B).css("zIndex", A.slideCount + (s === true ? 1 : 0)); j(z).css("zIndex", A.slideCount + (s === true ? 0 : 1)) }; j.fn.cycle.custom = function (H, B, s, y, A, v) { var G = j(H), C = j(B); var w = s.speedIn, F = s.speedOut, z = s.easeIn, E = s.easeOut; C.css(s.cssBefore); if (v) { if (typeof v == "number") { w = F = v } else { w = F = 1 } z = E = null } var D = function () { C.animate(s.animIn, w, z, y) }; G.animate(s.animOut, F, E, function () { if (s.cssAfter) { G.css(s.cssAfter) } if (!s.sync) { D() } }); if (s.sync) { D() } }; j.fn.cycle.transitions = { fade: function (v, w, s) { w.not(":eq(" + s.currSlide + ")").css("opacity", 0); s.before.push(function (A, y, z) { j.fn.cycle.commonReset(A, y, z); z.cssBefore.opacity = 0 }); s.animIn = { opacity: 1 }; s.animOut = { opacity: 0 }; s.cssBefore = { top: 0, left: 0} } }; j.fn.cycle.ver = function () { return m }; j.fn.cycle.defaults = { fx: "fade", timeout: 4000, timeoutFn: null, continuous: 0, speed: 1000, speedIn: null, speedOut: null, next: null, prev: null, onPrevNextEvent: null, prevNextEvent: "click.cycle", pager: null, onPagerEvent: null, pagerEvent: "click.cycle", allowPagerClickBubble: false, pagerAnchorBuilder: null, before: null, after: null, end: null, easing: null, easeIn: null, easeOut: null, shuffle: null, animIn: null, animOut: null, cssBefore: null, cssAfter: null, fxFn: null, height: "auto", startingSlide: 0, sync: 1, random: 0, fit: 0, containerResize: 1, pause: 0, pauseOnPagerHover: 0, autostop: 0, autostopCount: 0, delay: 0, slideExpr: null, cleartype: !j.support.opacity, cleartypeNoBg: false, nowrap: 0, fastOnEvent: 0, randomizeEffects: 1, rev: 0, manualTrump: true, requeueOnImageNotLoaded: true, requeueTimeout: 250, activePagerClass: "activeSlide", updateActivePagerLink: null, backwards: false} })(jQuery); (function (a) { a.fn.cycle.transitions.none = function (c, d, b) { b.fxFn = function (g, e, f, h) { a(e).show(); a(g).hide(); h() } }; a.fn.cycle.transitions.scrollUp = function (d, e, c) { d.css("overflow", "hidden"); c.before.push(a.fn.cycle.commonReset); var b = d.height(); c.cssBefore = { top: b, left: 0 }; c.cssFirst = { top: 0 }; c.animIn = { top: 0 }; c.animOut = { top: -b} }; a.fn.cycle.transitions.scrollDown = function (d, e, c) { d.css("overflow", "hidden"); c.before.push(a.fn.cycle.commonReset); var b = d.height(); c.cssFirst = { top: 0 }; c.cssBefore = { top: -b, left: 0 }; c.animIn = { top: 0 }; c.animOut = { top: b} }; a.fn.cycle.transitions.scrollLeft = function (d, e, c) { d.css("overflow", "hidden"); c.before.push(a.fn.cycle.commonReset); var b = d.width(); c.cssFirst = { left: 0 }; c.cssBefore = { left: b, top: 0 }; c.animIn = { left: 0 }; c.animOut = { left: 0 - b} }; a.fn.cycle.transitions.scrollRight = function (d, e, c) { d.css("overflow", "hidden"); c.before.push(a.fn.cycle.commonReset); var b = d.width(); c.cssFirst = { left: 0 }; c.cssBefore = { left: -b, top: 0 }; c.animIn = { left: 0 }; c.animOut = { left: b} }; a.fn.cycle.transitions.scrollHorz = function (c, d, b) { c.css("overflow", "hidden").width(); b.before.push(function (h, f, g, e) { a.fn.cycle.commonReset(h, f, g); g.cssBefore.left = e ? (f.cycleW - 1) : (1 - f.cycleW); g.animOut.left = e ? -h.cycleW : h.cycleW }); b.cssFirst = { left: 0 }; b.cssBefore = { top: 0 }; b.animIn = { left: 0 }; b.animOut = { top: 0} }; a.fn.cycle.transitions.scrollVert = function (c, d, b) { c.css("overflow", "hidden"); b.before.push(function (h, f, g, e) { a.fn.cycle.commonReset(h, f, g); g.cssBefore.top = e ? (1 - f.cycleH) : (f.cycleH - 1); g.animOut.top = e ? h.cycleH : -h.cycleH }); b.cssFirst = { top: 0 }; b.cssBefore = { left: 0 }; b.animIn = { top: 0 }; b.animOut = { left: 0} }; a.fn.cycle.transitions.slideX = function (c, d, b) { b.before.push(function (g, e, f) { a(f.elements).not(g).hide(); a.fn.cycle.commonReset(g, e, f, false, true); f.animIn.width = e.cycleW }); b.cssBefore = { left: 0, top: 0, width: 0 }; b.animIn = { width: "show" }; b.animOut = { width: 0} }; a.fn.cycle.transitions.slideY = function (c, d, b) { b.before.push(function (g, e, f) { a(f.elements).not(g).hide(); a.fn.cycle.commonReset(g, e, f, true, false); f.animIn.height = e.cycleH }); b.cssBefore = { left: 0, top: 0, height: 0 }; b.animIn = { height: "show" }; b.animOut = { height: 0} }; a.fn.cycle.transitions.shuffle = function (e, f, d) { var c, b = e.css("overflow", "visible").width(); f.css({ left: 0, top: 0 }); d.before.push(function (j, g, h) { a.fn.cycle.commonReset(j, g, h, true, true, true) }); if (!d.speedAdjusted) { d.speed = d.speed / 2; d.speedAdjusted = true } d.random = 0; d.shuffle = d.shuffle || { left: -b, top: 15 }; d.els = []; for (c = 0; c < f.length; c++) { d.els.push(f[c]) } for (c = 0; c < d.currSlide; c++) { d.els.push(d.els.shift()) } d.fxFn = function (n, k, m, g, j) { var h = j ? a(n) : a(k); a(k).css(m.cssBefore); var l = m.slideCount; h.animate(m.shuffle, m.speedIn, m.easeIn, function () { var q = a.fn.cycle.hopsFromLast(m, j); for (var r = 0; r < q; r++) { j ? m.els.push(m.els.shift()) : m.els.unshift(m.els.pop()) } if (j) { for (var s = 0, o = m.els.length; s < o; s++) { a(m.els[s]).css("z-index", o - s + l) } } else { var v = a(n).css("z-index"); h.css("z-index", parseInt(v) + 1 + l) } h.animate({ left: 0, top: 0 }, m.speedOut, m.easeOut, function () { a(j ? this : n).hide(); if (g) { g() } }) }) }; d.cssBefore = { display: "block", opacity: 1, top: 0, left: 0} }; a.fn.cycle.transitions.turnUp = function (c, d, b) { b.before.push(function (g, e, f) { a.fn.cycle.commonReset(g, e, f, true, false); f.cssBefore.top = e.cycleH; f.animIn.height = e.cycleH }); b.cssFirst = { top: 0 }; b.cssBefore = { left: 0, height: 0 }; b.animIn = { top: 0 }; b.animOut = { height: 0} }; a.fn.cycle.transitions.turnDown = function (c, d, b) { b.before.push(function (g, e, f) { a.fn.cycle.commonReset(g, e, f, true, false); f.animIn.height = e.cycleH; f.animOut.top = g.cycleH }); b.cssFirst = { top: 0 }; b.cssBefore = { left: 0, top: 0, height: 0 }; b.animOut = { height: 0} }; a.fn.cycle.transitions.turnLeft = function (c, d, b) { b.before.push(function (g, e, f) { a.fn.cycle.commonReset(g, e, f, false, true); f.cssBefore.left = e.cycleW; f.animIn.width = e.cycleW }); b.cssBefore = { top: 0, width: 0 }; b.animIn = { left: 0 }; b.animOut = { width: 0} }; a.fn.cycle.transitions.turnRight = function (c, d, b) { b.before.push(function (g, e, f) { a.fn.cycle.commonReset(g, e, f, false, true); f.animIn.width = e.cycleW; f.animOut.left = g.cycleW }); b.cssBefore = { top: 0, left: 0, width: 0 }; b.animIn = { left: 0 }; b.animOut = { width: 0} }; a.fn.cycle.transitions.zoom = function (c, d, b) { b.before.push(function (g, e, f) { a.fn.cycle.commonReset(g, e, f, false, false, true); f.cssBefore.top = e.cycleH / 2; f.cssBefore.left = e.cycleW / 2; f.animIn = { top: 0, left: 0, width: e.cycleW, height: e.cycleH }; f.animOut = { width: 0, height: 0, top: g.cycleH / 2, left: g.cycleW / 2} }); b.cssFirst = { top: 0, left: 0 }; b.cssBefore = { width: 0, height: 0} }; a.fn.cycle.transitions.fadeZoom = function (c, d, b) { b.before.push(function (g, e, f) { a.fn.cycle.commonReset(g, e, f, false, false); f.cssBefore.left = e.cycleW / 2; f.cssBefore.top = e.cycleH / 2; f.animIn = { top: 0, left: 0, width: e.cycleW, height: e.cycleH} }); b.cssBefore = { width: 0, height: 0 }; b.animOut = { opacity: 0} }; a.fn.cycle.transitions.blindX = function (d, e, c) { var b = d.css("overflow", "hidden").width(); c.before.push(function (h, f, g) { a.fn.cycle.commonReset(h, f, g); g.animIn.width = f.cycleW; g.animOut.left = h.cycleW }); c.cssBefore = { left: b, top: 0 }; c.animIn = { left: 0 }; c.animOut = { left: b} }; a.fn.cycle.transitions.blindY = function (d, e, c) { var b = d.css("overflow", "hidden").height(); c.before.push(function (h, f, g) { a.fn.cycle.commonReset(h, f, g); g.animIn.height = f.cycleH; g.animOut.top = h.cycleH }); c.cssBefore = { top: b, left: 0 }; c.animIn = { top: 0 }; c.animOut = { top: b} }; a.fn.cycle.transitions.blindZ = function (e, f, d) { var c = e.css("overflow", "hidden").height(); var b = e.width(); d.before.push(function (j, g, h) { a.fn.cycle.commonReset(j, g, h); h.animIn.height = g.cycleH; h.animOut.top = j.cycleH }); d.cssBefore = { top: c, left: b }; d.animIn = { top: 0, left: 0 }; d.animOut = { top: c, left: b} }; a.fn.cycle.transitions.growX = function (c, d, b) { b.before.push(function (g, e, f) { a.fn.cycle.commonReset(g, e, f, false, true); f.cssBefore.left = this.cycleW / 2; f.animIn = { left: 0, width: this.cycleW }; f.animOut = { left: 0} }); b.cssBefore = { width: 0, top: 0} }; a.fn.cycle.transitions.growY = function (c, d, b) { b.before.push(function (g, e, f) { a.fn.cycle.commonReset(g, e, f, true, false); f.cssBefore.top = this.cycleH / 2; f.animIn = { top: 0, height: this.cycleH }; f.animOut = { top: 0} }); b.cssBefore = { height: 0, left: 0} }; a.fn.cycle.transitions.curtainX = function (c, d, b) { b.before.push(function (g, e, f) { a.fn.cycle.commonReset(g, e, f, false, true, true); f.cssBefore.left = e.cycleW / 2; f.animIn = { left: 0, width: this.cycleW }; f.animOut = { left: g.cycleW / 2, width: 0} }); b.cssBefore = { top: 0, width: 0} }; a.fn.cycle.transitions.curtainY = function (c, d, b) { b.before.push(function (g, e, f) { a.fn.cycle.commonReset(g, e, f, true, false, true); f.cssBefore.top = e.cycleH / 2; f.animIn = { top: 0, height: e.cycleH }; f.animOut = { top: g.cycleH / 2, height: 0} }); b.cssBefore = { left: 0, height: 0} }; a.fn.cycle.transitions.cover = function (f, g, e) { var j = e.direction || "left"; var b = f.css("overflow", "hidden").width(); var c = f.height(); e.before.push(function (k, d, h) { a.fn.cycle.commonReset(k, d, h); if (j == "right") { h.cssBefore.left = -b } else { if (j == "up") { h.cssBefore.top = c } else { if (j == "down") { h.cssBefore.top = -c } else { h.cssBefore.left = b } } } }); e.animIn = { left: 0, top: 0 }; e.animOut = { opacity: 1 }; e.cssBefore = { top: 0, left: 0} }; a.fn.cycle.transitions.uncover = function (f, g, e) { var j = e.direction || "left"; var b = f.css("overflow", "hidden").width(); var c = f.height(); e.before.push(function (k, d, h) { a.fn.cycle.commonReset(k, d, h, true, true, true); if (j == "right") { h.animOut.left = b } else { if (j == "up") { h.animOut.top = -c } else { if (j == "down") { h.animOut.top = c } else { h.animOut.left = -b } } } }); e.animIn = { left: 0, top: 0 }; e.animOut = { opacity: 1 }; e.cssBefore = { top: 0, left: 0} }; a.fn.cycle.transitions.toss = function (e, f, d) { var b = e.css("overflow", "visible").width(); var c = e.height(); d.before.push(function (j, g, h) { a.fn.cycle.commonReset(j, g, h, true, true, true); if (!h.animOut.left && !h.animOut.top) { h.animOut = { left: b * 2, top: -c / 2, opacity: 0} } else { h.animOut.opacity = 0 } }); d.cssBefore = { left: 0, top: 0 }; d.animIn = { left: 0} }; a.fn.cycle.transitions.wipe = function (v, n, e) { var s = v.css("overflow", "hidden").width(); var k = v.height(); e.cssBefore = e.cssBefore || {}; var g; if (e.clip) { if (/l2r/.test(e.clip)) { g = "rect(0px 0px " + k + "px 0px)" } else { if (/r2l/.test(e.clip)) { g = "rect(0px " + s + "px " + k + "px " + s + "px)" } else { if (/t2b/.test(e.clip)) { g = "rect(0px " + s + "px 0px 0px)" } else { if (/b2t/.test(e.clip)) { g = "rect(" + k + "px " + s + "px " + k + "px 0px)" } else { if (/zoom/.test(e.clip)) { var q = parseInt(k / 2); var f = parseInt(s / 2); g = "rect(" + q + "px " + f + "px " + q + "px " + f + "px)" } } } } } } e.cssBefore.clip = e.cssBefore.clip || g || "rect(0px 0px 0px 0px)"; var m = e.cssBefore.clip.match(/(\d+)/g); var y = parseInt(m[0]), c = parseInt(m[1]), o = parseInt(m[2]), j = parseInt(m[3]); e.before.push(function (A, h, w) { if (A == h) { return } var d = a(A), b = a(h); a.fn.cycle.commonReset(A, h, w, true, true, false); w.cssAfter.display = "block"; var r = 1, l = parseInt((w.speedIn / 13)) - 1; (function z() { var C = y ? y - parseInt(r * (y / l)) : 0; var D = j ? j - parseInt(r * (j / l)) : 0; var E = o < k ? o + parseInt(r * ((k - o) / l || 1)) : k; var B = c < s ? c + parseInt(r * ((s - c) / l || 1)) : s; b.css({ clip: "rect(" + C + "px " + B + "px " + E + "px " + D + "px)" }); (r++ <= l) ? setTimeout(z, 13) : d.css("display", "none") })() }); e.cssBefore = { display: "block", opacity: 1, top: 0, left: 0 }; e.animIn = { left: 0 }; e.animOut = { left: 0} } })(jQuery); function RecommendationView(b, a) { this.data = b; this.recommendations; this.displaySlideQty = a; this.addDataToView = function () { var c = this; jQuery("#" + c.containerId).html(c.recommendations); if (jQuery("#" + c.containerId + " " + this.altHtmlElement).length && !jQuery("#" + c.containerId + " " + this.altHtmlElement).is(":visible")) { if (jQuery("#" + this.altContainerId).length) { jQuery("#" + this.altContainerId).html(jQuery("#" + c.containerId + " " + this.altHtmlElement).html()); jQuery("#" + c.containerId + " " + this.altHtmlElement).remove() } } if ($("html").hasClass("ie7")) { jQuery("#" + c.containerId).hide() } else { jQuery("#" + c.containerId).show() } if (jQuery("#recommengine_topseller_container").length) { jQuery("#recommengine_topseller_container").bxSlider({ displaySlideQty: this.displaySlideQty, moveSlideQty: this.displaySlideQty, auto: false, speed: 450 }) } if (jQuery("#recommSlider").length) { jQuery("#recommSlider").bxSlider({ mode: "vertical", displaySlideQty: 3, moveSlideQty: 1, auto: false, speed: 250 }) } if ($("#recommengine_recommendations").length) { $("#recommengine_recommendations .bx-prev, #recommengine_recommendations .bx-next,#recommengine_recommendations .recom-left-arrow, #recommengine_recommendations .recom-right-arrow").click(function () { loadImages("dynamic_load", "class", "data-src-onclick") }); if (typeof (window.loaded) != "undefined" && window.loaded == true) { loadImages("recommengine_recommendations", "id", "data-src-onload") } } }; this.setOptions = function () { var c = this.data; if (c) { if (undefined != c) { this.recommendations = c; this.containerId = "recommengine_recommendations"; this.altContainerId = "recommengine_lastproductsviewed"; this.altHtmlElement = ".lastproductsviewed"; this.addDataToView() } } }; this.setOptions() } function RecommendationAjaxCart(b, a) { this.data = b; this.recommendations; this.displaySlideQty = a; this.addDataToView = function () { var c = this; jQuery("#" + c.containerId).html(c.recommendations); if (jQuery("#" + c.containerId + " " + this.altHtmlElement).length && !jQuery("#" + c.containerId + " " + this.altHtmlElement).is(":visible")) { if (jQuery("#" + this.altContainerId).length) { jQuery("#" + this.altContainerId).html(jQuery("#" + c.containerId + " " + this.altHtmlElement).html()); jQuery("#" + c.containerId + " " + this.altHtmlElement).remove() } } if ($("html").hasClass("ie7")) { jQuery("#" + c.containerId).hide() } else { jQuery("#" + c.containerId).show() } }; this.setOptions = function () { var c = this.data; if (c) { if (c.indexOf("fail") == -1) { $(".ui-dialogCartview .pcart-overlay").css("min-height", "430px"); $("#floatingBottomLine").addClass("pcart-overlay-top-bg"); this.recommendations = c; this.containerId = "recommengine_recommendations_cart"; this.altContainerId = "recommengine_lastproductsviewed"; this.altHtmlElement = ".lastproductsviewed"; this.addDataToView() } else { _gaq.push(["_trackEvent", "Pre-cart", "Reco", "0"]); ("#recommengine_recommendations_cart").hide() } } }; this.setOptions() } var Jabong = Jabong || {}; Jabong.zoomSettings = { loaded: false, imgBig_width: 0, imgBig_height: 0, Area: null }; (function () { $(window).load(function () { var k = ($.browser.msie && (parseInt($.browser.version, 10) === 8 || parseInt($.browser.version, 10) === 9)); if ($("#magnifier").length) { var f = $("#prdImage"); var l = f.width() || 277; var j = f.height() || 400; var h = $("#productZoom"); var n = h.data("zoom-image"); if (n == undefined) { return } var m = new Image; m.onload = function () { if (m.width) { Jabong.zoomSettings.imgBig_width = m.width; Jabong.zoomSettings.imgBig_height = m.height; Jabong.zoomSettings.loaded = true; h.css("background-image", "url(" + encodeURI(n) + ")"); if ($("#prd-imageBox-container").length && $(".prd-zoom-info").length) { $(".prd-zoom-info").show(); $("#prd-imageBox-container").bind("mouseenter", function () { $(".prd-zoom-info").hide() }); $("#prd-imageBox-container").bind("mouseleave", function () { $(".prd-zoom-info").show() }) } } }; m.src = n; var o = $("#magnifier").outerWidth() / 2; var q = $("#magnifier").outerHeight() / 2; var d = f.position(); Jabong.zoomSettings.Area = { area_X_min: d.left, area_X_max: d.left + l - o * 2, area_Y_min: d.top, area_Y_max: d.top + j - q * 2, offset: f.offset(), padding: 5 }; $(window).resize(function () { var s = $("#prdImage"); var r = s.position(); Jabong.zoomSettings.Area = { area_X_min: r.left, area_X_max: r.left + l - o * 2, area_Y_min: r.top, area_Y_max: r.top + j - q * 2, offset: s.offset(), padding: Jabong.zoomSettings.Area.padding} }); var g = h.width(); var e = h.height(); $(window).resize(function () { var s = $("#prdImage"); var r = s.position(); Jabong.zoomSettings.Area = { area_X_min: r.left, area_X_max: r.left + l - o * 2, area_Y_min: r.top, area_Y_max: r.top + j - q * 2, offset: s.offset(), padding: Jabong.zoomSettings.Area.padding} }); $("#prdZoomBox").mouseenter(function () { if (Jabong.zoomSettings.loaded && $("#prdImage").attr("src").indexOf("placeholder") == -1) { b() } if (!k) { Jabong.zoomSettings.Area.padding = 0 } }).mouseleave(function () { a() }).mousemove(function (y) { var C = y.pageX - o - Jabong.zoomSettings.Area.offset.left; var B = y.pageY - q - Jabong.zoomSettings.Area.offset.top; C = C + (Jabong.zoomSettings.Area.padding * 3) / 2; B = B + (Jabong.zoomSettings.Area.padding * 3) / 2; if (C < Jabong.zoomSettings.Area.area_X_min) { C = Jabong.zoomSettings.Area.area_X_min } else { if (C > Jabong.zoomSettings.Area.area_X_max) { C = Jabong.zoomSettings.Area.area_X_max } } if (B < Jabong.zoomSettings.Area.area_Y_min) { B = Jabong.zoomSettings.Area.area_Y_min } else { if (B > Jabong.zoomSettings.Area.area_Y_max) { B = Jabong.zoomSettings.Area.area_Y_max } } $("#magnifier").css("top", B).css("left", C); var v = Jabong.zoomSettings.imgBig_width - g + (Jabong.zoomSettings.Area.padding * 2); var s = Jabong.zoomSettings.imgBig_height - e + (Jabong.zoomSettings.Area.padding * 2); var w = v * 100 / Jabong.zoomSettings.Area.area_X_max / 100; var r = s * 100 / Jabong.zoomSettings.Area.area_Y_max / 100; var A = (Jabong.zoomSettings.Area.padding * 3) - C * w; var z = (Jabong.zoomSettings.Area.padding * 3) - B * r; h.css("backgroundPosition", A + "px " + z + "px") }).click(function (r) { if (Jabong.zoomSettings.loaded == true) { var s = $("#productMoreImagesList li.selected").index(); if (f.attr("src").indexOf("placeholder") == -1) { r.stopPropagation(); $("#prdZoomExpanded").insertAfter($("#page")); $(".zoom-imgslider").css("left", -(762 * s)); $("ul.zoom-thumb > li").removeClass("selected"); $("ul.zoom-thumb").find("li").eq(s).addClass("selected"); $("ul.zoom-imgslider > li").removeClass("selected"); $("ul.zoom-imgslider").find("li").eq(s).addClass("selected"); Jabong.prdFullImg.show(r) } } }); $("#prdZoomExpanded").click(function (r) { switch (r.target.id) { case "prdZoomExpanded": Jabong.prdFullImg.hide(); break; case "dialogClose": r.preventDefault(); Jabong.prdFullImg.hide(); break } }); $(document).keyup(function (r) { if (27 == r.keyCode) { Jabong.prdFullImg.hide() } }); var c = new Array("searchInput", "postcode", "newsletter-email"); $(document).keydown(function (r) { if (r.srcElement != undefined && $.inArray(r.srcElement.id, c) < 0) { if (r.keyCode == 37) { Jabong.image.imgNavigate("prev") } if (r.keyCode == 39) { Jabong.image.imgNavigate("next") } } }) } }); function b() { $("#productZoom").stop(true).fadeTo("normal", 1); $("#magnifier").show() } function a() { $("#productZoom").stop(true).fadeOut("fast"); $("#magnifier").hide() } })(); var Jabong = Jabong || {}; Jabong.image = function () { var b = "productZoom", a = "prdImage", c = "prdMedia"; return { initSetImage: function () { this.$productZoom = $("#" + b); this.$prdImage = $("#" + a); this.$prdMedia = $("#" + c); this.$prdMedia.on("mouseenter", '[data-js-function="setImage"]', { that: this }, Jabong.image.setImageCallback); this.$prdMedia.on("error", '[data-js-function="setPlaceholderOnError"]', { that: this }, Jabong.image.setPlaceholderOnErrorCallback) }, setImageCallback: function (f) { var d = f.data.that; $this = $(this); $productZoom = d.$productZoom; $prdImage = d.$prdImage; imageProduct = $this.data("image-product"); imageBig = $this.data("image-big"); imageAlt = $this.data("image-alt"); $prdImage.stop().attr("src", encodeURI(imageProduct)); $prdImage.stop().attr("alt", imageAlt); $(this).parent().find("li").removeClass("selected"); $(this).addClass("selected"); if ($productZoom.length) { $productZoom.css("background-image", "url(" + encodeURI(imageBig) + ")") } }, setPlaceholderOnErrorCallback: function (f) { var d = f.data.that; $this = $(this); $this.parent().addClass("placeholder"); $this.attr("src", $this.data("placeholder")) }, imgNavigate: function (f) { var e, d; f = f == "prev" ? -1 : 1; d = $("#productMoreImagesList > li"); d.each(function (h, g) { if ($(g).data("image-product") == $("#prdZoomBox #prdImage").attr("src")) { if (h == 0 && f == -1) { e = d.length - 1 } else { if (h == d.length - 1 && f == 1) { e = 0 } else { e = h + f } } $newThumb = $(d.get(e)); $("#prdZoomBox .prd-image").attr("src", $newThumb.data("image-product")); $("#prdZoomExpanded .prdZoomExpandedImage").attr("src", $newThumb.data("image-big")); $("#prdMedia #productZoom").css("background-image", "url(" + $newThumb.data("image-big") + ")"); $($newThumb).parent().find("li").removeClass("selected"); $($newThumb).addClass("selected"); return false } }) } } } (); Jabong.prdFullImg = { numThumbnails: 2, show: function (a) { window.scrollTo(0, 0); $("html").css("overflow", "hidden"); $("#prdZoomExpanded").fadeIn(); this.initThumbnailsScroll(); this.draw(a); $("#productZoom").hide(); $(".prdZoomExpandedImage").css("cursor", ""); $(window).resize($.proxy(function (b) { this.draw() }, this)) }, hide: function () { $("#prdZoomExpanded").fadeOut(); $(".prdZoomExpandedImage").css("cursor", "default"); $("html").css("overflow", "auto") }, draw: function (b) { var a = $(window).height() > Jabong.zoomSettings.imgBig_height ? Jabong.zoomSettings.imgBig_height : $(window).height(); $("#prdZoomExpanded .container").css("height", a - 20); $(".prdZoomExpandedImage, .prdZoomExpandedwrapper").css({ height: a - 57, width: Jabong.zoomSettings.imgBig_width, backgroundPosition: "0px 0px" }); if (Jabong.zoomSettings.imgBig_height > $(window).height()) { $(".prdZoomExpandedImage").unbind("mousemove").mousemove(this.moveImage); this.moveImage(b) } }, moveImage: function (a) { if (typeof a == "undefined") { return } var b = (a.pageY - 35) * ($(".prdZoomExpandedImage").height() - Jabong.zoomSettings.imgBig_height) / ($(".prdZoomExpandedImage").height()); $(".prdZoomExpandedImage").css("backgroundPosition", "0px " + b + "px") }, changeBigImg: function (a) { a.preventDefault(); $(".prdZoomExpandedImage").css("background-image", "url(" + $(a.currentTarget).attr("data-image-big") + ")").css("backgroundPosition", "0px 0px"); $("#prdZoomExpanded ul.imageScroll li").removeClass("selected"); $(a.currentTarget).addClass("selected"); this.moveImage(a) }, initThumbnailsScroll: function () { $("#prdZoomExpanded ul.imageScroll li").removeClass("selected").hide(); $('#prdZoomExpanded ul.imageScroll li[data-image-product="' + $("#prdImage").attr("src") + '"]').addClass("selected").remove().prependTo($("#prdZoomExpanded ul.imageScroll")); $("#prdZoomExpanded ul.imageScroll li").slice(0, this.numThumbnails).show(); this.correctThumbnailsScrollArrows(); $("#backScroll, #forwardScroll").unbind("click").click($.proxy(function (a) { this.moveThumbnailsScroll($(a.currentTarget)) }, this)); $("#prdZoomExpanded ul.imageScroll li").unbind("click").click($.proxy(this.changeBigImg, this)) }, moveThumbnailsScroll: function (a) { if (a.hasClass("inactive")) { return } $("#backScroll, #forwardScroll").removeClass("inactive"); if (a.attr("id") == "backScroll") { $(".imageScroll").children(":visible").first().prev().show(); $(".imageScroll").children(":visible").last().hide() } else { $(".imageScroll").children(":visible").last().next().show(); $(".imageScroll").children(":visible").first().hide() } Jabong.prdFullImg.correctThumbnailsScrollArrows() }, correctThumbnailsScrollArrows: function () { $("#backScroll, #forwardScroll").removeClass("inactive"); if ($(".imageScroll").children().first().is(":visible")) { $("#backScroll").addClass("inactive") } if ($(".imageScroll").children().last().is(":visible")) { $("#forwardScroll").addClass("inactive") } } }; var searchInputDefaultVal = "Search by typing the product or brand name..."; $(document).ready(function () { var e = null; var f = null; var c = null; var a = null; $("#searchInput").bind("click focus", function () { $(this).parent("#search").addClass("orange-border"); if ($("#searchInput").val() == $("#search-default").html()) { $("#searchInput").val("") } if ($("#searchInput").val() == searchInputDefaultVal) { $("#searchInput").val("") } else { if ($("#searchInput").val() == null) { $("#searchInput").val(searchInputDefaultVal) } } }); $("#searchInput").bind("blur", function () { $(this).parent("#search").removeClass("orange-border"); if ($("#searchInput").val() == "") { $("#searchInput").val($("#search-default").html()) } if ($("#searchInput").val() == "") { $("#searchInput").attr("style", "color:#9e9e9e;font-style: italic;font-size:11px"); $("#searchInput").val(searchInputDefaultVal) } }); $("#searchInput").bind("keydown", function (g) { if (g.keyCode == 9) { $("#searchSuggestResult").hide() } }); var d = 0; var b = ""; $("#searchInput").bind("keyup", function (g) { $("#searchInput").attr("style", ""); if (e) { $("#ac-" + e).removeClass("s-selected") } if (g.keyCode == 40 && $("#searchSuggestResult").is(":visible")) { if ($("#ac-" + (e + 1)).length) { e++; $("#ac-" + e).addClass("s-selected"); $("#searchInput").val($("#ac-" + e).attr("title")) } else { $("#ac-" + e).addClass("s-selected") } } else { if (g.keyCode == 38 && $("#searchSuggestResult").is(":visible")) { if (e > 0) { e--; $("#ac-" + e).addClass("s-selected"); $("#searchInput").val($("#ac-" + e).attr("title")) } } else { if (g.keyCode == 13) { } else { var h = $("#searchInput").val(); h = h.replace(/[(?=+*'?]/g, ""); trimmedSearchInput = $.trim(h); if (!trimmedSearchInput || b == trimmedSearchInput) { return } b = trimmedSearchInput; if ($("#searchCategory").length == 1) { c = $("#searchCategory option:selected").attr("cat_id"); a = $("#searchCategory").val() } var j = $("#baseUrl").val() + "/search/suggest/?q=" + trimmedSearchInput; if (c != null && c != "") { j += "&cat=" + c } lastRequest = $.get(j, suggestionResponse); lastRequest.requestTime = new Date().getTime() } } } }); $("#searchInput").trigger("blur"); $(".ui-searchInput > button").click(function () { var h = "<?php echo Yii::app()->request->requestUri; ?>"; var g = $("input#searchInput").val(); _gaq.push(["_trackEvent", "Search", "SearchButton", g]) }); $(".tryagain > form > .stips_try_btn").click(function () { var h = "<?php echo Yii::app()->request->requestUri; ?>"; var g = $("input#searchInput2").val(); _gaq.push(["_trackEvent", "Search", "SearchButton", g]) }) }); function selAuto(c) { var b = unescape(c); _gaq.push(["_trackEvent", "Search", "SearchSuggestion", c]); $("#searchInput").val(b); if (b == searchInputDefaultVal) { $("#searchInput").attr("style", "color:#000;font-style: normal;") } if (b != "") { var a = b.replace(/ /g, "-"); location.href = "/find/" + encodeURIComponent(a) + "/?q=" + encodeURIComponent(b) } } $(document).ready(function () { if (!Modernizr.input.placeholder) { $("[placeholder]").focus(function () { var a = $(this); if (a.val() == a.attr("placeholder")) { a.val(""); a.removeClass("placeholder") } }).blur(function () { var a = $(this); if (a.val() == "" || a.val() == a.attr("placeholder")) { a.addClass("placeholder"); a.val(a.attr("placeholder")) } }).blur(); $("[placeholder]").parents("form").submit(function () { $(this).find("[placeholder]").each(function () { var a = $(this); if (a.val() == a.attr("placeholder")) { a.val("") } }) }) } }); function verifySrch() { var a = $.trim($("#searchInput").val()); if (a == "" || a == searchInputDefaultVal) { $("#searchInput").blur(); return false } else { setSearchAction("searchInput", "search") } } function verifySrch2() { var a = $.trim($("#searchInput2").val()); if (a == "" || a == searchInputDefaultVal) { $("#searchInput2").blur(); return false } else { setSearchAction("searchInput2", "search2") } } function setSearchAction(d, a) { var c = $("#" + d).val(); if (c != "") { var b = c.replace(/ /g, "-"); document.forms[a].action = "/find/" + encodeURIComponent(b) + "/?q=" + encodeURIComponent(c) } } function suggestionResponse(b, c, a) { if (a.requestTime == lastRequest.requestTime) { suggestionResponseProcess(b) } } function suggestionResponseProcess(c) { if (c) { var c = jQuery.parseJSON(c); var d = c[1]; var a = c[0]; if (d.length) { autoCompletionCurrent = 0; $("#searchSuggestResult").html(""); var g = 0; var h = $("<ul/>").addClass("fsm"); for (var e in d) { g++; var k = d[e]; var b = k; if (b.length > 50) { b = b.substring(0, 50) + "..." } var j = $("<li/>").addClass("ssg-item"); var f = '<a href="javascript:void(0);" onclick=\'selAuto("' + escape(k) + "\");' >" + b + "</a>"; $(j).html(f); $(j).attr("id", "ac-" + g); $(j).attr("title", k); if (e == d.length - 1) { $(j).addClass("last") } $(h).append(j) } $("#searchSuggestResult").html(h); $("#searchSuggestResult").css({ zIndex: 11000 }).show(); $("body").one("click", document, function () { if ($("#searchSuggestResult").is(":visible")) { $("#searchSuggestResult").html("").fadeOut(200) } }) } else { $("#searchSuggestResult").html("").fadeOut(200) } } else { $("#searchSuggestResult").html("").fadeOut(200) } } $(document).ready(function () { var a = null; var b = null; $("#searchInput2").bind("click focus", function () { if ($("#searchInput2").val() == $("#search-default").html()) { $("#searchInput2").val("") } if ($("#searchInput2").val() == "Search for brands, products, styles, etc.") { $("#searchInput2").val("") } else { if ($("#searchInput2").val() == null) { $("#searchInput2").val("Search for brands, products, styles, etc.") } } }); $("#searchInput2").bind("blur", function () { if ($("#searchInput2").val() == "") { $("#searchInput2").val($("#search-default").html()) } if ($("#searchInput2").val() == "") { $("#searchInput2").attr("style", "color:#CCC;"); $("#searchInput2").val("Search for brands, products, styles, etc.") } }); $("#searchInput2").bind("keydown", function (c) { if (c.keyCode == 9) { $("#searchSuggestResult2").hide() } }); $("#searchInput2").bind("keyup", function (c) { $("#searchInput2").attr("style", ""); if (a) { $("#ac-" + a).removeClass("s-selected") } if (c.keyCode == 40 && $("#searchSuggestResult2").is(":visible")) { if ($("#ac-" + (a + 1)).length) { a++; $("#ac-" + a).addClass("s-selected"); $("#searchInput2").val($("#ac-" + a).attr("title")) } else { $("#ac-" + a).addClass("s-selected") } } else { if (c.keyCode == 38 && $("#searchSuggestResult2").is(":visible")) { if (a > 0) { a--; $("#ac-" + a).addClass("s-selected"); $("#searchInput2").val($("#ac-" + a).attr("title")) } } else { if (c.keyCode == 13) { } else { $.get($("#baseUrl").val() + "/search/suggest/?q=" + $("#searchInput2").val(), function (f) { if (f) { var f = jQuery.parseJSON(f); var g = f[1]; var d = f[0]; if (g.length) { a = 0; $("#searchSuggestResult2").html(""); var k = 0; var l = $("<ul/>").addClass("fsm"); for (var h in g) { k++; var n = g[h]; var e = n; if (e.length > 55) { e = e.substring(0, 55) + "..." } var m = $("<li/>").addClass("ssg-item"); var j = '<a href="javascript:void(0);" onclick=\'selAuto2("' + escape(n) + "\");' >" + e + "</a>"; $(m).html(j); $(m).attr("id", "ac-" + k); $(m).attr("title", n); if (h == g.length - 1) { $(m).addClass("last") } $(l).append(m) } $("#searchSuggestResult2").html(l); $("#searchSuggestResult2").css({ zIndex: 11000 }).show(); $("body").one("click", document, function () { if ($("#searchSuggestResult2").is(":visible")) { $("#searchSuggestResult2").html("").fadeOut(200) } }) } else { $("#searchSuggestResult2").html("").fadeOut(200) } } else { $("#searchSuggestResult2").html("").fadeOut(200) } }) } } } }); $("#searchInput2").trigger("blur") }); function selAuto2(d) { var c = unescape(d); $("#searchInput2").val(c); if (c == "Search for brands, products, styles, etc.") { $("#searchInput2").attr("style", "color:#000;") } if (c != "") { var a = c.replace(/ /g, "-"); var b = c.replace(/ /g, "+"); location.href = "/find/" + escape(a) + "/?q=" + escape(b) } } var catalog = { image_width: 175, image_height: 252, image_count_sprite: 4, imageCounter: 1, wtString: "", scrollToTopButton_visible: false, scrollToTopButtonObj: null, currentItemEl: null, imagePerPage: 52, facetJson: [], genericSearch: [], productReq: "", init: function () { catalog.getImageSize(); catalog.triggerLoad(0); catalog.initQuickView(); catalog.initLoadingView(); catalog.initCartView(); catalog.initScrollToTopButton(); if ($("#fct-brand-search").length) { catalog.enableBrandSearch() } if ($(".generic-search").length) { catalog.enableGenericSearch() } $(document).bind("Quicklist.productRemoved", function (a, b) { $("#" + b).find(".itm-qlInsert").removeClass("ql_doneIcon"); $("#" + b + " .itm-qlInsert div.starHrMsg").html('<span class="starHrMsgArrow">&nbsp;</span>Save for later') }) }, onError: function (a) { a.attr("src", $("#placeholder").val()); a.onerror = null; a.attr("width", catalog.image_width); a.addClass("error-img"); a.parents(".lazyImage").addClass("loaded"); return true }, getImageSize: function () { if ($(".itm-imageWrapper").attr("itm-img-width")) { catalog.image_width = $(".itm-imageWrapper").attr("itm-img-width"); catalog.image_height = $(".itm-imageWrapper").attr("itm-img-height"); catalog.image_count_sprite = $(".itm-imageWrapper").attr("itm-img-sprites") } return true }, lazyload: function (e, c) { if (!e.hasClass("loaded") && !e.children(".itm-img").length) { var a = e.offset().top; var b = a - $(window).scrollTop(); if (b < $(window).height()) { var h = e.children(".itm-imageWrapper"); var g = h.attr("id"); var d = h.attr("alt"); if (g.indexOf("lazyloadShow") == -1) { h.html('<img class="itm-img" style="display:none" alt="' + d + '" src="' + g + '" onload="catalog.lazyloadShow($(this));" onerror="catalog.onError($(this));" width="' + catalog.image_width + '" height="' + catalog.image_height + '">'); var f = $(h).parent(); if ($.browser.msie && parseInt($.browser.version, 10) === 7) { var f = $(h).parent(); f.click(function () { window.location = f.parent().attr("href") }) } } } } }, lazyloadShow: function (a) { a.parents(".lazyImage").addClass("loaded"); a.parent().show(); a.fadeIn(); catalog.loadGalleryImages(a) }, initPreviewImageScroll: function () { $("#productsCatalog").on("mouseover", '[data-js-function="initMouseMove"]', catalog.initMouseMove) }, initMouseMove: function (d) { var a = $(this); if (!a.hasClass("sprite-loaded") && a.hasClass("loaded") && !a.hasClass("sprite-loading")) { a.addClass("sprite-loading"); var b = a.children(".itm-imageWrapper").children("img"); if (!b.hasClass("error-img")) { var c = $("#spriteImageUrl").attr("src"); b.load(function () { $(this).parents(".lazyImage").removeClass("sprite-loading"); $(this).parents(".lazyImage").addClass("loaded"); $(this).parents(".lazyImage").addClass("sprite-loaded"); $(this).attr("width", catalog.image_width * catalog.image_count_sprite); $(this).show() }); b.attr("height", catalog.image_height); b.css("height", $(this).attr("height")); b.css("width", $(this).attr("width")); b.attr("src", c); b.hide(); a.parent().mousemove(function (f) { catalog.mouseMove($(this), f) }) } else { b.attr("width", catalog.image_width) } } }, mouseMove: function (c, g) { var h = c.children(".sprite-loaded").first(); if (h && h.hasClass("sprite-loaded")) { var b = h.children(".itm-imageWrapper").children("img"); if (!b.hasClass("error-img")) { var a = g.pageX - c.offset().left; var f = b.width() / 4; var d = c.width() / 4; if (a < d) { b.css({ "margin-left": "-" + f + "px" }) } else { if (a >= d && a <= (d * 2)) { b.css({ "margin-left": "0px" }) } else { if (a > (d * 2) && a < (d * 3)) { b.css({ "margin-left": "-" + (f * 2) + "px" }) } else { b.css({ "margin-left": "-" + (f * 3) + "px" }) } } } } else { b.attr("width", catalog.image_width); b.css({ "margin-left": "0px" }) } } }, triggerLoad: function (a) { $(".lazyImage").each(function () { catalog.lazyload($(this), a) }) }, initLoadingView: function () { $("body").append('<div id="loadingWindow1" class="ui-dialog ui-dialogCartview" style="display:none;"></div>') }, initCartView: function () { $("body").append('<div id="cartviewWindow" class="ui-dialog ui-dialogCartview" style="display:none;"><div id="uiDialogCartClicker"></div><div id="uiDialogCartBody" class="pcart-overlay"></div></div>') }, initQuickView: function () { $("body").append('<div id="quickviewWindow" class="ui-dialog ui-dialogQuickview" style="display: none"><div id="uiDialogClicker"></div><div id="uiDialogBody" class="container"></div></div>'); $(".quickviewZoom").live("click", catalog.zoomClickHandler); $("#uiDialogBody").on("click", function (a) { a.stopPropagation() }); $("#quickviewWindow, #uiDialogClicker").click(function (a) { if ($("#quickviewWindow").hasClass("giftWrapGAEventCheck")) { $("#quickviewWindow").removeClass("giftWrapGAEventCheck"); _gaq.push(["_trackEvent", "giftwrap_lightbox", "close", "click_outside"]) } catalog.closeQuickView(a) }) }, zoomClickHandler: function (b) { var c = $(this).data("sku"); var a = $(this).data("url"); if (c) { catalog.openQuickView(c, a) } return false }, openQuickView: function (b, a) { if ($(".stickyFilter").length > 0) { $(".l-main").append('<div id="loadingWindow" class="loadingMask" style="display: none"></div><div id="loadingContent" class="loadingContent"><div class="clear"></div><span>Loading Product</span></div>'); $("#loadingWindow").show(); $(".loadingContent").show() } catalog.loadQuickViewContent(b, a) }, loadQuickViewContent: function (b, a) { $.get("/catalog/quickview/?sku=" + b, function (d) { if ($(".stickyFilter").length > 0) { $("#loadingWindow").hide(); $(".loadingContent").hide() } _gaq = _gaq || []; _gaq.push(["_trackPageview", "/preview " + a]); pageText = $("#prudsysValue").html(); _gaq.push(["_trackEvent", "Recommendation", pageText + "--QV", b]); $("#quickviewWindow").show(); $("#cartviewWindow").hide(); $uiDialogBody = $("#uiDialogBody"); $uiDialogBody.html(d); catalog.currentItemEl = $("#" + b); $("#quickviewWindow #dialogClose").click(function (f) { catalog.closeQuickView(f) }); Jabong.image.initSetImage(); detail.initMultiOptions(); if ($(".prd-option-collection li").length == 1) { $(".prd-option-collection li").trigger("click"); if (jQuery.trim($(".prd-option-collection li").text()) == "..." || jQuery.trim($(".prd-option-collection li").text()) == "not defined") { $("#productOptionsWrapper").hide() } if ($("#productOptionsWrapper select.opt-select").length == 1 && $("#productOptionsWrapper select.opt-select option").length == 2) { $option = $("#productOptionsWrapper select.opt-select option").eq(1); options.selectOption($option.data("attribute"), $option.val()); $option.attr("selected", true); $("#productOptionsWrapper").hide() } } if ($uiDialogBody.position().top && ($uiDialogBody.position().top - $(window).scrollTop()) < 0) { $uiDialogBody.css({ top: "10px", height: ($(window).height() - 90) + "px", overflow: "auto", "overflow-y": "scroll" }) } $("#AddToCart").hover(function () { detail.hoveraddtocart() }, function () { detail.leavecart() }); $("#AddToCart").click(function (e) { detail.addtocart(); e.preventDefault() }); $("#quickview-left").click(function (e) { catalog.quickViewLastItem(b); e.preventDefault() }); $("#quickview-right").click(function (e) { catalog.quickViewNextItem(b); e.preventDefault() }); if (catalog.currentItemEl.prev("li").length || catalog.currentItemEl.parent("ul.qlDetailList").prev("ul.qlDetailList").length) { $("#quickview-left").show() } else { $("#quickview-left").hide() } if (catalog.currentItemEl.next("li").length || catalog.currentItemEl.parent("ul.qlDetailList").next("ul.qlDetailList").length) { $("#quickview-right").show() } else { $("#quickview-right").hide() } var c = $("ul.imageview-slider"); mainitempq = $("ul.imageview-slider li"); thumbimgpq = $("ul.pdp-thumb-slider"); thumbitempq = $("ul.pdp-thumb-slider li"); prdimgindexpq = c.find("li:first").index(); totalimgspq = c.find("li:last").index(); prdimgwpq = mainitempq.outerWidth(true); firstthumbpq = thumbimgpq.find("li:first").index(); totalthumbpq = thumbimgpq.find("li:last").index() + 1; thumbwpq = $("ul.pdp-thumb-slider").find("li").outerHeight(true); thumbnopq = 1; thumbpospq = (thumbwpq) * thumbnopq; lastthumbpq = firstthumbpq + 4; c.find("li:last").clone().prependTo(c); c.css({ left: "-=" + prdimgwpq }); mainitempq.eq(0).clone().appendTo(c); $("a.pdp-thumb-next").click(function () { $("a.pdp-thumb-prev").removeClass("inactive"); if (lastthumbpq + 1 < totalthumbpq) { thumbimgpq.animate({ top: "-=" + thumbpospq }); firstthumbpq += thumbnopq; lastthumbpq += thumbnopq; if (lastthumbpq + 1 == totalthumbpq) { $("a.pdp-thumb-next").addClass("inactive") } } }); $("a.pdp-thumb-prev").click(function () { $("a.pdp-thumb-next").removeClass("inactive"); if (firstthumbpq > 0) { thumbimgpq.animate({ top: "+=" + thumbpospq }); firstthumbpq -= thumbnopq; lastthumbpq -= thumbnopq; if (firstthumbpq == 0) { $("a.pdp-thumb-prev").addClass("inactive") } } }) }) }, closeQuickView: function (a) { if ("undefined" != typeof (a)) { a.stopPropagation(); a.preventDefault() } $("#quickviewWindow").fadeOut(500, function () { $("#uiDialogBody").html("") }); if ($("#quickviewWindow").is(":visible")) { $("#sizeChart").remove() } }, closeCartView: function (a) { if ("undefined" != typeof (a)) { a.stopPropagation(); a.preventDefault() } $("#loadingWindow1").hide(); $("#loadingContent1").remove(); $("#cartviewWindow").fadeOut(500, function () { $("#uiDialogCartBody").html("") }) }, closeAlertCartView: function (a) { if ("undefined" != typeof (a)) { a.stopPropagation(); a.preventDefault() } $("#loadingWindow1").hide(); $("#loadingContent1").remove(); $("#alertWindow").fadeOut(500, function () { $("#alertWindow").remove() }) }, quickViewLastItem: function (c) { if (catalog.currentItemEl.length) { var a = catalog.currentItemEl.prev("li"); if (!a.length) { a = catalog.currentItemEl.parent("ul.qlDetailList").prev("ul.qlDetailList").children("li").last() } var b = ""; a.children("div").each(function () { var d = $(this); if (d.attr("data-url")) { b = d.attr("data-url"); return false } }); if (a.length) { catalog.loadQuickViewContent(a.attr("id"), b) } else { catalog.closeQuickView() } } else { catalog.closeQuickView() } $("#sizeChart").remove() }, quickViewNextItem: function (c) { if (catalog.currentItemEl.length) { var a = catalog.currentItemEl.next("li"); if (!a.length) { a = catalog.currentItemEl.parent("ul.qlDetailList").next("ul.qlDetailList").children("li").first() } var b = ""; a.children("div").each(function () { var d = $(this); if (d.attr("data-url")) { b = d.attr("data-url"); return false } }); if (a.length) { catalog.loadQuickViewContent(a.attr("id"), b) } else { catalog.closeQuickView() } } else { catalog.closeQuickView() } $("#sizeChart").remove() }, swapImage: function (b, a) { $(".itm-imageWrapper-" + b + ">img").hide(); if (!$(".itm-imageWrapper-" + b + " .tmpImg").length) { $(".itm-imageWrapper-" + b).remove(".tmpImg"); $(".itm-imageWrapper-" + b).append('<img class="tmpImg" src="' + a + '" width="' + catalog.image_width + '" height="' + catalog.image_height + '">') } $(".itm-imageWrapper-" + b + ">.tmpImg").attr("src", a) }, resetImage: function (a) { $(".itm-imageWrapper-" + a + ">img").show(); $(".itm-imageWrapper-" + a + " .tmpImg").remove(); $(".itm-imageWrapper-" + a + " .tmpImg").hide() }, initScrollToTopButton: function () { catalog.scrollToTopButtonObj = $("#catalogToTop"); catalog.scrollToTopButtonObj.live("click", function (a) { $("html, body").animate({ scrollTop: 0 }, 500); return false }) }, handleScrollToTopButton: function (a) { if (catalog.scrollToTopButtonObj) { if (a > 200 && !catalog.scrollToTopButton_visible) { catalog.scrollToTopButton_visible = true; catalog.scrollToTopButtonObj.fadeIn() } else { if (a <= 200 && catalog.scrollToTopButton_visible) { catalog.scrollToTopButton_visible = false; catalog.scrollToTopButtonObj.fadeOut() } } } }, highlightMenu: function (b, a) { if (b && b.length) { $(".nav-sub li").removeClass("active"); $(".nav-sub li a").each(function () { if (a && a.length) { rurl = "/" + b + a + "/"; if ($(this).attr("href") == rurl) { $(this).parent().addClass("active") } } }) } }, brandIndex: [], enableBrandSearch: function () { var b = 0; if (catalog.brandIndex.length == 0) { $("#facet_brand li").each(function () { if ($(this).find("a").text()) { catalog.brandIndex.push({ label: $(this).find("a").text(), value: $.trim($(this).find("a").text()), href: $(this).find("a").attr("href"), html: $(this).find("a").html(), key: $(this).attr("data-brand-key") }) } }) } var a = $.ui.autocomplete.prototype._renderItem; $("#fct-brand-search input").autocomplete({ source: catalog.brandIndex, appendTo: "#fct-brand-search-result", position: { my: "left top", at: "left top", of: "#fct-brand-search-result" }, close: function (c, d) { $("#facet_brand").show(); $("#fct-brand-search-result").hide() }, search: function () { $(".ui-autocomplete").css({ top: null, left: null, position: null }) }, change: function () { $(".ui-autocomplete").css({ top: null, left: null, position: null }) }, select: function (c, d) { var e = d.item.href; var f = d.item.value; f = f.substring(0, f.lastIndexOf(" ")).replace("'", ""); _gaq.push(["_trackEvent", "leftfilter", "brand", f]); catalog.loadProducts("brand", d.item.key, "multi"); return false }, open: function (c, d) { $("#facet_brand").hide(); $("#fct-brand-search-result").show(); $(".ui-autocomplete").css({ width: "100%" }).show(); $(".ui-autocomplete").css({ top: null, left: null, position: null }); $(".ui-autocomplete").addClass("cnv fct-scroll box-bdr brands") }, minLength: 0 }).data("autocomplete")._renderItem = function (d, e) { var c = $("#fct-brand-search input").val(); var f = new RegExp("(" + $.ui.autocomplete.escapeRegex(c) + ")", "ig"); f = e.label.replace(f, "<strong>$1</strong>"); selected = $(e.html).find(":checkbox").attr("checked") == "checked" ? "checked=checked" : ""; if (!selected && $(d).find(":checkbox").attr("checked") == "checked") { if (!$(d).find(".brand-sep").length) { $("<li class='brand-sep clear'>").appendTo(d) } } $("<li class='clear' />").data("item.autocomplete", e).append("<a class=\"cnv-filter-brand-link\" onclick='catalog.toggleBrandCheckBox(this);' href='#'><SPAN class=cnv-brands-multi-checkbox><INPUT type=checkbox " + selected + " ></SPAN> <SPAN class=cnv-filter-brand-text >" + f + "</SPAN></a>").appendTo(d) } }, enableGenericSearch: function () { var a = 0; if (catalog.genericSearch.length == 0) { $(".generic-facet li").each(function () { if ($(this).find("a").text()) { catalog.genericSearch.push({ label: $(this).find("a").text(), value: $.trim($(this).find("a").text()), href: $(this).find("a").attr("href"), html: $(this).find("a").html(), facetValue: $(this).attr("data-facet-value"), facetName: $(this).attr("data-facet-name") }) } }) } $(".generic-search input").autocomplete({ source: catalog.genericSearch, appendTo: ".generic-search-result", position: { my: "left top", at: "left top", of: ".generic-search-result" }, close: function (b, c) { $(".generic-facet").show(); $(".generic-search-result").hide() }, search: function () { $(".ui-autocomplete").css({ top: null, left: null, position: null }) }, change: function () { $(".ui-autocomplete").css({ top: null, left: null, position: null }) }, select: function (c, d) { var e = d.item.facetValue; var b = d.item.facetName; _gaq.push(["_trackEvent", "leftfilter", b, e]); catalog.loadProducts(b, e, "multi"); return false }, open: function (b, c) { $(".generic-facet").hide(); $(".generic-search-result").show(); $(".ui-autocomplete").css({ width: "100%" }).show(); $(".ui-autocomplete").css({ top: null, left: null, position: null }); $(".ui-autocomplete").addClass("cnv fct-scroll box-bdr brands") }, minLength: 0 }).data("autocomplete")._renderItem = function (c, d) { var b = $(".generic-search input").val(); var e = new RegExp("(" + $.ui.autocomplete.escapeRegex(b) + ")", "ig"); e = d.label.replace(e, "<strong>$1</strong>"); selected = $(d.html).find(":checkbox").attr("checked") == "checked" ? "checked=checked" : ""; if (!selected && $(c).find(":checkbox").attr("checked") == "checked") { if (!$(c).find(".brand-sep").length) { $("<li class='brand-sep clear'>").appendTo(c) } } $("<li class='clear abc' />").data("item.autocomplete", d).append("<a class=\"cnv-filter-brand-link\" onclick='catalog.toggleBrandCheckBox(this);' href='#'><SPAN class=cnv-brands-multi-checkbox><INPUT type=checkbox " + selected + " ></SPAN> <SPAN class=cnv-filter-brand-text >" + e + "</SPAN></a>").appendTo(c) } }, trkEvtSort: function (b, a) { _gaq.push(["_trackEvent", "Sort", b, a]) }, toggleBrandCheckBox: function (b) { var a = $(b).find(":checkbox"); a.attr("checked", !a.attr("checked")); $(document).trigger("_triggerBrandFilter", null); return false }, loadGalleryImages: function (a) { var b = a.parents("li").attr("id"); if (typeof (b) != "undefined") { loadImages(b, "id", "data-src-onview") } }, sortProducts: function (a, b) { catalog.facetJson.sort = []; catalog.facetJson.sort.push(a); catalog.facetJson.dir = []; catalog.facetJson.dir.push(b); catalog.jsonToUrl() }, clearFilter: function (a) { if (a == "clear-all") { for (var a in catalog.facetJson) { if (a == "root" || a == "cat" || a == "segment") { continue } catalog.facetJson[a] = [] } catalog.facetJson.forder = [] } else { if (catalog.facetJson.hasOwnProperty(a)) { catalog.facetJson[a] = []; catalog.facetJson.forder.splice($.inArray(a, catalog.facetJson.forder), 1) } } if (catalog.facetJson.forder.length == 0) { catalog.facetJson.sort = []; catalog.facetJson.dir = [] } catalog.jsonToUrl() }, loadProducts: function (a, c, b) { if (!catalog.facetJson.hasOwnProperty(a)) { catalog.facetJson[a] = [] } if (b == "multi") { if ($.inArray(c, catalog.facetJson[a]) == -1) { catalog.facetJson[a].push(c) } else { catalog.facetJson[a].splice($.inArray(c, catalog.facetJson[a]), 1) } } else { if (b == "single") { catalog.facetJson[a] = []; catalog.facetJson[a].push(c) } } if (!catalog.facetJson.hasOwnProperty("forder")) { catalog.facetJson.forder = [a] } else { if ($.inArray(a, catalog.facetJson.forder) == -1) { if (a != "cat") { catalog.facetJson.forder.push(a) } } else { if (catalog.facetJson[a].length == 0) { catalog.facetJson.forder.splice($.inArray(a, catalog.facetJson.forder), 1) } } } if (catalog.facetJson.hasOwnProperty("root") && catalog.facetJson.root[0] == "all-products" && catalog.facetJson.hasOwnProperty("cat") && catalog.facetJson.cat.length > 0) { catalog.facetJson.root = [] } if (catalog.facetJson.forder.length == 0) { catalog.facetJson.sort = []; catalog.facetJson.dir = [] } catalog.jsonToUrl() }, jsonToUrl: function () { var b = ""; if (catalog.facetJson.hasOwnProperty("segment") && catalog.facetJson.segment.length > 0) { b += "/" + catalog.facetJson.segment } if (catalog.facetJson.hasOwnProperty("root") && catalog.facetJson.root.length > 0) { b += "/" + catalog.facetJson.root } if (catalog.facetJson.hasOwnProperty("cat") && catalog.facetJson.cat.length > 0) { if (catalog.facetJson.hasOwnProperty("root")) { if (catalog.facetJson.cat[0] != catalog.facetJson.root[0]) { b += "/" + catalog.facetJson.cat } } else { b += "/" + catalog.facetJson.cat } } if (catalog.facetJson.hasOwnProperty("ty") && catalog.facetJson.ty.length > 0) { b += "/" + catalog.facetJson.ty.join("--") } if (catalog.facetJson.hasOwnProperty("brand") && catalog.facetJson.brand.length > 0) { b += "/" + catalog.facetJson.brand.join("--") } if (catalog.facetJson.hasOwnProperty("q") && catalog.facetJson.q.length > 0) { b += "/find/" + catalog.facetJson.q[0].replace(" ", "-") } if (catalog.facetJson.hasOwnProperty("tech") && catalog.facetJson.tech.length > 0) { b += "/tech-" + catalog.facetJson.tech.join("--") } if (catalog.facetJson.hasOwnProperty("collect") && catalog.facetJson.collect.length > 0) { b += "/collect-" + catalog.facetJson.collect.join("--") } if (catalog.facetJson.hasOwnProperty("color") && catalog.facetJson.color.length > 0) { b += "/color-" + catalog.facetJson.color.join("--") } if (catalog.facetJson.hasOwnProperty("new_products") && catalog.facetJson.new_products.length > 0) { b += "/" + catalog.facetJson.new_products.join("--") } if (catalog.facetJson.hasOwnProperty("discounted") && catalog.facetJson.discounted.length > 0) { b += "/" + catalog.facetJson.discounted.join("--") } if (catalog.facetJson.hasOwnProperty("discount") && catalog.facetJson.discount.length > 0) { b += "/discount-" + catalog.facetJson.discount.join("--") } b += "/"; for (var a in catalog.facetJson) { if (a == "brand" || a == "color" || a == "ty" || a == "discounted" || a == "collect" || a == "root" || a == "cat" || a == "segment" || a == "tech" || a == "discount" || a == "new_products") { continue } if (catalog.facetJson[a].length > 0) { if (a == "forder" && catalog.facetJson[a].length < 2) { continue } b += b.indexOf("?") == -1 ? "?" : "&"; b += a + "=" + catalog.facetJson[a].join("--") } } catalog.setUrl(b) }, setUrl: function (b) { var a = location.protocol + "//" + location.host; if (b == "" || b == "/") { window.location.href = a; return false } if ($.browser.msie) { window.location.hash = b.replace(a, "") } else { window.history.pushState("object or string", "Title", b); catalog.getProducts(b) } }, getProducts: function (a) { if (catalog.productReq != "") { catalog.productReq.abort() } catalog.productReq = $.ajax({ url: a, type: "get", beforeSend: function () { $(".l-main").append('<div id="loadingWindow" class="loadingMask" style="display: none"></div><div id="uiDialogClicker"></div><div id="loadingContent" class="loadingContent"><div class="clear"></div><span>Loading Products</span></div>'); $("#loadingWindow").show(); $(".loadingContent").show() }, success: function (b) { if (b) { if (b == "*cmsPage*" || b.indexOf("<header") > 0) { location.href = a; return false } _gaq.push(["_trackPageview", "/" + a]); $(".stickyFilter").removeClass("leftsidebarfixed").css("top", "0px"); $("#content").html(b); catalog.facetJson = $.parseJSON($("#facetJson").html()); $("#loadingWindow").hide(); $(".loadingContent").hide(); catalog.init(); window.scrollTo(0, 0); window.scrollTo(0, 30); if ($("#fct-brand-search").length) { catalog.enableBrandSearch() } if ($(".generic-search").length) { catalog.enableGenericSearch() } $(document).attr("title", $("#newPageTitle").text()); max = Math.ceil(parseInt($(".ProductCounter").html()) / catalog.imagePerPage); page = 1; winHeight = $(window).height(); height = $(".stickyFilter").height(); if ($("#recommengine_topseller_container").length) { $("#recommengine_topseller_container").bxSlider({ displaySlideQty: 4, moveSlideQty: 4, auto: false, speed: 450 }); $("#recommengine_recommendations .bx-prev, #recommengine_recommendations .bx-next,#recommengine_recommendations .recom-left-arrow, #recommengine_recommendations .recom-right-arrow").click(function () { loadImages("dynamic_load", "class", "data-src-onclick") }) } } else { empty = true } loading = false }, error: function () { } }); return false } }; var page = 1; var loading = false; $(function () { catalog.init(); var g = false; var c = location.href.indexOf("?") != -1 ? "&page=" : "?page="; $(window).scroll(function () { catalog.triggerLoad(1000); catalog.handleScrollToTopButton($(window).scrollTop()); if (loading) { return } if (typeof max != "undefined") { var h = $("#noMoreResults").show().position().top; $("#noMoreResults").hide(); if ($("#noMoreResults").isOnScreen() || h <= $(window).scrollTop() && !g) { loading = true; page++; if (page <= max) { $("#noMoreResults").hide(); f(page) } else { $("#noMoreResults").show() } } } }); function f() { var h = $(window).scrollTop(); c = location.href.indexOf("?") != -1 ? "&page=" : "?page="; if ($.browser.msie && location.href.indexOf("#/") > 0) { var j = location.protocol + "//" + location.host + document.URL.slice(location.href.indexOf("#/") + 1) + c + page } else { var j = location.protocol + "//" + location.host + location.pathname + location.search + c + page } $.ajax({ url: j, type: "get", beforeSend: function () { $(".loading").show() }, complete: function () { $(".loading").hide() }, success: function (k) { if (k) { $("PageNumberSecond").show(); $("PageNumberSecond").html("Page " + page); $("PageNumberSecond").append("class"); $("PageNumberFirst").show(); $("#productsCatalog").append(k); $(".stickyFilter").css("top", sidebarTop + $(window).scrollTop() - h + "px"); $(".quickviewZoom").die("click", catalog.zoomClickHandler); $(".quickviewZoom").live("click", catalog.zoomClickHandler) } else { g = true } loading = false }, error: function () { $(".footer_start").before('<div class="moreresults"></div>'); $(".moreresults").html("Show more results (" + (total - (page - 1) * pageSize) + ")"); $(".moreresults").show(); $(".moreresults").click(function () { f(); $(this).hide(); $(this).remove() }) } }) } $(".pager-select").change(function () { location.assign(this.value) }); $(".sortOrder").change(function () { _gaq.push(["_trackEvent", "topsort", $.trim($(this).find("option:selected").text())]); location.href = $(this).val() }); $("#cart-items-list-form .amount select").change(function () { _gaq.push(["_trackEvent", "cart", "quantitychange", $(this).val()]); $("#cart-items-list-form").submit() }); if ($("#Slideshow").length) { $(".hpSlideshow .hpSlideshowSlides").cycle({ fx: "scrollHorz", speed: "slow", timeout: 5000, pause: 1, prev: ".hpSlideshow .hpSlideshowControls .ui-buttonPrevSlide", next: ".hpSlideshow .hpSlideshowControls .ui-buttonNextSlide" }); $(".fadeThisSlideshow .hpSlideshowFadeSlides").cycle({ fx: "fade", speed: 1800, timeout: 5000, pause: 1, prev: ".hpSlideshow .hpSlideshowControls .ui-buttonPrevSlide", next: ".hpSlideshow .hpSlideshowControls .ui-buttonNextSlide" }) } if ($(".breadcrumbs").length) { var e = $("#active-segments-roots").data("active-segment"); var a = $("#active-segments-roots").data("active-root"); catalog.highlightMenu(e, a) } var d = $("#fct-category-data").data("segment"); $(".cnv-level.selected").each(function () { if (d) { $(this).closest(".cnv-childs").show() } }); $(".cnv-levelChilds.selected").each(function () { if (d) { $(this).find(".cnv-childs").show() } }); $("a.print-order").click(function (k) { var j = $(this).attr("href"); var h = $(this).text().replace(" ", "_"); window.open(j, h, "top=100,left=100,width=770,height=500,scrollbars=yes"); k.preventDefault() }); if ($("#ga-track-newsletter").length) { if (typeof ("_gaq") != "undefined") { $("#subscribe-male").click(function () { _gaq.push(["_trackEvent", "Newsletter", "Page", "Men"]) }); $("#subscribe-female").click(function () { _gaq.push(["_trackEvent", "Newsletter", "Page", "Women"]) }) } } if ($("#errorPage").length) { if (typeof (_gaq) != "undefined") { _gaq.push(["_trackEvent", "error", "404", location.href]) } } document.onkeyup = function (h) { if ("undefined" == typeof (h)) { h = event } if (27 == h.keyCode) { if ($("#quickviewWindow").hasClass("giftWrapGAEventCheck")) { $("#quickviewWindow").removeClass("giftWrapGAEventCheck"); _gaq.push(["_trackEvent", "giftwrap_lightbox", "close", "escape"]) } catalog.closeQuickView(); catalog.closeCartView(); catalog.closeAlertCartView() } }; $(".ie7 .itm-link").children().click(function (h) { if (!h.metaKey && !h.ctrlKey && !h.shiftKey) { window.location = $(this).closest(".itm-link").attr("href") } else { if ($.browser.msie && parseInt($.browser.version, 10) === 7) { window.open($(this).closest(".itm-link").attr("href"), "_blank") } } }).css("cursor", "pointer"); var b = $("<img src='" + aliceImageHost + "/images/jabong/ajax-loader-trans.gif' />"); $(document).bind("_triggerBrandFilter", function () { b.appendTo(".fct.pbs.brands-multi .h4.fct-hd.ui-borderBottom") }) }); $(document).ready(function () { if (location.href.indexOf("#/") > 0) { window.location.href = document.URL.slice(location.href.indexOf("#/") + 1) } $("#productsCatalog > li").each(function () { var c = $(this).index(); if (c < 3) { $(this).find("span").each(function (e, d) { if ($(d).attr("class") == "itm-Catbrand strong") { $(d).attr("id", "BrandName" + c) } if ($(d).attr("class") == "itm-title") { $(d).attr("id", "BrandTitle" + c) } }); $(this).find("div").each(function (e, d) { if ($(d).attr("class") == "itm-qlInsert tooltip-qlist  highlightStar") { $(d).attr("id", "productsCatalog" + c) } }) } }); var b = 0; var a = 0; $("#ql_List .ql_ListElementName").each(function () { if (b < 3) { $(this).attr("id", "ql_list" + b); b += 1 } }); $("#ql_List .ql_ListElementCancel").each(function () { if (a < 3) { $(this).attr("id", "ql_cancel" + a); a += 1 } }); $(".qlDetailList > li").each(function () { var c = $(this).index(); if (c < 3) { $(this).find("span").each(function (e, d) { if ($(d).attr("class") == "itm-price normalPrice strong ") { $(d).attr("id", "qa-catalogPrice" + c) } }) } }); $(".pd_recent_middle > div").each(function () { var c = $(this).index(); if (c < 3) { $(this).find("div").each(function (e, d) { if ($(d).attr("class") == "colr-999 text11") { $(d).attr("id", "qa-recent-brand" + c) } }) } }); $(".recom-widget-slider > li").each(function () { var c = $(this).index(); if (c < 3) { $(this).find("a").each(function (e, d) { if ($(d).attr("class") == "text11 pd-name") { $(d).attr("id", "qa-recent-brand" + c) } }) } }); $(".cartItems > tr").each(function () { var c = $(this).index(); if (c < 3) { $(this).find("p.itcd-sub-heading").each(function (e, d) { if ($(d).attr("class") == "itcd-sub-heading") { $(d).attr("id", "qa-cart-name" + c) } }); $(this).find("td.amount a p.cart_remove-item").each(function (e, d) { if ($(d).attr("class") == "cart_remove-item") { $(d).attr("id", "qa-rem-link" + c) } }) } }); $(".comboBoxParent").live("click", function (c) { $(this).children(".comboBoxContent").show(); c.stopPropagation() }); $(".comboBoxParent").live("touchend", function (c) { $(this).children(".comboBoxContent").show(); c.stopPropagation(); return false }); $(".comboBoxParent ul.simple a").live("touchend", function (c) { c.stopPropagation() }); $(".comboBoxParent").live("mouseleave", function () { $(this).children(".comboBoxContent").hide() }); catalog.facetJson = $.parseJSON($("#facetJson").html()); $(".fct-list li a").live("click", function () { if ($(this).find("input").attr("checked") == "checked") { $(this).find("input").attr("checked", false) } else { $(this).find("input").attr("checked", "checked") } }); $(".fct-list li a input").live("click", function () { if ($(this).attr("type") == "checkbox") { if ($(this).attr("checked") == "checked") { $(this).replaceWith('<input type="' + $(this).attr("type") + '" />') } else { $(this).replaceWith('<input type="' + $(this).attr("type") + '" checked="checked"/>') } } }); $("div.l-pageWrapper a").live("click", function () { if ($(this).attr("data-gaq-evt")) { var c = $(this).attr("data-gaq-evt").split("!#!"); _gaq.push(["_trackEvent", c[0], c[1], c[2]]) } }) }); var sidebarTop = 0; var winHeight = $(window).height(); var height = 0; $(function () { var a = $.browser == "msie" && $.browser.version < 7; if (!a && $(".stickyFilter").offset() != null && $("#footer_start").offset().top - $(".stickyFilter").height() > 200) { var b = $(".stickyFilter").offset().top - parseFloat($(".stickyFilter").css("margin-top").replace(/auto/, 0)); height = $(".stickyFilter").height(); var d = 7; var c = 0; $(window).scroll(function () { height = $(".stickyFilter").height(); var e = $("#footer_start").offset().top - parseFloat($("#footer_start").css("margin-top").replace(/auto/, 0)); var f = $(this).scrollTop(); if (f > c && f > b && $("#footer_start").offset().top - $(".stickyFilter").height() > 200) { if (f + winHeight >= b + height + d && f + winHeight <= e) { sidebarTop = winHeight - height - d; if (winHeight > height) { sidebarTop = 0 } $(".stickyFilter").addClass("leftsidebarfixed").css("top", sidebarTop + "px") } else { if (f + winHeight > e) { $(".stickyFilter").addClass("leftsidebarfixed").css("top", sidebarTop + c - f + "px"); sidebarTop = sidebarTop + c - f } else { $(".stickyFilter").removeClass("leftsidebarfixed").css("top", "0px") } } } else { if (f < c && f > b && $("#footer_start").offset().top - $(".stickyFilter").height() > 200) { if (sidebarTop + c - f < 0) { $(".stickyFilter").css("top", sidebarTop + c - f + "px"); sidebarTop = sidebarTop + c - f } } else { $(".stickyFilter").removeClass("leftsidebarfixed").css("top", "0px") } } c = f }) } }); var options = { init: function () { $(".prd-option-item").fadeTo(0, 1); $(".prd-option-item").removeClass("selected"); $(".prd-option-item").removeClass("inactive"); this.skus = undefined }, skus: undefined, optionsStore: {}, selectOption: function (h, q, k) { if (q == "opt-000item-0") { $("#selectedSku").val(""); $("#product-option-stock-hint-display").show(); $("#product-option-stock-hint").hide(); return false } var n = $("#optionsStore"); if (n.length) { this.optionsStore = $.parseJSON(n.html()) } var b = $("#productOptionsWrapper .prd-option-collection." + h + " .prd-option-item." + q); if (b.hasClass("inactive") || this.countAllOptions() == 1) { options.init() } else { $("#productOptionsWrapper .prd-option-collection." + h + " .prd-option-item").removeClass("selected") } b.removeClass("inactive"); b.addClass("selected"); if (this.skus == undefined) { this.skus = this.optionsStore[h][q]["skus"] } else { var r = this.optionsStore[h][q]["skus"]; var e = {}; for (var m in r) { if (this.skus[m] != undefined) { e[m] = true } } this.skus = e } var o = ""; var j = 0; var f = 0; for (var l in this.optionsStore) { if (l != h) { f++; var a = this.optionsStore[l]; for (var d in a) { var c = a[d].skus; var g = false; for (var v in c) { if (this.skus[v] != undefined) { g = true; if (o != v) { j++; o += v } } } if (g == false) { $("#productOptionsWrapper .prd-option-collection." + l + " .prd-option-item." + d).addClass("inactive") } } } } if (f == 0) { for (var v in this.skus) { o = v; break } j = 1 } if (o && j == 1) { detail.selectSku(o, b) } }, selectDropdownOption: function (b, c, a) { if ($(".prd-option-item." + c).hasClass("inactive")) { return } this.selectOption(b, c, a); $(".prd-option-title .selection-title").html(c); $(".prd-option-collection").removeClass("show") }, countAllOptions: function () { var b = 0; for (var a in this.optionsStore) { b++ } return b } }; $.fn.center = function () { this.css({ position: "fixed", left: "50%", top: "50%" }); this.css({ "margin-left": -this.outerWidth() / 2 + "px", "margin-top": -this.outerHeight() / 2 + "px" }); return this }; $(function () { $(".cartPagePgLoading").center(); $(document).keydown(function (a) { if (a.keyCode == 13) { if ($("*:focus").attr("id") == "couponCode" && $("#couponCode").length) { myVoucher.add(a, "apply_keyboard_button") } } }); $(".gift-main").click(function (a) { if (a.target.id == "click_here") { window.location.href = "/" } else { if (a.target.id != "gift-close") { a.stopPropagation() } } }); $("#gift-wrapper").click(function () { $(this).hide() }); $(".jsterms").live("click", function () { $("#cart-new-pay-option").hide(); $("#resultMessage").show() }); $("#gift-close").live("click", function () { $("#removeMask").hide(); if ($("#couponsuccessFlag").val() == 0) { $("#couponCode").val("") } }); $("span#addCoupon").live("click", function () { $(".couponHint").addClass("s-hidden"); $(".couponFormEl").removeClass("s-hidden"); $("#couponCode").focus() }); if ($("#couponCodeError").is(":visible")) { if ($("#ancCouponErrorDesc").length) { couponType = $("#couponCodeError").data("coupon-type"); _gaq.push(["_trackEvent", "voucher", "cart", couponType + "-failure"]) } _gaq.push(["_trackEvent", "cart", "addcoupon", "invalid"]) } if ($("#couponCodeSuccess").is(":visible")) { couponType = $("#couponCodeSuccess").data("coupon-type"); _gaq.push(["_trackEvent", "voucher", "cart", couponType + "-success"]); _gaq.push(["_trackEvent", "cart", "addcoupon", "valid"]) } $("#another_coupon").live("click", function (a) { $("#cart-new-pay-option").show(); $("#resultMessage").hide(); $("#couponCode").focus().val("") }); $("#correct_coupon").live("click", function (a) { $("#cart-new-pay-option").show(); $("#resultMessage").hide(); $("#couponCode").focus() }); $(".cart-mask-close").live("click", function () { $("#cart-new-pay-option").show(); $("#resultMessage").hide() }); $(".cart-hlp-icon").live("hover", function () { $(".help-tool-tip").fadeIn() }); $(".cart-hlp-icon").live("mouseleave", function () { $(".help-tool-tip").fadeOut() }); $(".bt-coupon").live("click", function (a) { myVoucher.add(a, $(this).attr("rel")) }); $(".shippingChargeTooltip").hover(function () { var a = $(this).attr("label"); detail.showToolTip(a) }, function () { detail.leaveToolTip($(this).attr("label")) }); $("#giftwrap_email_lightbox").live("click focus", function () { if ($("#giftwrap_email_lightbox").val() == "example@example.com") { $("#giftwrap_email_lightbox").val(""); $("#giftwrap_email_lightbox").removeClass("default") } else { if ($("#giftwrap_email_lightbox").val() == null) { $("#giftwrap_email_lightbox").addClass("default"); $("#giftwrap_email_lightbox").val("example@example.com") } } }); $("#giftwrap_email_lightbox").live("blur", function () { if ($("#giftwrap_email_lightbox").val() == "") { $("#giftwrap_email_lightbox").addClass("default"); $("#giftwrap_email_lightbox").val("example@example.com") } }); $("#giftwrap_message_lightbox").live("click focus", function () { if ($("#giftwrap_message_lightbox").val() == "Enter message here") { $("#giftwrap_message_lightbox").val(""); $("#giftwrap_message_lightbox").removeClass("default") } else { if ($("#giftwrap_message_lightbox").val() == null) { $("#giftwrap_message_lightbox").removeClass("default"); $("#giftwrap_message_lightbox").val("Enter message here") } } }); $("#giftwrap_message_lightbox").live("blur", function () { if ($("#giftwrap_message_lightbox").val() == "") { $("#giftwrap_message_lightbox").addClass("default"); $("#giftwrap_message_lightbox").val("Enter message here") } }) }); var myVoucher = { addVoucherUrl: "/cart/addvoucher/", removeVoucherUrl: "/cart/removevoucher/", redirectCartUrl: "/cart/", add: function (b, a) { var c = $.trim($("#couponCode").val()); if (c.length == 0) { return false } $(".pgLoading").show(); $("#btn_apply_voucher").attr("disabled", "disabled"); $.post(this.addVoucherUrl, { couponcode: c }, function (d) { $(".pgLoading").hide(); $("#btn_apply_voucher").removeAttr("disabled"); d = jQuery.parseJSON(d); if (d.type == "success") { $("#couponValue").remove(); if (d.success_type == "success_applied") { $(".storecreditValue").hide() } var e = '<tr id="couponValue"><td class="normal pbs pts">Voucher</td><td class="strong pts">- Rs. ' + Math.ceil(d.coupon_money_value) + "</td></tr>"; $(e).insertBefore(".shippingChrgs"); $("#removeMask").hide(); $("#couponBlockDefault").remove(); $("#couponBlock").remove(); $("#cart-new-pay-option").append('<div id="couponBlock" class="cart-coupon p-rel">' + d.html + "</div>"); $(".coupon_value").html(c); $("#cart-new-pay-option").hide(); $("#resultMessage").show(); $("#resultMessage").html(d.message); $("#totalOrderAmount").html("Rs. " + d.grandTotal); if (d.storeCredits) { $(".storecreditValue td").eq(1).text("- Rs." + d.storeCredits) } else { $(".storecreditValue").remove() } $("#cartTotal").text("Rs." + d.grandTotal); _gaq.push(["_trackEvent", "voucher_new", "cart", d.coupon_type + "-" + a + "-" + d.success_type]); $(".cart-mask-close").attr("rel", d.coupon_type); if (d.shippingCharges > 0) { $(".savedShippingCharges,.shipchrgapp").remove(); $(".shippingChrgs").append(d.blockShippingCharges) } else { $(".cart_pd_highlight,.defaultTxt").text("FREE").css("color", "#009933"); $(".shippingChargeTooltip").hide() } } else { if (d.type == "failure") { $("#removeMask").hide(); $("#couponCodeError").text("Voucher not applicable").show(); $("#cart-new-pay-option").hide(); $("#resultMessage").show(); $("#resultMessage").html(d.message); _gaq.push(["_trackEvent", "voucher_new", "cart", d.coupon_type + "-" + a + "-" + d.failure_type]); $(".cart-mask-close").attr("rel", d.coupon_type); b.preventDefault() } } }).error(function () { myVoucher.redirectCart() }) }, remove: function (a, b) { $(".pgLoading").show(); $.post(this.removeVoucherUrl, { orignalPrice: a, YII_CSRF_TOKEN: $("#YII_CSRF_TOKEN").val() }, function (c) { $(".pgLoading").hide(); c = jQuery.parseJSON(c); if (c.message == "success") { $("#cart-new-pay-option").hide(); $("#removeMask").show().find(".coupon_value").html(c.code); $("#resultMessage").hide(); $("#couponBlock").remove(); $("#cart-new-pay-option").append('<div id="couponBlockDefault" class="cart-coupon p-rel">' + c.html + "</div>"); $("#totalOrderAmount").text("Rs " + c.grandTotal); if (c.storeCredits) { $(".storecreditValue td").eq(1).text("- Rs." + c.storeCredits) } else { $(".storecreditValue").remove() } $(".shipchrgapp,.savedShippingCharges").remove(); $(".shippingChrgs").append(c.blockShippingCharges); $(".shippingChargeTooltip").show(); $("#cartTotal").text("Rs." + c.grandTotal); $("#couponValue").remove(); $("#couponCode").val(c.code); $("#couponsuccessFlag").val(0); _gaq.push(["_trackEvent", "voucher_new", "cart", c.voucher_type + "-" + b + "-removed"]); $(".cart-mask-close").attr("rel", c.voucher_type) } else { myVoucher.redirectCart() } }).error(function () { myVoucher.redirectCart() }) }, redirectCart: function () { window.location.href = this.redirectCartUrl } }; var cartTimer = { count: 0, elementId: "timer", interval: null, start: function (a) { this.count = a; if ($("#" + this.elementId) && a > 0) { this.interval = window.setInterval($.proxy(this.refreshTimer, this), 1000) } }, refreshTimer: function () { var b = 0; var c = 0; if (this.count > 0) { if (this.count > 59) { b = Math.floor(this.count / 60); c = this.count - (b * 60) } else { c = this.count } var d = b.toString(); var a = c.toString(); if (b < 10) { d = "0" + d } if (c < 10) { a = "0" + a } $("#" + this.elementId).html(d + ":" + a) } else { window.clearInterval(this.interval); $("#" + this.elementId).html("00:00"); window.location.reload() } this.count-- } }; function giftWrapLightBox() { $(".l-main").append('<div id="loadingWindow" class="loadingMask" style="display: none"></div><div id="loadingContent" class="loadingContent"><div class="clear"></div><span>Loading..</span></div>'); $.ajax({ url: "/cart/giftwrapinfo/", type: "post", beforeSend: function () { $(".loadingContent").show() }, complete: function () { $(".loadingContent").hide() }, success: function (a) { if (a) { $uiDialogBody = $("#uiDialogBody"); $("#quickviewWindow").show(); $("#quickviewWindow").addClass("giftWrapGAEventCheck"); $uiDialogBody.html(a) } }, error: function () { window.location.reload() } }) } function giftWrapCloseQuickView() { $("#quickviewWindow").removeClass("giftWrapGAEventCheck").hide(); $("#uiDialogBody").html("") } function giftWrapRemove() { var a = "/cart/removegiftwrap/"; $.post(a, {}, function (b) { b = $.parseJSON(b); if (b.validation) { window.location.reload() } }) } function giftWrapSubmit() { var e = $("#giftwrap_lightbox"); var g = $.trim($("#giftwrap_recipientname_lightbox").val()); var f = $.trim($("#giftwrap_message_lightbox").val()); var d = $.trim($("#giftwrap_sendername_lightbox").val()); $("input").removeClass("signin_highlight"); $("#giftwrap_lightbox").find(".s-error").remove(); var c = ""; if (c == "example@example.com") { c = "" } if (f == "Enter message here") { f = "" } if (((c.valid("email") || c == "") && c.length <= 60) && g != "" && g.length <= 45 && f.length <= 200 && d != "" && d.length <= 50) { var a = "/cart/giftwrapvalidate/"; $.post(a, { email: c, recipient: g, message: f, sender: d }, function (b) { b = $.parseJSON(b); if (b.validation) { giftWrapCloseQuickView(); window.location.reload() } else { $("#" + b.id).addClass("signin_highlight"); if (b.message) { $("#" + b.id).after('<div class="s-error">' + b.message + ".</div>") } else { if (d == "") { $("#giftwrap_sendername_lightbox").addClass("signin_highlight"); $("#giftwrap_sendername_lightbox").after('<div class="s-error">Required field.</div>') } if (g == "") { $("#giftwrap_recipientname_lightbox").addClass("signin_highlight"); $("#giftwrap_recipientname_lightbox").after('<div class="s-error">Required field.</div>') } } } }) } else { if (c != "" && !c.valid("email")) { $("#giftwrap_email_lightbox").addClass("signin_highlight"); $("#giftwrap_email_lightbox").after('<div class="s-error">Please enter a valid email address.</div>') } if (c != "" && c.valid("email") && c.length > 60) { $("#giftwrap_email_lightbox").addClass("signin_highlight"); $("#giftwrap_email_lightbox").after('<div class="s-error">Max 60 characters allowed.</div>') } if (f != "" && f.length > 200) { $("#giftwrap_message_lightbox").addClass("signin_highlight"); $("#giftwrap_message_lightbox").after('<div class="s-error">Max 200 characters allowed.</div>') } if (d == "") { $("#giftwrap_sendername_lightbox").addClass("signin_highlight"); $("#giftwrap_sendername_lightbox").after('<div class="s-error">Required field.</div>') } if (d.length > 50) { $("#giftwrap_sendername_lightbox").addClass("signin_highlight"); $("#giftwrap_sendername_lightbox").after('<div class="s-error">Max 50 characters allowed.</div>') } if (g == "") { $("#giftwrap_recipientname_lightbox").addClass("signin_highlight"); $("#giftwrap_recipientname_lightbox").after('<div class="s-error">Required field.</div>') } if (g.length > 45) { $("#giftwrap_recipientname_lightbox").addClass("signin_highlight"); $("#giftwrap_recipientname_lightbox").after('<div class="s-error">Max 45 characters allowed.</div>') } } return false } if (typeof (_gaq) != "undefined") { $(".error").each(function () { if (typeof (this.id) != "undefined") { _gaq.push(["_trackEvent", "error", "checkout", this.id]) } }); var gaTrackclickMap = { BillingAddressForm_first_name: "/checkout/step/name", creditcard: "/checkout/step/payment_method/cc", invoice: "/checkout/step/payment_method/invoice", "2": "/checkout/step/payment_method/master", "1": "/checkout/step/payment_method/visa", "4": "/checkout/step/payment_method/diners", "5": "/checkout/step/payment_method/hipercard", "3": "/checkout/step/payment_method/amex" }; $.each(gaTrackclickMap, function (a, b) { $("#" + a).click(function () { _gaq.push(["_trackPageview", b]) }) }); var gaTrackfocusMap = { BillingAddressForm_first_name: "/checkout/step/name" }; $.each(gaTrackfocusMap, function (a, b) { $("#" + a).focus(function () { _gaq.push(["_trackPageview", b]) }) }); var gaTrackblurMap = { RegisterForm_tax_identification: "/checkout/step/cpf", BillingAddressForm_postcode: "/checkout/step/billing_address", ShippingAddressForm_postcode: "/checkout/step/delivery_address", CreditcardForm_cc_number: "/checkout/step/payment_method/credit_card/number" }; $.each(gaTrackblurMap, function (a, b) { $("#" + a).blur(function () { _gaq.push(["_trackPageview", b]) }) }) } var checkout = { init: function () { if ($("#cardName").val()) { $("#" + $("#cardName").val()).trigger("click") } checkout.initPaymentMethods(); checkout.initPlaceHolder(); $("#coupon-label").live("click", function () { $(this).hide(); $("#coupon-body").show() }) }, initPaymentMethods: function () { $(".payment-method input.payment-method-option").click(function () { $("#payment-tool-tip").hide(); $(".payment-method-form").hide(); if ($(".payment-method-" + $(this).attr("id")).length) { $(".payment-method-" + $(this).attr("id")).show() } }); $(".creditcards .ui-listItem").click(function () { checkout.selectCreditCard($(this)) }); $("#PaymentMethodForm_parameter_cc_number").keydown(function () { checkout.detectCard($(this)) }) }, selectCreditCard: function (a) { $(".creditcards .ui-listItem").removeClass("selected"); $("#cardName").val($.trim(a.text())); a.addClass("selected") }, detectCard: function (c) { var b = false; if (c.val() != "") { var a = c.val(); if (!isNaN(a)) { if (a.substr(0, 1) == 4) { checkout.selectCreditCard($("#visa")) } else { if (a.substr(0, 1) == 5) { checkout.selectCreditCard($("#mastercard")) } else { if ((a.substr(0, 3) == 300 || a.substr(0, 3) == 305 || a.substr(0, 2) == 36)) { checkout.selectCreditCard($("#diners")) } else { if ((a.substr(0, 2) == 34 || a.substr(0, 2) == 37)) { checkout.selectCreditCard($("#amex")) } else { b = true } } } } } else { b = true } } }, sendCoupon: function () { if (!$("#coupon").val().match(/^\s*$/)) { $("#coupon").removeClass("error"); $("#checkoutAjaxLoader").show(); $("#checkoutBtn").attr("disabled", "disabled").fadeTo(500, 0.5); $("#coupon").attr("disabled", "disabled"); $("#couponSend").attr("disabled", "disabled"); $.get("/checkout/finish/cart/couponcode/" + $("#coupon").val() + "/", function (a) { if (a) { $("#checkoutGrandTotal").html(a); $.get("/checkout/finish/paymentmethod/", function (b) { if (b) { $("#checkoutAjaxLoader").hide(); $("#checkout-payment").html(b); checkout.initPaymentMethods(); $("#checkoutBtn").attr("disabled", null).fadeTo(500, 1) } }) } }) } else { $("#couponSend").attr("disabled", null); $("#coupon").attr("disabled", null); $("#checkoutBtn").attr("disabled", null).fadeTo(500, 1); $("#checkoutAjaxLoader").hide(); $("#coupon").addClass("error") } }, setPaymentMethod: function (a) { if (a) { $("#checkoutAjaxLoader").show(); $("#checkoutBtn").attr("disabled", "disabled").fadeTo(500, 0.5); $.get("/checkout/finish/summary/paymentMethod/" + a + "/", function (b) { if (b) { $("#checkoutAjaxLoader").hide(); $("#checkoutGrandTotal").html(b); $("#checkoutBtn").attr("disabled", null).fadeTo(500, 1) } }) } }, setShippingMethod: function (a) { if (a) { $("#checkoutAjaxLoader").show(); $("#checkoutBtn").attr("disabled", "disabled").fadeTo(500, 0.5); $.get("/checkout/finish/summary/shippingMethod/" + a + "/", function (b) { if (b) { $("#checkoutAjaxLoader").hide(); $("#checkoutGrandTotal").html(b); $("#checkoutBtn").attr("disabled", null).fadeTo(500, 1) } }) } }, loadDifferentShipping: function (a) { $("#checkoutAjaxLoader").show(); $("#checkout .checkoutCol1").addClass("scrolling"); if (a.is(":checked")) { $("#checkout-shipping-content").slideUp(500, function () { $("#checkout .checkoutCol1").removeClass("scrolling"); $("#checkoutAjaxLoader").hide(); $("#checkout-shipping-content").html("") }) } else { $.get("/checkout/finish/shipping/", function (b) { $("#checkout-shipping-content").hide(); $("#checkout-shipping-content").html(b); checkout.maskShippingAddressFields(); $("#checkout-shipping-content").slideDown(500, function () { $("#checkout .checkoutCol1").removeClass("scrolling"); $("#checkoutAjaxLoader").hide() }); $("#new-shipping-address").click(function (c) { checkout.loadDifferentShippingAddress(); c.preventDefault() }) }) } }, loadDifferentBilling: function () { $("#checkoutAjaxLoader").show(); $.get("/checkout/finish/billing/form/1/", function (a) { $("#checkout-address").html(a); $("#checkoutAjaxLoader").hide(); checkout.maskBillingAddressFields() }) }, loadDifferentShippingAddress: function () { $("#checkoutAjaxLoader").show(); $.get("/checkout/finish/shipping/form/1/", function (a) { $("#checkout-shipping-content").html(a); $("#checkoutAjaxLoader").hide(); checkout.maskShippingAddressFields() }) }, maskBillingAddressFields: function () { if ($("#checkout-address").length) { $('input[id="BillingAddressForm_phone"]').mask(checkout.getMaskDefinition("phone", "9999999999?99999")); $.mask.definitions.m = checkout.getMaskDefinition("m", "[01]"); $.mask.definitions.d = checkout.getMaskDefinition("d", "[0123]"); $.mask.definitions.y = checkout.getMaskDefinition("y", "[012]"); $('input[id="BillingAddressForm_birthday_day"]').mask(checkout.getMaskDefinition("birthday_day", "d9")); $('input[id="BillingAddressForm_birthday_month"]').mask(checkout.getMaskDefinition("birthday_month", "m9")); $('input[id="BillingAddressForm_birthday_year"]').mask(checkout.getMaskDefinition("birthday_year", "y999")); $('input[id="BillingAddressForm_postcode"]').mask(checkout.getMaskDefinition("postcode", "999999")) } }, maskShippingAddressFields: function () { if ($("#checkout-shipping").length) { $('input[id="ShippingAddressForm_phone"]').mask(checkout.getMaskDefinition("phone", "9999999999?99999")); $('input[id="ShippingAddressForm_postcode"]').mask(checkout.getMaskDefinition("postcode", "999999")) } }, checkPaymentMethodAndAmout: function () { $('div[class="box s-error mbs msgBox"]').hide(); var a = true; if ($("#cashondelivery").attr("checked") != "checked") { a = false; $("#checkoutError").hide() } var b = parseInt($("#totalPrice").html()); if (a && b > 20000) { $("#checkoutError").html("Cash On Delivery is not permitted for orders above Rs. 20,000/- (Rupees Twenty Thousand). Please select Payment method - Credit Card / Debit Card / NetBanking - to complete your transaction."); $("#checkoutError").show(); return false } return true }, getMaskDefinition: function (b, a) { var c = typeof (maskDefinitions); if (c.toLowerCase() == "object" && typeof (maskDefinitions[b]) != "undefined") { return maskDefinitions[b] } else { return a } }, initTooltip: function () { if ($("#payment-tool-tip")) { $("#cvv-what-is-this, #payment-tool-tip-close").click(function (a) { a.stopPropagation(); $("#payment-tool-tip").toggle(); return false }) } }, initPlaceHolderKeyBased: function () { $("[placeholder]").keyup(function (b) { var a = $(this); if (a.val() == "") { a.val(a.attr("placeholder")); a.addClass("placeholder"); a.select() } }).keydown(function (b) { var a = $(this); if (a.val() == a.attr("placeholder")) { a.select() } }).focus(function () { var a = $(this); if (a.val() == a.attr("placeholder")) { a.select() } }).blur(function () { var a = $(this); if (a.val() == "" || a.val() == a.attr("placeholder")) { a.addClass("placeholder"); a.val(a.attr("placeholder")) } }).blur().parents("form").submit(function () { $(this).find("[placeholder]").each(function () { var a = $(this); if (a.val() == a.attr("placeholder")) { a.val("") } }) }) }, initPlaceHolder: function () { $("[placeholder]").focus(function () { var a = $(this); if (a.val() == "" || a.val() == a.attr("placeholder")) { a.val(""); a.removeClass("placeholder") } }).blur(function () { var a = $(this); if (a.val() == "" || a.val() == a.attr("placeholder")) { a.addClass("placeholder"); a.val(a.attr("placeholder")) } }).blur().parents("form").submit(function () { $(this).find("[placeholder]").each(function () { var a = $(this); if (a.val() == a.attr("placeholder")) { a.val("") } }) }) } }; $(function () { checkout.init(); checkout.initTooltip(); checkout.maskBillingAddressFields(); checkout.maskShippingAddressFields(); $("#checkoutBtn").click(function () { if (!checkout.checkPaymentMethodAndAmout()) { return false } if (typeof (_gaq) != "undefined") { _gaq.push(["_trackPageview", "/checkout/step/finish"]) } var a = $(window).height(); var c = $("#dialogProcessing .container").height(); var b = a / 2 - (156 / 2); $("#dialogProcessing .container").css("margin-top", b); $("#dialogProcessing").show(); window.setTimeout('$("#dialogProcessingInfo1").slideUp(300); $("#dialogProcessingInfo2").slideDown(300);', 6500) }); $("#newsletterSignupWrapper").fadeTo(500, 10); $("#load-different-billing").click(function (a) { a.preventDefault(); checkout.loadDifferentBilling() }); $("#couponSend").live("click", checkout.sendCoupon); $("#shipping-address-different").click(function () { checkout.loadDifferentShipping($(this)) }); $("#shippingAddressDifferent").click(function () { checkout.loadDifferentShipping($(this)) }); $(".payment-method-option").click(function () { checkout.setPaymentMethod($(this).val()) }); $(".shipping-method-option").click(function () { checkout.setShippingMethod($(this).val()) }) }); function PrepaidDialogBox() { $("body").append('<div id="PrepaidDialogBox" style="width:' + $(document).width() + "px;height:" + $(document).height() + 'px;">&nbsp;</div>'); $("body").append('<div id="popUpModelContent"></div>'); if (prepaidData.prepaidBoxOpen < 2) { $.get("/onecheckout/widget/prepaidBoxSession/", { YII_CSRF_TOKEN: YII_CSRF_TOKEN }, function (a) { prepaidData.prepaidBoxOpen = a.prepaidBoxOpen }, "json") } } function PrepaidDialogBoxClose() { $("#PrepaidDialogBox").remove(); $("#popUpModelContent").remove() } $("#PaymentPopupClose,#PrepaidDialogBox").live("click", function () { PrepaidDialogBoxClose() }); $("#continueCOD").live("click", function () { continueCOD = 1; PrepaidDialogBoxClose(); $("#cod_order").click() }); $(document).keydown(function (a) { if (a.which == 27) { PrepaidDialogBoxClose() } }); function displayPaymentForm(c, a, b) { if ($("#" + a[0]).attr("disabled") == "disabled") { return false } $.get(codChargesUrl + "payment_method/" + b, { YII_CSRF_TOKEN: YII_CSRF_TOKEN }, function (d) { if (d.prepaidOffer == 1 && d.prepaidBoxOpen >= 1) { $("#save-oco-" + a[1]).show() } else { $("#save-oco-" + a[1]).hide() } updateRightSide(1) }, "json"); handlePaymentDivsAndTabs("#" + b, "#" + a[0]); $("#" + a[2]).find("#PaymentMethodForm_payment_method").val(c) } function gaCodeForPrepaidBox(a) { _gaq.push(["_trackEvent", "cod_prepaid_switch", popupCount, a]); return false } function editContact() { $("#contact-text-field").show(); $("#contact-check-box").show(); $("#show-contact").hide() } function validateCheckOutform() { var a = $("#contact").val(); if (a != "" && isNaN(a)) { $("#contact-error").show(); return false } } (function (a) { a.fn.bxSlider = function (y) { var K = { mode: "horizontal", infiniteLoop: true, hideControlOnEnd: false, controls: true, speed: 2000, easing: "swing", nextText: "next", nextImage: "", nextSelector: null, prevText: "prev", prevImage: "", prevSelector: null, captions: false, captionsSelector: null, auto: true, autoDirection: "next", autoControls: false, autoControlsSelector: null, autoStart: true, autoHover: false, autoDelay: 0, pause: 20000, startText: "start", startImage: "", stopText: "stop", stopImage: "", ticker: false, tickerSpeed: 10, tickerDirection: "next", tickerHover: false, wrapperClass: "bx-wrapper", startingSlide: 0, displaySlideQty: 1, moveSlideQty: 1, randomStart: false, onBeforeSlide: function () { }, onAfterSlide: function () { }, onLastSlide: function () { }, onFirstSlide: function () { }, onNextSlide: function () { }, onPrevSlide: function () { }, buildPager: null }; var y = a.extend(K, y); var o = this; var k = ""; var D = ""; var S = ""; var C = ""; var H = ""; var b = ""; var X = ""; var m = ""; var ab = ""; var L = ""; var e = ""; var ae = ""; var O = ""; var W = ""; var ac = ""; var Q = true; var E = false; var z = 0; var P = 0; var v = 0; var ad = 0; var B = 0; var r = 0; var w = 0; var U = 0; var g = 0; var aa = false; var T = 0; var A = S.length - 1; this.goToSlide = function (af, ag) { if (!aa) { aa = true; v = af; y.onBeforeSlide(v, S.length, S.eq(v)); if (typeof (ag) == "undefined") { var ag = true } if (ag) { if (y.auto) { o.stopShow(true) } } slide = af; if (slide == T) { y.onFirstSlide(v, S.length, S.eq(v)) } if (slide == A) { y.onLastSlide(v, S.length, S.eq(v)) } if (y.mode == "horizontal") { k.animate({ left: "-" + G(slide, "left") + "px" }, y.speed, y.easing, function () { aa = false; y.onAfterSlide(v, S.length, S.eq(v)) }) } else { if (y.mode == "vertical") { k.animate({ top: "-" + G(slide, "top") + "px" }, y.speed, y.easing, function () { aa = false; y.onAfterSlide(v, S.length, S.eq(v)) }) } else { if (y.mode == "fade") { F() } } } d(); if (y.moveSlideQty > 1) { af = Math.floor(af / y.moveSlideQty) } M(af); Y() } }; this.goToNextSlide = function (ai) { if (typeof (ai) == "undefined") { var ai = true } if (ai) { if (y.auto) { o.stopShow(true) } } if (!y.infiniteLoop) { if (!aa) { var af = false; v = (v + (y.moveSlideQty)); if (v <= A) { d(); y.onNextSlide(v, S.length, S.eq(v)); o.goToSlide(v) } else { v -= y.moveSlideQty } } } else { if (!aa) { aa = true; var af = false; v = (v + y.moveSlideQty); if (v > A) { v = v % S.length; af = true } y.onNextSlide(v, S.length, S.eq(v)); y.onBeforeSlide(v, S.length, S.eq(v)); if (y.mode == "horizontal") { var ag = (y.moveSlideQty * X); k.animate({ left: "-=" + ag + "px" }, y.speed, y.easing, function () { aa = false; if (af) { k.css("left", "-" + G(v, "left") + "px") } y.onAfterSlide(v, S.length, S.eq(v)) }) } else { if (y.mode == "vertical") { var ah = (y.moveSlideQty * P); k.animate({ top: "-=" + ah + "px" }, y.speed, y.easing, function () { aa = false; if (af) { k.css("top", "-" + G(v, "top") + "px") } y.onAfterSlide(v, S.length, S.eq(v)) }) } else { if (y.mode == "fade") { F() } } } if (y.moveSlideQty > 1) { M(Math.ceil(v / y.moveSlideQty)) } else { M(v) } Y() } } }; this.goToPreviousSlide = function (ai) { if (typeof (ai) == "undefined") { var ai = true } if (ai) { if (y.auto) { o.stopShow(true) } } if (!y.infiniteLoop) { if (!aa) { var af = false; v = v - y.moveSlideQty; if (v < 0) { v = 0; if (y.hideControlOnEnd) { a(".bx-prev", C).hide() } } d(); y.onPrevSlide(v, S.length, S.eq(v)); o.goToSlide(v) } } else { if (!aa) { aa = true; var af = false; v = (v - (y.moveSlideQty)); if (v < 0) { negativeOffset = (v % S.length); if (negativeOffset == 0) { v = 0 } else { v = (S.length) + negativeOffset } af = true } y.onPrevSlide(v, S.length, S.eq(v)); y.onBeforeSlide(v, S.length, S.eq(v)); if (y.mode == "horizontal") { var ag = (y.moveSlideQty * X); k.animate({ left: "+=" + ag + "px" }, y.speed, y.easing, function () { aa = false; if (af) { k.css("left", "-" + G(v, "left") + "px") } y.onAfterSlide(v, S.length, S.eq(v)) }) } else { if (y.mode == "vertical") { var ah = (y.moveSlideQty * P); k.animate({ top: "+=" + ah + "px" }, y.speed, y.easing, function () { aa = false; if (af) { k.css("top", "-" + G(v, "top") + "px") } y.onAfterSlide(v, S.length, S.eq(v)) }) } else { if (y.mode == "fade") { F() } } } if (y.moveSlideQty > 1) { M(Math.ceil(v / y.moveSlideQty)) } else { M(v) } Y() } } }; this.goToFirstSlide = function (af) { if (typeof (af) == "undefined") { var af = true } o.goToSlide(T, af) }; this.goToLastSlide = function () { if (typeof (af) == "undefined") { var af = true } o.goToSlide(A, af) }; this.getCurrentSlide = function () { return v }; this.getSlideCount = function () { return S.length }; this.stopShow = function (af) { clearInterval(e); if (typeof (af) == "undefined") { var af = true } if (af && y.autoControls) { ae.html(W).removeClass("stop").addClass("start"); Q = false } }; this.startShow = function (af) { if (typeof (af) == "undefined") { var af = true } n(); if (af && y.autoControls) { ae.html(ac).removeClass("start").addClass("stop"); Q = true } }; this.stopTicker = function (af) { k.stop(); if (typeof (af) == "undefined") { var af = true } if (af && y.ticker) { ae.html(W).removeClass("stop").addClass("start"); Q = false } }; this.startTicker = function (af) { if (y.mode == "horizontal") { if (y.tickerDirection == "next") { var ah = parseInt(k.css("left")); var aj = (r + ah) + S.eq(0).width() } else { if (y.tickerDirection == "prev") { var ah = -parseInt(k.css("left")); var aj = (ah) - S.eq(0).width() } } var ai = (aj * y.tickerSpeed) / r; J(U, aj, ai) } else { if (y.mode == "vertical") { if (y.tickerDirection == "next") { var ag = parseInt(k.css("top")); var aj = (w + ag) + S.eq(0).height() } else { if (y.tickerDirection == "prev") { var ag = -parseInt(k.css("top")); var aj = (ag) - S.eq(0).height() } } var ai = (aj * y.tickerSpeed) / w; J(g, aj, ai); if (typeof (af) == "undefined") { var af = true } if (af && y.ticker) { ae.html(ac).removeClass("start").addClass("stop"); Q = true } } } }; this.initShow = function () { k = a(this); D = k.clone(); S = k.children(); C = ""; H = k.children(":first"); b = H.width(); z = 0; X = H.outerWidth(); P = 0; m = f(); ab = Z(); aa = false; L = ""; v = 0; ad = 0; B = 0; e = ""; ae = ""; O = ""; W = ""; ac = ""; Q = true; E = false; r = 0; w = 0; U = 0; g = 0; T = 0; A = S.length - 1; S.each(function (ag) { if (a(this).outerHeight() > P) { P = a(this).outerHeight() } if (a(this).outerWidth() > z) { z = a(this).outerWidth() } }); if (y.randomStart) { var af = Math.floor(Math.random() * S.length); v = af; ad = X * (y.moveSlideQty + af); B = P * (y.moveSlideQty + af) } else { v = y.startingSlide; ad = X * (y.moveSlideQty + y.startingSlide); B = P * (y.moveSlideQty + y.startingSlide) } q(); if (y.pager && !y.ticker) { if (y.pagerType == "full") { N("full") } else { if (y.pagerType == "short") { N("short") } } } if (y.controls && !y.ticker) { j() } if (y.auto || y.ticker) { if (y.autoControls) { s() } if (y.autoStart) { setTimeout(function () { o.startShow(true) }, y.autoDelay) } else { o.stopShow(true) } if (y.autoHover && !y.ticker) { I() } } if (y.moveSlideQty > 1) { M(Math.ceil(v / y.moveSlideQty)) } else { M(v) } d(); if (y.captions) { Y() } y.onAfterSlide(v, S.length, S.eq(v)) }; this.destroyShow = function () { clearInterval(e); a(".bx-next, .bx-prev, .bx-pager, .bx-auto", C).remove(); k.unwrap().unwrap().removeAttr("style"); k.children().removeAttr("style").not(".pager").remove(); S.removeClass("pager") }; this.reloadShow = function () { o.destroyShow(); o.initShow() }; function q() { V(y.startingSlide); if (y.mode == "horizontal") { k.wrap('<div class="' + y.wrapperClass + '" style="width:' + m + 'px; position:relative;"></div>').wrap('<div class="bx-window" style="position:relative; overflow:hidden; margin-left:33px; width:' + (m - 50) + 'px;"></div>').css({ width: "999999px", position: "relative", left: "-" + (ad) + "px" }); k.children().css({ width: b, "float": "left", listStyle: "none" }); C = k.parent().parent(); S.addClass("pager"); var af = C.children(".bx-window"); if (af.parent().parent().hasClass("qlPrdImg")) { af.css({ "margin-left": "0", width: (m - 20) }) } else { if (af.parent().parent().parent().hasClass("hpBrands")) { a(".hpBrands").find(".bx-wrapper .bx-window").css({ "margin-left": "0", width: (m - 20) }) } else { if (af.parent().parent().parent().hasClass("recs_on_index")) { a(".recs_on_index").find(".bx-window").css({ "margin-left": "37px", width: (m - 40) }) } else { if (af.parent().parent().parent().hasClass("pd_recent_border")) { af.css({ "margin-left": "20px", width: (m - 20) }) } else { if (af.parent().parent().parent().hasClass("recent_on_errorpage")) { a(".recent_on_errorpage").find(".bx-window").css({ "margin-left": "37px", width: (m - 40) }) } } } } } } else { if (y.mode == "vertical") { k.wrap('<div class="' + y.wrapperClass + '" style="width:' + z + 'px; position:relative;"></div>').wrap('<div class="bx-window" style="width:' + z + "px; height:" + ab + 'px; position:relative; overflow:hidden;"></div>').css({ height: "999999px", position: "relative", top: "-" + (B) + "px" }); k.children().css({ listStyle: "none", height: P }); C = k.parent().parent(); S.addClass("pager") } else { if (y.mode == "fade") { k.wrap('<div class="' + y.wrapperClass + '" style="width:' + z + 'px; position:relative;"></div>').wrap('<div class="bx-window" style="height:' + P + "px; width:" + z + 'px; position:relative; overflow:hidden;"></div>'); k.children().css({ listStyle: "none", position: "absolute", top: 0, left: 0, zIndex: 98 }); C = k.parent().parent(); S.not(":eq(" + v + ")").fadeTo(0, 0); S.eq(v).css("zIndex", 99) } } } if (y.captions && y.captionsSelector == null) { C.append('<div class="bx-captions"></div>') } } function V() { if (y.mode == "horizontal" || y.mode == "vertical") { var ai = R(S, 0, y.moveSlideQty, "backward"); a.each(ai, function (ak) { k.prepend(a(this)) }); var ah = (S.length + y.moveSlideQty) - 1; var ag = S.length - y.displaySlideQty; var af = ah - ag; var aj = R(S, 0, af, "forward"); if (y.infiniteLoop) { a.each(aj, function (ak) { k.append(a(this)) }) } } } function j() { if (y.nextImage != "") { nextContent = y.nextImage; nextType = "image" } else { nextContent = y.nextText; nextType = "text" } if (y.prevImage != "") { prevContent = y.prevImage; prevType = "image" } else { prevContent = y.prevText; prevType = "text" } h(nextType, nextContent, prevType, prevContent) } function n() { if (y.auto) { if (!y.infiniteLoop) { if (y.autoDirection == "next") { e = setInterval(function () { v += y.moveSlideQty; if (v > A) { v = v % S.length } o.goToSlide(v, false) }, y.pause) } else { if (y.autoDirection == "prev") { e = setInterval(function () { v -= y.moveSlideQty; if (v < 0) { negativeOffset = (v % S.length); if (negativeOffset == 0) { v = 0 } else { v = (S.length) + negativeOffset } } o.goToSlide(v, false) }, y.pause) } } } else { if (y.autoDirection == "next") { e = setInterval(function () { o.goToNextSlide(false) }, y.pause) } else { if (y.autoDirection == "prev") { e = setInterval(function () { o.goToPreviousSlide(false) }, y.pause) } } } } else { if (y.ticker) { y.tickerSpeed *= 10; a(".pager", C).each(function (af) { r += a(this).width(); w += a(this).height() }); if (y.tickerDirection == "prev" && y.mode == "horizontal") { k.css("left", "-" + (r + ad) + "px") } else { if (y.tickerDirection == "prev" && y.mode == "vertical") { k.css("top", "-" + (w + B) + "px") } } if (y.mode == "horizontal") { U = parseInt(k.css("left")); J(U, r, y.tickerSpeed) } else { if (y.mode == "vertical") { g = parseInt(k.css("top")); J(g, w, y.tickerSpeed) } } if (y.tickerHover) { l() } } } } function J(ag, ah, af) { if (y.mode == "horizontal") { if (y.tickerDirection == "next") { k.animate({ left: "-=" + ah + "px" }, af, "linear", function () { k.css("left", ag); J(ag, r, y.tickerSpeed) }) } else { if (y.tickerDirection == "prev") { k.animate({ left: "+=" + ah + "px" }, af, "linear", function () { k.css("left", ag); J(ag, r, y.tickerSpeed) }) } } } else { if (y.mode == "vertical") { if (y.tickerDirection == "next") { k.animate({ top: "-=" + ah + "px" }, af, "linear", function () { k.css("top", ag); J(ag, w, y.tickerSpeed) }) } else { if (y.tickerDirection == "prev") { k.animate({ top: "+=" + ah + "px" }, af, "linear", function () { k.css("top", ag); J(ag, w, y.tickerSpeed) }) } } } } } function s() { if (y.startImage != "") { startContent = y.startImage; startType = "image" } else { startContent = y.startText; startType = "text" } if (y.stopImage != "") { stopContent = y.stopImage; stopType = "image" } else { stopContent = y.stopText; stopType = "text" } c(startType, startContent, stopType, stopContent) } function I() { C.find(".bx-window").hover(function () { if (Q) { o.stopShow(false) } }, function () { if (Q) { o.startShow(false) } }) } function l() { k.hover(function () { if (Q) { o.stopTicker(false) } }, function () { if (Q) { o.startTicker(false) } }) } function F() { S.not(":eq(" + v + ")").fadeTo(y.speed, 0).css("zIndex", 98); S.eq(v).css("zIndex", 99).fadeTo(y.speed, 1, function () { aa = false; if (jQuery.browser.msie) { S.eq(v).get(0).style.removeAttribute("filter") } y.onAfterSlide(v, S.length, S.eq(v)) }) } function M(af) { if (y.pagerType == "full" && y.pager) { a("a", L).removeClass(y.pagerActiveClass); a("a", L).eq(af).addClass(y.pagerActiveClass) } else { if (y.pagerType == "short" && y.pager) { a(".bx-pager-current", L).html(v + 1) } } } function h(ak, aj, af, ag) { var ah = a('<a href="" class="bx-next"></a>'); var ai = a('<a href="" class="bx-prev"></a>'); if (ak == "text") { ah.html(aj) } else { ah.html('<img src="' + aj + '" />') } if (af == "text") { ai.html(ag) } else { ai.html('<img src="' + ag + '" />') } if (y.prevSelector) { a(y.prevSelector).append(ai) } else { C.append(ai) } if (y.nextSelector) { a(y.nextSelector).append(ah) } else { C.append(ah) } ah.click(function () { o.goToNextSlide(); return false }); ai.click(function () { o.goToPreviousSlide(); return false }) } function N(ai) { var ah = S.length; if (y.moveSlideQty > 1) { if (S.length % y.moveSlideQty != 0) { ah = Math.ceil(S.length / y.moveSlideQty) } else { ah = S.length / y.moveSlideQty } } var aj = ""; if (y.buildPager) { for (var af = 0; af < ah; af++) { aj += y.buildPager(af, S.eq(af * y.moveSlideQty)) } } else { if (ai == "full") { for (var af = 1; af <= ah; af++) { aj += '<a href="" class="pager-link pager-' + af + '">' + af + "</a>" } } else { if (ai == "short") { aj = '<span class="bx-pager-current">' + (y.startingSlide + 1) + "</span> " + y.pagerShortSeparator + ' <span class="bx-pager-total">' + S.length + "</span>" } } } if (y.pagerSelector) { a(y.pagerSelector).append(aj); L = a(y.pagerSelector) } else { var ag = a('<div class="bx-pager"></div>'); ag.append(aj); if (y.pagerLocation == "top") { C.prepend(ag) } else { if (y.pagerLocation == "bottom") { C.append(ag) } } L = a(".bx-pager", C) } L.children().click(function () { if (y.pagerType == "full") { var ak = L.children().index(this); if (y.moveSlideQty > 1) { ak *= y.moveSlideQty } o.goToSlide(ak) } return false }) } function Y() { var af = a("img", S.eq(v)).attr("title"); if (af != "") { if (y.captionsSelector) { a(y.captionsSelector).html(af) } else { a(".bx-captions", C).html(af) } } else { if (y.captionsSelector) { a(y.captionsSelector).html("&nbsp;") } else { a(".bx-captions", C).html("&nbsp;") } } } function c(ag, ah, af, ai) { ae = a('<a href="" class="bx-start"></a>'); if (ag == "text") { W = ah } else { W = '<img src="' + ah + '" />' } if (af == "text") { ac = ai } else { ac = '<img src="' + ai + '" />' } if (y.autoControlsSelector) { a(y.autoControlsSelector).append(ae) } else { C.append('<div class="bx-auto"></div>'); a(".bx-auto", C).html(ae) } ae.click(function () { if (y.ticker) { if (a(this).hasClass("stop")) { o.stopTicker() } else { if (a(this).hasClass("start")) { o.startTicker() } } } else { if (a(this).hasClass("stop")) { o.stopShow(true) } else { if (a(this).hasClass("start")) { o.startShow(true) } } } return false }) } function d() { if (!y.infiniteLoop && y.hideControlOnEnd) { if (v == T) { a(".bx-prev", C).hide() } else { a(".bx-prev", C).show() } if (v == A) { a(".bx-next", C).hide() } else { a(".bx-next", C).show() } } } function G(ah, ag) { if (ag == "left") { var af = a(".pager", C).eq(ah).position().left } else { if (ag == "top") { var af = a(".pager", C).eq(ah).position().top } } return af } function f() { if (H.parent().hasClass("pd_recent_middle")) { var af = H.outerWidth() * 4; return af } else { if (H.parent().hasClass("pd_recent_middle_last_error")) { var af = H.outerWidth() * 5; return af } else { var af = H.outerWidth() * y.displaySlideQty; return af } } } function Z() { var af = H.outerHeight() * y.displaySlideQty; return af } function R(al, ak, ai, aj) { var ah = []; var ag = ai; var af = false; if (aj == "backward") { al = a.makeArray(al); al.reverse() } while (ag > 0) { a.each(al, function (am, an) { if (ag > 0) { if (!af) { if (am == ak) { af = true; ah.push(a(this).clone()); ag-- } } else { ah.push(a(this).clone()); ag-- } } else { return false } }) } return ah } this.each(function () { if (a(this).children().length > 0) { o.initShow() } }); return this }; jQuery.fx.prototype.cur = function () { if (this.elem[this.prop] != null && (!this.elem.style || this.elem.style[this.prop] == null)) { return this.elem[this.prop] } var b = parseFloat(jQuery.css(this.elem, this.prop)); return b } })(jQuery); (function (a) { a(function () { a("#topSellerSlider").bxSlider({ displaySlideQty: 1, moveSlideQty: 1, auto: true, autoDelay: 200, pause: 6000, tickerSpeed: 300, speed: 450, autoHover: true }); a("#topBrandSlider").bxSlider({ displaySlideQty: 8, moveSlideQty: 1, auto: true, autoDelay: 200, pause: 6000, tickerSpeed: 300, speed: 450, autoHover: true }); a("#relatedProdSlider").bxSlider({ displaySlideQty: 2, mode: "vertical", moveSlideQty: 1, speed: 500 }); a("#productSlider").bxSlider({ displaySlideQty: 6, moveSlideQty: 1, auto: false, autoDelay: 200, pause: 6000, tickerSpeed: 300, speed: 2000, wrapperWidth: 150 }) }) } (jQuery)); $(document).ready(function () { $("#navigation > li > a").hover(function () { var l = $(document).trueWidth(); var c = 996; var f = $(this).offset(); var h = $("#nav-wrapper").offset().left; var d = f.left - h; var j = $(this).parent().find(".cat-main li:first-child .cat-content"); var g = j.find("#category").width() + j.find("#brand").width() + j.find("#ocassion").width() + 151; var e = Math.floor((d + g) - c); if ((d + g) < c) { var k = $(this).offset().left; leftpositionf = Math.floor(k - h); if ($(this).parent().find(".drop-menu").hasClass("leftalignedmenu")) { $(this).parent().find(".leftalignedmenu").css({ width: "994px", "margin-left": -leftpositionf }) } else { $(this).parent().find(".drop-menu").css({ "margin-left": "0px", width: g }) } } else { $(this).parent().find(".drop-menu").css({ "margin-left": -e, width: g }) } }); $("#qa-my-acc-link").click(function () { $("#my_account").show(); return false }); $("#navigation > li").mousestop(function () { $(this).find(".drop-menu").show(); $(this).children("a").addClass("selected") }); $("#navigation > li > a").mouseover(function () { $(".cat-main > li > a").removeClass("active"); $(".cat-content").hide(); $(this).parent().find(".cat-main li:first-child a").addClass("active"); $(this).parent().find(".cat-main li:first-child").find(".cat-content").show(); $(this).parent().find(".cat-main li:first-child").find(".cat-content").find("img").show() }); $("#navigation > li").mouseleave(function () { $(this).find(".drop-menu").hide(); $(this).children("a").removeClass("selected") }); $(".cat-main > li > a").mousestop(function () { $(".cat-content").hide(); $(this).parent().find(".cat-content").show(); $(".cat-content").find("img").hide(); $(this).parent().find(".cat-content").find("img").show(); $(".cat-main > li > a").removeClass("active"); $(this).addClass("active") }); $(".drop-menu").mouseleave(function () { $(".cat-content").find("img").hide() }); $("#saletab").hover(function () { $("#saletab").addClass("selected"); $(".drop-menu-sale").show() }, function () { $("#saletab").removeClass("selected"); $(".drop-menu-sale").hide() }); $("#login_error").hide(); $("#customer_error").hide(); formFieldsText(); var b = $(".sel-login ").attr("title"); var a = $(".sel-logout").attr("title"); $("#qa-login-link,#qa-signup-link").click(function () { if (location.protocol.indexOf("https") != -1) { var d = "/customer/account/showLoginPopup/" } else { var d = "/index/showLoginPopup/" } var c = $(this).attr("id"); $.get(d, function (e) { $("body").append('<div id="loginWindow" class="ui-dialog ui-dialogLoginview" style="display: none"><div id="uiDialogClicker"></div><div id="signDialog"></div></div>'); $("#loginWindow").show(); $("#signDialog").html(e); $(".signup-dialogClose").click(function () { account.closeBox() }); $(".winClose").click(function () { $("#loginWindow").remove() }); document.onkeyup = function (f) { if ("undefined" == typeof (f)) { f = event } if (27 == f.keyCode) { account.closeBox() } }; if (c == "qa-signup-link") { $("#signup-box").show(); $("#signin-box").hide(); _gaq.push(["_trackEvent", "SignUp", "HeaderLink"]) } else { $("#signin_email").focus(); _gaq.push(["_trackEvent", "SignIn", "HeaderLink"]) } $("#signUpLink").click(function () { $("#signup-box").show(); $("#signin-box").hide(); _gaq.push(["_trackEvent", "SignIn", "SwitchTo", "SignUp"]) }); $("#signInLink").click(function () { $("#signup-box").hide(); $("#signin-box").show(); $("#signin_email").focus(); $("#signInVerificationError").css("display", "none"); $("#signin_form").css("display", "block"); _gaq.push(["_trackEvent", "SignUp", "SwitchTo", "SignIn"]) }); $("#signin-btn").click(function (f) { _gaq.push(["_trackEvent", "SignIn", "SignIn Form", "Submit"]); f.preventDefault(); account.signIn() }); $("#signup-btn").click(function () { _gaq.push(["_trackEvent", "SignUp", "Signup Form", "Submit"]); account.signUp() }); $("#forgotPassword_link").click(function () { if (isValidEmailAddress($.trim($("#signin_email").val())) && $("#signin_email").val() != "example@example.com") { $("#forgotPassword").val($.trim($("#signin_email").val())); $("#forgotPassword").removeClass("grey-font") } $("#forgotPassword_box").show(); $("#signin-box").hide(); _gaq.push(["_trackEvent", "SignIn", "SwitchTo", "ForgotPassword"]) }); $("#forgotPassword_btn").click(function () { _gaq.push(["_trackEvent", "ForgotPassword", "Submit"]); account.forgotPassword() }); $(".place-holder").addClass("grey-font"); $(".place-holder").bind("click focus", function () { if ($.trim($(this).val()) == $(this).attr("data-place-holder")) { $(this).val("") } $(this).removeClass("grey-font") }); $(".place-holder").blur(function () { if ($.trim($(this).val()) == "") { $(this).val($(this).attr("data-place-holder")); $(this).addClass("grey-font") } }); $("#signup_password1").focus(function () { $("#signup_password1").hide(); $("#signup_password").show(); $("#signup_password").focus() }); $("#signup_password").blur(function () { if ($("#signup_password").val() == "") { $("#signup_password1").show(); $("#signup_password").hide() } }); $("#signup_confirm_password1").focus(function () { $("#signup_confirm_password1").hide(); $("#signup_confirm_password").show(); $("#signup_confirm_password").focus() }); $("#signup_confirm_password").blur(function () { if ($("#signup_confirm_password").val() == "") { $("#signup_confirm_password1").show(); $("#signup_confirm_password").hide() } }) }) }); $("#form-register input").blur(function () { $("#login_error").hide(); $("#login_error").html() }); $("#form-account-create").blur(function () { $("#customer_error").hide(); $("#customer_error").html() }); $("#login_form .tooltip_close").click(function (c) { $("#login_form").hide() }); $("#login_form").bind("clickoutside", function (d) { var c = d.target.id; if (c != "account_btn" && c != "tooltip_mid_content") { removeErrorMessage() } $(this).hide(); $("#my_account").bind("clickoutside", function (f) { $(this).hide() }) }); $("#login_email").bind("click focus", function (c) { $("#login_email").removeClass("signin_highlight") }); $("#gender").bind("click focus", function (c) { $("#gender").removeClass("signin_highlight") }); $(".splitTestNavigation_v3").find(".nav-layer").mouseover(function () { $(this).parent().find("a").addClass("active-arrow") }); $(".splitTestNavigation_v3").find(".nav-layer").mouseout(function () { $(this).parent().find("a").removeClass("active-arrow") }); loadImages("body", "tag", "data-src-onready"); if ($("#productSlider").length) { $(".demo-wrap .bx-prev, .demo-wrap .bx-next").click(function () { loadImages("productSlider", "id", "data-src-dataonclick") }); $(".demo-wrap-error .bx-prev, .demo-wrap-error .bx-next").click(function () { loadImages("productSlider", "id", "data-src-dataonclick") }) } $(".new-main li").each(function () { $(this).hover(function () { $(this).find("span").show() }, function () { $(this).find("span").hide() }) }); $("div#nav-wrapper div.navigation").on("click", "a", function () { if ($(this).attr("data-gaq-event")) { var c = $(this).attr("data-gaq-event").split("!#!"); _gaq.push(["_trackEvent", c[0], c[1], c[2]]) } }); $(".cart-cross").click(function () { $.ajax({ url: "/cart/cartNotification/", success: function (c) { $(".cart-tooltip").hide() } }) }) }); $(window).load(function () { window.loaded = true; $("ul.cat-main").find("div.list-column").find("img").each(function () { var a = $(this).attr("data-src"); if (a.length > 0) { $(this).attr("src", a) } }); $("ul.new-main").find("img").each(function () { var a = $(this).attr("data-src"); if (a.length > 0) { $(this).attr("src", a) } }); $("div.sale-img").find("img").each(function () { var a = $(this).attr("data-src"); if (a.length > 0) { $(this).attr("src", a) } }); $("div.shop-all-brands img").each(function () { var a = $(this).attr("data-src"); if (a.length > 0) { $(this).attr("src", a) } }); loadImages("body", "tag", "data-src-onload"); loadImages("body", "tag", "data-src-onload", "iframe") }); var account = { email: "", password: "", confirmPassword: "", firstName: "", lastName: "", isNewsLetterSubscribed: 0, signInFail: false, signUpFail: false, forgotPasswordFail: false, init: function () { }, validate: function () { $("#signin-box input").removeClass("error"); $("#signInError").css("visibility", "visible"); if (account.email == "" || account.email == "example@example.com") { $("#signin_email").addClass("error"); $("#signInError").html("Please enter your email address"); _gaq.push(["_trackEvent", "SignIn", "SignIn Form", "Failure"]); return false } if (!isValidEmailAddress(account.email) || (account.email != $("#signin_email").val())) { $("#signin_email").addClass("error"); $("#signInError").html("Please enter a valid email"); _gaq.push(["_trackEvent", "SignIn", "SignIn Form", "Failure"]); return false } if (account.password == "" || account.password == "Enter Password") { $("#signin_password1").addClass("error"); $("#signInError").html("Please enter a password"); _gaq.push(["_trackEvent", "SignIn", "SignIn Form", "Failure"]); return false } $("#signInError").css("visibility", "hidden"); return true }, signIn: function () { account.email = $.trim($("#signin_email").val()); account.password = $.trim($("#signin_password").val()); var a = $('input[name="YII_CSRF_TOKEN"]').val(); if (account.validate()) { $("#signin-btn").attr("disabled", true); $("#signin-box > .lodder-img").show(); $("#signin-box > .fadeInBox").addClass("opacity-7"); $("#signin_form").submit(); return false } }, signUpValidate: function () { $("#signup-box input").removeClass("error"); $("#signUpError").css("visibility", "visible"); if (account.firstName == "" || account.firstName == "First name") { $("#signup_fname").addClass("error"); $("#signUpError").html("Please enter your first name"); _gaq.push(["_trackEvent", "SignUp", "Signup Form", "Failure"]); return false } if (!isValidName(account.firstName)) { $("#signup_fname").addClass("error"); $("#signUpError").html("Invalid first name"); _gaq.push(["_trackEvent", "SignUp", "Signup Form", "Failure"]); return false } if (account.lastName == "" || account.lastName == "Last name") { $("#signup_lname").addClass("error"); $("#signUpError").html("Please enter your last name"); _gaq.push(["_trackEvent", "SignUp", "Signup Form", "Failure"]); return false } if (account.firstName.length < 3) { $("#signup_fname").addClass("error"); $("#signUpError").html("Please enter your complete first name (no initials please!)"); _gaq.push(["_trackEvent", "SignUp", "Signup Form", "Failure"]); return false } if (account.lastName.length < 3) { $("#signup_lname").addClass("error"); $("#signUpError").html("Please enter your complete last name (or all initials please!)"); _gaq.push(["_trackEvent", "SignUp", "Signup Form", "Failure"]); return false } if (account.email == "" || account.email == "example@example.com") { $("#signup_email").addClass("error"); $("#signUpError").html("Please enter your email address"); _gaq.push(["_trackEvent", "SignUp", "Signup Form", "Failure"]); return false } if (!isValidEmailAddress(account.email)) { $("#signup_email").addClass("error"); $("#signUpError").html("Please enter a valid email"); _gaq.push(["_trackEvent", "SignUp", "Signup Form", "Failure"]); return false } if (account.password == "" || account.password == "Enter Password") { $("#signup_password").addClass("error"); $("#signUpError").html("Please enter a password"); _gaq.push(["_trackEvent", "SignUp", "Signup Form", "Failure"]); return false } if (account.password.length < 6) { $("#signup_password").addClass("error"); $("#signUpError").html("Your password should be at least 6 characters long"); _gaq.push(["_trackEvent", "SignUp", "Signup Form", "Failure"]); return false } if (account.confirmPassword == "" || account.confirmPassword == "Confirm Password") { $("#signup_cofirm_password").addClass("error"); $("#signUpError").html("Please enter confirm password"); _gaq.push(["_trackEvent", "SignUp", "Signup Form", "Failure"]); return false } if (account.password != account.confirmPassword) { $("#signup_password").addClass("error"); $("#signup_confirm_password").addClass("error"); $("#signUpError").html("Passwords do not match"); _gaq.push(["_trackEvent", "SignUp", "Signup Form", "Failure"]); return false } if (!$('input[name="gender"]').is(":checked")) { $("#signUpError").html("Please indicate your gender"); _gaq.push(["_trackEvent", "SignUp", "Signup Form", "Failure"]); return false } if (!$('input[id="signup_newsletter"]').is(":checked")) { account.isNewsLetterSubscribed = 1 } $("#signUpError").css("visibility", "hidden"); return true }, signUp: function () { account.email = $.trim($("#signup_email").val()); account.password = $.trim($("#signup_password").val()); account.confirmPassword = $.trim($("#signup_confirm_password").val()); account.firstName = $.trim($("#signup_fname").val()); account.lastName = $.trim($("#signup_lname").val()); var a = $('input[name="YII_CSRF_TOKEN"]').val(); if (account.signUpValidate()) { $("#signup-btn").attr("disabled", true); $("#signup-box > .lodder-img").show(); $("#signup-box > .fadeInBox").addClass("opacity-7"); $("#signup_form").submit() } }, afterSignUp: function (a) { if (a == "~success~") { $("#thankyou_box").show(); $("#signup-box").hide(); $("#thankyou_email").html(account.email); $("#thankyou_email_form").val(account.email); _gaq.push(["_trackEvent", "SignUp", "Signup Form", "Failure"]) } else { if (a == "~failure~") { _gaq.push(["_trackEvent", "SignUp", "Signup Form", "Failure"]) } else { _gaq.push(["_trackEvent", "SignUp", "Signup Form", "Failure"]); account.signUperrors((a).split("$")) } } $("#signup-btn").attr("disabled", false); $("#signup-box > .lodder-img").hide(); $("#signup-box > .fadeInBox").removeClass("opacity-7") }, resend: function () { if ($("#thankyou_email_form").val() != "") { $("#thankyou_box > .lodder-img").show(); $("#thankyou_box > .fadeInBox").addClass("opacity-7"); $("#resend_form").submit() } account.email = $.trim($("#signup_email").val()) }, afterResend: function (a) { $("#thankyou_box > .lodder-img").hide(); $("#thankyou_box > .fadeInBox").removeClass("opacity-7"); $("#resentTxt").html("resent") }, afterSignIn: function (a) { if (a == "~success~") { _gaq.push(["_trackEvent", "SignIn", "SignIn Form", "Success"]); location.reload() } else { if (a == "~failure~") { _gaq.push(["_trackEvent", "SignIn", "SignIn Form", "Failure"]) } else { _gaq.push(["_trackEvent", "SignIn", "SignIn Form", "Failure"]); account.errors(a.split("$")) } } }, errors: function (a) { $("#signin-btn").attr("disabled", false); $("#signin-box > .lodder-img").hide(); $("#signin-box > .fadeInBox").removeClass("opacity-7"); if ($.inArray("password", a) != -1) { $("#signInError").html("Email and password mismatch. Please try again"); $("#signInError").css("visibility", "visible"); return false } else { if ($.inArray("is_confirmed", a) != -1) { $("#verificationEmail").html(account.email); $("#signInVerificationError").css("display", "block"); $("#signin_form").css("display", "none"); return false } } }, signUperrors: function (a) { if ($.inArray("email", a) != -1 && $.inArray("bobError", a) != -1) { if ($.inArray("recordFound", a) != -1) { $("#signUpError").html('You are already registered with us. Try <a style="text-decoration:underline;color:white;" href="javascript:void(0);" onclick="$(\'#signInLink\').click();">logging in</a>') } else { if ($.inArray("inValidHostName", a) != -1) { $("#signUpError").html("Please enter a valid email") } } } else { $("#signUpError").html("We have encountered an unforeseen error. Please try again") } $("#signUpError").css("visibility", "visible"); return false }, forgotPassword: function () { account.email = $("#forgotPassword").val(); $("#forgotPassword").removeClass("error"); if (account.email == "" || account.email == "example@example.com") { $("#forgotPassword").addClass("error"); $("#forgotPassword_error").html("Please enter your email address"); $("#forgotPassword_error").css("visibility", "visible"); return false } if (!isValidEmailAddress(account.email)) { $("#forgotPassword").addClass("error"); $("#forgotPassword_error").html("Please enter a valid email"); $("#forgotPassword_error").css("visibility", "visible"); return false } $("#forgotPassword-btn").attr("disabled", true); $("#forgotPassword_box > .lodder-img").show(); $("#forgotPassword_box > .fadeInBox").addClass("opacity-7"); $("#forgot-pwd-form").submit() }, afterForgotPassword: function (a) { $("#forgotPassword-btn").attr("disabled", false); $("#forgotPassword_box > .lodder-img").hide(); $("#forgotPassword_box > .fadeInBox").removeClass("opacity-7"); if (a == "~success~") { $("#success_email").html(account.email); $("#forgot-pwd").hide(); $(".after-forgot-pwd").show(); _gaq.push(["_trackEvent", "ForgotPassword", "Submit"]) } else { account.forgotPassworderrors((a).split("$")) } }, forgotPassworderrors: function (a) { if ($.inArray("email", a) != -1 && $.inArray("bobError", a) != -1) { $("#forgotPassword_error").html("You are not registered with us!") } else { $("#forgotPassword_error").html("Please enter a valid email") } $("#forgotPassword_error").css("visibility", "visible"); $("#forgotPassword").addClass("error"); return false }, closeBox: function () { if ($("#signup-box").css("display") != "none") { _gaq.push(["_trackEvent", "SignUp", "Signup Form", "Close"]) } else { if ($("#signin-box").css("display") != "none") { _gaq.push(["_trackEvent", "SignIn", "SignIn Form", "Close"]) } else { if ($("#forgotPassword_box").css("display") != "none") { _gaq.push(["_trackEvent", "ForgotPassword", "Close"]) } } } $("#loginWindow").remove() } }; function removeErrorMessage() { $("#login_error").hide(); $("#customer_error").hide(); $("#login_email").removeClass("signin_highlight"); $("#pwdtemp").removeClass("signin_highlight"); $("#gender").removeClass("signin_highlight"); $("#pwdtemp1").removeClass("signin_highlight"); $("#cust_email").removeClass("signin_highlight"); $("#firstname").removeClass("signin_highlight"); $("#lastname").removeClass("signin_highlight") } function togglelinks() { $(".vert-one a").hover(function () { $(".vert-one a").removeClass("current"); $(this).addClass("current") }) } function showNewCustomerForm() { $("#login_form").hide(); $("#new_customer_form").show(); $(".signin_text").html("Create your account"); $("#new_customer_form").bind("clickoutside", function (a) { if (a.target != "") { $(this).hide() } }) } function validateLogin() { var c = false; var a = $("#login_email").val(); var d = $("#password").val(); if (a == "" || a == "Email*") { $("#login_email").addClass("signin_highlight") } if (d == "") { $("#pwdtemp").addClass("signin_highlight") } if (d == "Password*") { $("#pwdtemp").addClass("signin_highlight") } if ((a == "") || (d == "") || (a == "Email*") || (d == "Password*")) { $("#login_error").show(); $("#login_error").html('<span class="sign-error"></span>All fields are mandatory'); c = false; checkempty = true } else { checkempty = false } if ((a != "Email*")) { var b = isValidEmailAddress(a); if (b == false) { $("#login_error").show(); $("#login_error").html("Invalid email"); $("#login_email").addClass("signin_highlight"); $("#pwdtemp").removeClass("signin_highlight"); c = false } else { if (checkempty == false) { c = true } } } return c } function validateCustomer() { var g = true; var b = $("#gender_male").is(":checked"); var d = $("#gender_female").is(":checked"); if ((b == false) && (d == false)) { gendercheck = false; $("#gender").addClass("signin_highlight") } if ((b == true) || (d == true)) { gendercheck = true } var a = $("#cust_email").val(); var a = $.trim(a); var f = $("#cust_password").val(); var e = $("#firstname").val(); var e = $.trim(e); var c = $("#lastname").val(); var c = $.trim(c); if (f == "") { $("#pwdtemp1").addClass("signin_highlight") } if (f == "Password*") { $("#pwdtemp1").addClass("signin_highlight") } if (a == "" || a == "Email*") { $("#cust_email").addClass("signin_highlight") } if (e == "" || e == "First Name*") { $("#firstname").addClass("signin_highlight") } if (c == "" || c == "Last Name*") { $("#lastname").addClass("signin_highlight") } if (((a == "") || (a == "Email*")) || (f == "") || ((e == "") || (e == "First Name*")) || ((c == "") || (c == "Last Name*")) || (gendercheck == false)) { $("#customer_error").show(); $("#customer_error").html('<span class="sign-error"></span>All fields are mandatory'); g = false } if (g && (a != "Email*")) { if (!isValidEmailAddress(a)) { highlightRegisterFromFields("cust_email", "Invalid email"); g = false } } if (g && (e != "First Name*")) { if (!isValidName(e)) { highlightRegisterFromFields("firstname", "Invalid first name"); g = false } } if (g && c != "Last Name*") { if (!isValidName(c)) { highlightRegisterFromFields("lastname", "Invalid last name"); g = false } } if (g && f != "Password*") { if (isValidPassword(f)) { highlightRegisterFromFields("cust_password", "Spaces are not allowed in password"); g = false } } return g } function isValidEmailAddress(b) { var a = new RegExp(/^(("[\w-\s]+")|([\w-\+]+(?:\.[\w\+]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i); return a.test(b) } function isValidName(a) { var b = new RegExp(/^[a-zA-Z]{2,50}$/); return b.test(a) } function isValidPassword(a) { return /\s/g.test(a) } function isIndianMobileNumber(b) { var a = /^[7-9][0-9]{9}$/; return a.test(b) } function highlightRegisterFromFields(a, c) { var b = { 1: "cust_email", 2: "firstname", 3: "lastname", 4: "pwdtemp1", 5: "gender", 6: "cust_password" }; $("#customer_error").show(); $("#customer_error").html(c); $.each(b, function (d, e) { (a == e) ? $("#" + e).addClass("signin_highlight") : $("#" + e).removeClass("signin_highlight") }) } function formFieldsText() { $("#login_email").bind("click focus", function () { if ($("#login_email").val() == "Email*") { $("#login_email").val(""); $("#login_email").removeClass("signin_highlight"); $("#login_email").addClass("signin_input") } }); $("#login_email").bind("contextmenu rightclick", function () { $("#login_email").addClass("signin_input1") }); $("#login_email").bind("change", function () { $("#login_email").addClass("signin_input1") }); $("#login_email").bind("keydown", function () { $("#login_email").addClass("signin_input1") }); $("#login_email").bind("blur", function () { if ($("#login_email").val() == "") { $("#login_email").removeClass("signin_input1"); $("#login_email").addClass("signin_input"); $("#login_email").val("Email*") } }); $("#cust_email").bind("click focus", function () { if ($("#cust_email").val() == "Email*") { $("#cust_email").val(""); $("#cust_email").addClass("signin_input"); $("#cust_email").removeClass("signin_highlight") } if ($("#cust_email").val() == "") { $("#cust_email").removeClass("signin_highlight") } }); $("#cust_email").bind("contextmenu rightclick", function () { $("#cust_email").addClass("signin_input1") }); $("#cust_email").bind("change", function () { $("#cust_email").addClass("signin_input1") }); $("#cust_email").bind("keydown", function () { $("#cust_email").addClass("signin_input1") }); $("#cust_email").bind("blur", function () { if ($("#cust_email").val() == "") { $("#cust_email").removeClass("signin_input1"); $("#cust_email").addClass("signin_input"); $("#cust_email").val("Email*") } }); $("#firstname").bind("click focus", function () { if ($("#firstname").val() == "First Name*") { $("#firstname").val(""); $("#firstname").addClass("signin_input"); $("#firstname").removeClass("signin_highlight") } if ($("#firstname").val() == "") { $("#firstname").removeClass("signin_highlight") } }); $("#firstname").bind("keydown", function () { $("#firstname").addClass("signin_input1") }); $("#firstname").bind("contextmenu rightclick", function () { $("#firstname").addClass("signin_input1") }); $("#firstname").bind("change", function () { $("#firstname").addClass("signin_input1") }); $("#firstname").bind("blur", function () { if ($("#firstname").val() == "") { $("#firstname").removeClass("signin_input1"); $("#firstname").addClass("signin_input"); $("#firstname").val("First Name*") } }); $("#lastname").bind("click focus", function () { if ($("#lastname").val() == "Last Name*") { $("#lastname").val(""); $("#lastname").addClass("signin_input"); $("#lastname").removeClass("signin_highlight") } if ($("#lastname").val() == "") { $("#lastname").removeClass("signin_highlight") } }); $("#lastname").bind("keydown", function () { $("#lastname").addClass("signin_input1") }); $("#lastname").bind("contextmenu rightclick", function () { $("#lastname").addClass("signin_input1") }); $("#lastname").bind("change", function () { $("#lastname").addClass("signin_input1") }); $("#lastname").bind("blur", function () { if ($("#lastname").val() == "") { $("#lastname").removeClass("signin_input1"); $("#lastname").addClass("signin_input"); $("#lastname").val("Last Name*") } }) } if ($.browser.msie == true) { window.attachEvent("onmessage", receiveMessage, false) } else { window.addEventListener("message", receiveMessage, false) } function receiveMessage(b) { var a = b.data.split("$"); if (a[0] == "signin") { a.shift(); account.afterSignIn(a.join("$")) } else { if (a[0] == "signup") { a.shift(); account.afterSignUp(a.join("$")) } else { if (a[0] == "forgotpassword") { a.shift(); account.afterForgotPassword(a.join("$")) } else { if (a[0] == "resend") { a.shift(); account.afterResend(a.join("$")) } } } } } function changeBox() { document.getElementById("pass_temp").style.display = "none"; document.getElementById("pass_org").style.display = ""; document.getElementById("password").focus(); $("#password").addClass("signin_input1"); $("#password").attr("placeholder", ""); $("#password").val(""); $("#pwdtemp").removeClass("signin_highlight") } function restoreBox() { if (document.getElementById("password").value == "") { document.getElementById("pass_temp").style.display = ""; document.getElementById("pass_org").style.display = "none"; $("#password").removeClass("signin_input1"); $("#password").addClass("signin_input") } } function changeCreatePasswordBox() { document.getElementById("pass_temp2").style.display = "none"; document.getElementById("pass_org2").style.display = ""; document.getElementById("cust_password").focus(); $("#cust_password").addClass("signin_input1"); $("#cust_password").attr("placeholder", ""); $("#cust_password").val("") } function restoreCreatePasswordBox() { $("#pwdtemp1").removeClass("signin_highlight"); if (document.getElementById("cust_password").value == "") { document.getElementById("pass_temp2").style.display = ""; document.getElementById("pass_org2").style.display = "none"; $("#cust_password").removeClass("signin_input1"); $("#cust_password").addClass("signin_input"); $("#cust_password").attr("placeholder", "Password*"); $("#cust_password").val("") } } String.prototype.valid = function (b) { var a; switch (b) { case "email": a = new RegExp(/^(("[\w-+\s]+")|([\w-+]+(?:\.[\w-+]+)*)|("[\w-+\s]+")([\w-+]+(?:\.[\w-+]+)*))(@((?:[\w-+]+\.)*\w[\w-+]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i); break; case "zipcode": a = new RegExp(/^[0-9]{5}$/); break; default: a = new RegExp(/^.+$/) } return a.test(this) }; $(document).ready(function (a) { $("#FooterNewsletter form input:button").click(onFooterNewsletterSubmit); $("#FooterNewsletter_lightbox form input:button").click(onLightboxNewsletterSubmit); $("#Newsletter_yjhd form input:button").click(onYJHDCampaignSubmit); $("#Newsletter_leadscampaign form input:button").click(onLeadscampaignNewsletterSubmit) }); function onYJHDCampaignSubmit(c) { _form = $("#Newsletter_yjhd form"); _form.find(".YJHD-ArMessage, .YJHD-SuccMessage").hide(); var e = _form.find("#newsletter-email-yjhd").val(); if (e.valid("email")) { if (c) { var d = $(c.target).attr("gender"); var b = "/newsletter/validate/"; var f = _form.find("#token_yjhd").val(); var a = b + "?YII_CSRF_TOKEN=" + f + "&email=" + e + "&gender=" + d; $.get(a, function (g) { g = $.parseJSON(g); if (g.validation) { _form.find("input:button").hide(); _form.find(".YJHD-SuccMessage").show(); _gaq.push(["_trackEvent", "YJHD_SignUp", "Signup Form", "Success"]) } else { onFooterNewsletterError(_form, g.error, "yjhd") } }) } else { _form.find("input:button").show(); return false } } else { onFooterNewsletterError(_form, "Please enter a valid email ID", "yjhd") } } function onLeadscampaignNewsletterSubmit(d) { _form = $("#Newsletter_leadscampaign form"); _form.find(".leadsCampaingErrorMessage, .leadsCampaingSuccesMessage").hide(); var f = _form.find("#newsletter-email-leadscampaign").val(); if (f.valid("email")) { if (d) { _form.find("#leadscampaingWomen").addClass("btn-disabled").removeClass("btn_s1 mouse-pointer"); _form.find("#leadscampaingMen").addClass("btn-disabled").removeClass("btn_s1  mouse-pointer"); var e = $(d.target).attr("gender"); var c = "/newsletter/validate/"; var g = _form.find("#token_leadscampaign").val(); var a = _form.find("#source_leadscampaign").val(); var b = c + "?YII_CSRF_TOKEN=" + g + "&email=" + f + "&gender=" + e + "&source=" + a; $.get(b, function (h) { h = $.parseJSON(h); if (h.validation) { _form.find(".leadsCampaingSuccesMessage").show(); _form.find("input:button").hide(); _form.find("#newsletter-email-leadscampaign").hide(); _gaq.push(["_trackEvent", "leadscampaign_signup", a, "Success", , true]) } else { onFooterNewsletterError(_form, h.error, "leadsCampaingAccountExist") } }) } else { _form.find("input:button").show(); return false } } else { onFooterNewsletterError(_form, "Please enter a valid email Id", "leadsCampaing") } return false } function onLightboxNewsletterSubmit(c) { _form = $("#FooterNewsletter_lightbox form"); _form.find(".s-success, .s-error").hide(); var e = _form.find("#newsletter-email-lightbox").val(); if (e.valid("email")) { if (c) { var d = $(c.target).attr("gender"); var b = "/newsletter/validate/"; var f = _form.find("#token_lightbox").val(); var a = b + "?YII_CSRF_TOKEN=" + f + "&email=" + e + "&gender=" + d; $.get(a, function (g) { g = $.parseJSON(g); if (g.validation) { _form.find("input:button").hide(); _form.find(".s-success").show(); _gaq.push(["_trackEvent", "Newsletter_Signup", "Signup Form", "Success", , true]); setTimeout("closeNewsletterLightbox()", 4000) } else { onFooterNewsletterError(_form, g.error, "lightbox") } }) } else { _form.find("input:button").show(); return false } } else { onFooterNewsletterError(_form, "Please enter a valid email ID", "lightbox") } return false } function onFooterNewsletterSubmit(c) { _form = $("#FooterNewsletter form"); _form.find(".s-success, .s-error").hide(); var e = _form.find("#newsletter-email").val(); if (e.valid("email")) { if (c) { var d = $(c.target).attr("gender"); var b = "/newsletter/validate/"; var f = _form.find("#token").val(); var a = b + "?YII_CSRF_TOKEN=" + f + "&email=" + e + "&gender=" + d; fireGaq([{ type: "_trackEvent", category: "Newsletter-signup", action: "HP-old", label: "For " + d}]); $.get(a, function (g) { g = $.parseJSON(g); if (g.validation) { _form.find("input:button").hide(); _form.find(".s-success").show() } else { onFooterNewsletterError(_form, g.error, "footer") } }) } else { _form.find("input:button").show(); return false } } else { onFooterNewsletterError(_form, "Please enter a valid email ID", "footer") } return false } function onFooterNewsletterError(d, b, c) { if (b) { d.find(".s-error").text(b) } d.find(".s-error").show(); if (c == "lightbox") { _gaq.push(["_trackEvent", "Newsletter_Signup", "Signup Form", "Failure", , true]) } if (c == "yjhd") { if (b) { d.find(".YJHD-ArMessage").text(b) } d.find(".YJHD-ArMessage").show(); _gaq.push(["_trackEvent", "YJHD_SignUp", "Signup Form", "Failure"]) } if (c == "leadsCampaing") { if (b) { d.find(".leadsCampaingErrorMessage").text(b) } d.find(".leadsCampaingErrorMessage").show(); d.find("input:button").show(); var a = _form.find("#source_leadscampaign").val(); _gaq.push(["_trackEvent", "leadscampaign_signup", a, "Failure", , true]) } if (c == "leadsCampaingAccountExist") { d.find(".leadsCampaingErrorMessage").show(); d.find("input:button").hide(); d.find("#newsletter-email-leadscampaign").hide(); var a = _form.find("#source_leadscampaign").val(); _gaq.push(["_trackEvent", "leadscampaign_signup", a, "Failure", , true]) } } $("#forgot_pwd").click(function () { _gaq.push(["_trackEvent", "Header", "ForgotPassword"]) }); $("#newcustomer").click(function () { _gaq.push(["_trackEvent", "Header", "StartHere"]) }); $("#login_btn").click(function () { _gaq.push(["_trackEvent", "Header", "LoginButton"]) }); $(".hdMetaLinks_new a, .fright > li > a").click(function () { var a = $(this).attr("title"); var b = $(".sel-logout").attr("title"); var c = $(".sel-login").attr("title"); if (a == "Logout") { _gaq.push(["_trackEvent", "Header", "LogOut"]) } if (a == "Login") { } if (a == "Account" && (c == "Login")) { _gaq.push(["_trackEvent", "Header", "Account"]) } if (a == "My Account" && (b == "Logout")) { _gaq.push(["_trackEvent", "Header", "MyAccount", "Click"]) } }); $(".vert-one a").click(function () { var b = $(".sel-logout").attr("title"); var a = $(this).attr("title"); if (a == "My Account" && (b == "Logout")) { _gaq.push(["_trackEvent", "Header", "MyAccount", "MyAccount"]) } if (a == "My Orders" && (b == "Logout")) { _gaq.push(["_trackEvent", "Header", "MyAccount", "MyOrders"]) } if (a == "My Wishlist" && (b == "Logout")) { _gaq.push(["_trackEvent", "Header", "MyAccount", "MyWishlist"]) } if (a == "My Vouchers" && (b == "Logout")) { _gaq.push(["_trackEvent", "Header", "MyAccount", "MyVouchers"]) } }); function addCartGaqCode(a) { if (typeof b == "undefined") { var b = b || [] } b.push(["_trackEvent", "Header", "Cart", "Status", a]) } function loadImages(e, a, c, b) { if (typeof jQuery === "undefined") { return } if (typeof b === "undefined") { b = "img" } var d = ""; switch (a) { case "class": d = "." + e; break; case "tag": d = e; break; case "id": default: d = "#" + e; break } if ($(d).length) { if ((typeof c === "undefined") || c == "") { c = "data-src" } $(d + " " + b + "[" + c + "]").each(function () { var f = $(this); if (f.attr(c)) { f.attr("src", f.attr(c)); f.removeAttr(c) } }) } } function fireGaq(c, a) { if (c instanceof Array) { paramLength = c.length; for (var b = 0; b < paramLength; b++) { _gaq.push([c[b]["type"], c[b]["category"], c[b]["action"], c[b]["label"]]) } } } function getCookie(b) { var c, a, e, d = document.cookie.split(";"); for (c = 0; c < d.length; c++) { a = d[c].substr(0, d[c].indexOf("=")); e = d[c].substr(d[c].indexOf("=") + 1); a = a.replace(/^\s+|\s+$/g, ""); if (a == b) { return unescape(e) } } } var loadDataSrcToSrc = function (a) { if (a.attr("data-src")) { a.attr("src", a.attr("data-src")); a.removeAttr("data-src") } }; $(document).ready(function () { $("ul#navigation div.drop-menu > ul.cat-main > li").hover(function () { $(this).find("img").each(function () { loadDataSrcToSrc($(this)) }) }, function () { return true }); $("ul#navigation > li").hover(function () { $(this).find("ul.cat-main li").first().find("img").each(function () { loadDataSrcToSrc($(this)) }) }, function () { return true }); $("ul#navigation > li#shop-by-brand-menu-item, ul#navigation > li#saletab, ul#navigation > li#new-arrival-menu-item").hover(function () { loadImages($(this).attr("id"), "img", "data-src") }, function () { return true }) }); $(window).load(function () { window.loaded = true; loadImages("body", "tag", "data-src-onload"); loadImages("body", "tag", "data-src-onload", "iframe") }); (function ($, c, b) { $.map("click dblclick mousemove mousedown mouseup mouseover mouseout change select submit keydown keypress keyup".split(" "), function (d) { a(d) }); a("focusin", "focus" + b); a("focusout", "blur" + b); $.addOutsideEvent = a; function a(g, e) { e = e || g + b; var d = $(), h = g + "." + e + "-special-event"; $.event.special[e] = { setup: function () { d = d.add(this); if (d.length === 1) { $(c).bind(h, f) } }, teardown: function () { d = d.not(this); if (d.length === 0) { $(c).unbind(h) } }, add: function (j) { var k = j.handler; j.handler = function (m, l) { m.target = l; k.apply(this, arguments) } } }; function f(j) { $(d).each(function () { var k = $(this); if (this !== j.target && !k.has(j.target).length) { k.triggerHandler(e, [j.target]) } }) } } })(jQuery, document, "outside"); var clickevent = false; $(document).ready(function (a) { $("#fbshare").click(function (b) { clickevent = true }); $(".print-page").click(function () { $("h1").html('<img src="//static.jabong.com/images/jabong/logo.png">'); $(".veriSignChk-right").attr("id", "verisgn"); $(".l-pageWrapper").children("a:first").attr("id", "logo_href"); $("#logo_href").removeAttr("href"); window.print(); $("h1").html(""); $("#logo_href").attr("href", "/") }) }); function fbs_click(c, a, e, d, b) { _gaq.push(["_trackSocial", "facebook", "send", c]); u = location.href; t = document.title; window.open("http://www.facebook.com/sharer.php?s=100&p[title]=" + a + "&p[summary]=" + d + "&p[url]=http%3A%2F%2Fjabong.com/" + b + "&p[images][0]=" + e, "sharer", "toolbar=0,status=0,width=626,height=350"); return false } function popupWindow() { window.open("/onecheckout/success/questionaire", "_blank", "directories=no,location=no,status=no,addressbar=no,menubar=no,toolbar=no,margin-top=128,titlebar=0,height=680, width=890,scrollbars=yes") } (function (d) { d.fn.jCarouselLite = function (e) { e = d.extend({ btnPrev: null, btnNext: null, btnGo: null, mouseWheel: false, auto: null, speed: 200, easing: null, vertical: false, circular: true, visible: 3, start: 0, scroll: 1, beforeStart: null, afterEnd: null }, e || {}); return this.each(function () { var o = false, m = e.vertical ? "top" : "left", g = e.vertical ? "height" : "width"; var f = d(this), r = d("ul", f), j = d("li", r), z = j.size(), y = e.visible; if (e.circular) { r.prepend(j.slice(z - y - 1 + 1).clone()).append(j.slice(0, y).clone()); e.start += y } var w = d("li", r), q = w.size(), A = e.start; f.css("visibility", "visible"); w.css({ overflow: "hidden", "float": e.vertical ? "none" : "left" }); r.css({ margin: "0", padding: "0", position: "relative", "list-style-type": "none", "z-index": "1" }); f.css({ overflow: "hidden", position: "relative", "z-index": "2", left: "0px" }); var l = e.vertical ? a(w) : c(w); var s = l * q; var n = l * y; w.css({ width: w.width(), height: w.height() }); r.css(g, s + "px").css(m, -(A * l)); f.css(g, n + "px"); if (e.btnPrev) { d(e.btnPrev).click(function () { return k(A - e.scroll) }) } if (e.btnNext) { d(e.btnNext).click(function () { return k(A + e.scroll) }) } if (e.btnGo) { d.each(e.btnGo, function (v, B) { d(B).click(function () { return k(e.circular ? e.visible + v : v) }) }) } if (e.mouseWheel && f.mousewheel) { f.mousewheel(function (v, B) { return B > 0 ? k(A - e.scroll) : k(A + e.scroll) }) } if (e.auto) { setInterval(function () { k(A + e.scroll) }, e.auto + e.speed) } function h() { return w.slice(A).slice(0, y) } function k(v) { if (!o) { if (e.beforeStart) { e.beforeStart.call(this, h()) } if (e.circular) { if (v <= e.start - y - 1) { r.css(m, -((q - (y * 2)) * l) + "px"); A = v == e.start - y - 1 ? q - (y * 2) - 1 : q - (y * 2) - e.scroll } else { if (v >= q - y + 1) { r.css(m, -((y) * l) + "px"); A = v == q - y + 1 ? y + 1 : y + e.scroll } else { A = v } } } else { if (v < 0 || v > q - y) { return } else { A = v } } o = true; r.animate(m == "left" ? { left: -(A * l)} : { top: -(A * l) }, e.speed, e.easing, function () { if (e.afterEnd) { e.afterEnd.call(this, h()) } o = false }); if (!e.circular) { d(e.btnPrev + "," + e.btnNext).removeClass("disabled"); d((A - e.scroll < 0 && e.btnPrev) || (A + e.scroll > q - y && e.btnNext) || []).addClass("disabled") } } return false } }) }; function b(e, f) { return parseInt(d.css(e[0], f)) || 0 } function c(e) { return e[0].offsetWidth + b(e, "marginLeft") + b(e, "marginRight") } function a(e) { return e[0].offsetHeight + b(e, "marginTop") + b(e, "marginBottom") } })(jQuery); var Rocket = Rocket || {}; Rocket.SizeChart = (function (a) { return { rows: {}, columns: {}, mainColumn: null, preparePopup: function (f) { var b = true, g = a("#sizeChart"), d = undefined, e = function () { g.fadeOut(); if (f) { a("#quickviewWindow").fadeIn(); document.onkeyup = d } }, c = function () { if (f) { a("#quickviewWindow").fadeOut() } d = document.onkeyup; document.onkeyup = function (j) { if ("undefined" == typeof (j)) { j = event } if (27 == j.keyCode) { e() } }; if (b) { b = false; var h = a("#sizeChartDialogClose"); a([g[0], h[0]]).click(e); a(g).find(".sct-Container").on("click", function (j) { j.stopPropagation() }); g.insertAfter(a("#page")); h.attr("title", "Close") } g.fadeIn() }; a("#sszef").click(c) }, getMainColumn: function () { if (this.columns[0] !== undefined) { return this.columns[0] } return null }, getRowBySize: function (d) { var b = this.getMainColumn(), e = this.rows.length; for (var c = 0; c < e; c++) { if (typeof this.rows[c][b] != undefined && this.rows[c][b] == d) { return this.rows[c] } } return null }, getSizeCookie: function (c) { var d, b, f, e = document.cookie.split(";"); for (d = 0; d < e.length; d++) { b = e[d].substr(0, e[d].indexOf("=")); f = e[d].substr(e[d].indexOf("=") + 1); b = b.replace(/^\s+|\s+$/g, ""); if (b == c) { return unescape(f) } } }, openSizechartConversionPopUp: function (e) { var h = a.trim(e.html()), d = this.getRowBySize(h), j = a("#sizeConversionPopUp"), g = e.position(); if (d === null || !this.conversionHoverActive) { return } var f = e.closest(".box").height(), b = f - g.top; j.css({ bottom: (b + 11), left: (g.left - 52) }); var k = this.sizeOnMouseHoverOption; showColumns = new Array(); for (var c = 0; c < k.length; c++) { if (k[c] - 1 < this.columns.length) { showColumns.push(this.columns[parseInt(k[c]) - 1]) } } genHtml = this.createDivForSizes(showColumns, d); if (genHtml.length != 0) { a(".sizeConversionPopUpContent").html(genHtml); j.show() } }, createDivForSizes: function (d, c) { var b = ""; a.each(d, function (e, f) { b += '<div class="sizeConversionColumnName">' + f + '</div><div class="sizeConversionValue">' + c[f] + "</div></br>" }); return b } } })(jQuery); $(document).on({ mouseenter: function (a) { Rocket.SizeChart.openSizechartConversionPopUp($(this)) }, mouseleave: function (a) { $("#sizeConversionPopUp").hide() } }, "#listProductSizes li"); var catalogCustomFilters = { priceSliderOpts: { min: 0, max: 1000, values: [100, 200], timeoutInterval: 2000 }, priceSliderCache: { slider: null, price_from: null, price_to: null, timeoutId: null }, getUrlParam: function (b) { b = b.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]"); var a = "[\\?&]" + b + "=([^&#]*)"; var d = new RegExp(a); var c = d.exec(window.location.search); if (c == null) { return null } else { return decodeURIComponent(c[1].replace(/\+/g, " ")) } }, setUrlParams: function (f) { var e = window.location.search, d = new Array(); if (e.length > 0) { d = e.split("&"); d[0] = d[0].replace("?", ""); for (idx in d) { var b = d[idx].split("="), c = b[0], a = b[1]; d[idx] = c + "=" + a; if (f[c] != undefined) { d[idx] = c + "=" + f[c]; delete f[c] } } } for (name in f) { d.push(name + "=" + f[name]) } window.location.href = window.location.protocol + "//" + window.location.host + window.location.pathname + "?" + d.join("&") }, priceSliderSubmit: function () { var b = $(catalogCustomFilters.priceSliderCache.price_from).val() + "-" + $(catalogCustomFilters.priceSliderCache.price_to).val(), c = catalogCustomFilters.getUrlParam("forder"), a = new Array(); if (c != null) { c = c.split("--"); for (idx in c) { if (c[idx] != "price") { a.push(c[idx]) } } } a.push("price"); catalog.loadProducts("price", b, "single") }, priceSliderValidateInputs: function () { var e = $(this.priceSliderCache.price_from).val(); var a = $(this.priceSliderCache.price_to).val(); var d = parseInt(e); if (isNaN(d)) { d = catalogCustomFilters.priceSliderOpts.min } var c = parseInt(a); if (isNaN(c)) { c = catalogCustomFilters.priceSliderOpts.max } if (c < d) { var b = c; c = d; d = b; $(this.priceSliderCache.price_from).val(d); $(this.priceSliderCache.price_to).val(c) } if (d < catalogCustomFilters.priceSliderOpts.min) { d = catalogCustomFilters.priceSliderOpts.min } if (c > catalogCustomFilters.priceSliderOpts.max) { c = catalogCustomFilters.priceSliderOpts.max } if (e != d) { $(this.priceSliderCache.price_from).val(d) } if (c != a) { $(this.priceSliderCache.price_to).val(c) } $(catalogCustomFilters.priceSliderCache.slider).slider("values", 0, d); $(catalogCustomFilters.priceSliderCache.slider).slider("values", 1, c) }, priceSliderInit: function () { catalogCustomFilters.priceSliderCache.slider = $(".customFiltersPriceSlider"); catalogCustomFilters.priceSliderCache.price_from = $("div.catalogPriceSlider div.sliderInput input[name=price_from]"); catalogCustomFilters.priceSliderCache.price_to = $("div.catalogPriceSlider div.sliderInput input[name=price_to]"); if (catalogCustomFilters.priceSliderCache.slider.attr("disabled") != "disabled") { jQuery(catalogCustomFilters.priceSliderCache.slider).slider({ range: true, min: catalogCustomFilters.priceSliderOpts.min, max: catalogCustomFilters.priceSliderOpts.max, values: catalogCustomFilters.priceSliderOpts.values, start: function (a, b) { if (catalogCustomFilters.priceSliderCache.timeoutId !== null) { clearTimeout(catalogCustomFilters.priceSliderCache.timeoutId) } }, stop: function (a, b) { catalogCustomFilters.priceSliderCache.timeoutId = setTimeout(function () { catalogCustomFilters.gaCodeTrackOnSlider() }, catalogCustomFilters.priceSliderOpts.timeoutInterval) }, slide: function (b, c) { var a = $(this); catalogCustomFilters.priceSliderCache.slider.each(function (d, e) { if (e != a) { $(e).slider("values", 0, c.values[0]); $(e).slider("values", 1, c.values[1]) } }); $(catalogCustomFilters.priceSliderCache.price_from).val(c.values[0]); $(catalogCustomFilters.priceSliderCache.price_to).val(c.values[1]) } }) } $(catalogCustomFilters.priceSliderCache.price_from).on("blur", function (a) { $(catalogCustomFilters.priceSliderCache.price_from.val($(this).val())); catalogCustomFilters.priceSliderValidateInputs() }); $(catalogCustomFilters.priceSliderCache.price_to).on("blur", function (a) { $(catalogCustomFilters.priceSliderCache.price_to.val($(this).val())); catalogCustomFilters.priceSliderValidateInputs() }); $("form.catalogPriceSliderFilterForm").live("submit", function (b) { b.preventDefault(); var a = $(this); $(catalogCustomFilters.priceSliderCache.price_from.val($(a).find("input[name=price_from]").val())); $(catalogCustomFilters.priceSliderCache.price_to.val($(a).find("input[name=price_to]").val())); catalogCustomFilters.priceSliderValidateInputs(); catalogCustomFilters.gaCodeTrackOnSlider() }) }, colorInit: function () { $(document).click(function (a) { if (!$(a.target).hasClass("secondaryFilterSelectOverlay")) { $("#colorFilterTopForSecondary").hide() } }); $("#secondaryFilterSelectOverlay").click(function () { $("#colorFilterTopForSecondary").toggle() }) }, brandInit: function () { $(".customFiltersBrand").change(function (a) { window.location.href = $(this).val() }) }, sizeInit: function () { $(".customFiltersSize").change(function (a) { catalogCustomFilters.setUrlParams({ size: $(this).val() }) }) }, gaCodeTrackOnSlider: function () { _gaq.push(["_trackEvent", "leftfilter", "price", "" + $(".categoryMenu [name='price_from']").val() + "-" + $(".categoryMenu [name='price_to']").val() + ""]); setTimeout(function () { catalogCustomFilters.priceSliderSubmit() }, 500) } }; (function (a) { a.extend(a.fn, { swapClass: function (e, d) { var c = this.filter("." + e); this.filter("." + d).removeClass(d).addClass(e); c.removeClass(e).addClass(d); return this }, replaceClass: function (d, c) { return this.filter("." + d).removeClass(d).addClass(c).end() }, hoverClass: function (c) { c = c || "hover"; return this.hover(function () { a(this).addClass(c) }, function () { a(this).removeClass(c) }) }, heightToggle: function (c, d) { c ? this.animate({ height: "toggle" }, c, d) : this.each(function () { jQuery(this)[jQuery(this).is(":hidden") ? "show" : "hide"](); if (d) { d.apply(this, arguments) } }) }, heightHide: function (c, d) { if (c) { this.animate({ height: "hide" }, c, d) } else { this.hide(); if (d) { this.each(d) } } }, prepareBranches: function (c) { if (!c.prerendered) { this.filter(":last-child:not(ul)").addClass(b.last); this.filter((c.collapsed ? "" : "." + b.closed) + ":not(." + b.open + ")").find(">ul").hide() } return this.filter(":has(>ul)") }, applyClasses: function (d, e) { this.filter(":has(>ul):not(:has(>a))").find(">span").unbind("click.treeview").bind("click.treeview", function (f) { if (this == f.target) { e.apply(a(this).next()) } }).add(a("a", this)).hoverClass(); if (!d.prerendered) { this.filter(":has(>ul:hidden)").addClass(b.expandable).replaceClass(b.last, b.lastExpandable); this.not(":has(>ul:hidden)").addClass(b.collapsable).replaceClass(b.last, b.lastCollapsable); var c = this.find("div." + b.hitarea); if (!c.length) { c = this.prepend('<div class="' + b.hitarea + '"/>').find("div." + b.hitarea) } c.removeClass().addClass(b.hitarea).each(function () { var f = ""; a.each(a(this).parent().attr("class").split(" "), function () { f += this + "-hitarea " }); a(this).addClass(f) }) } this.find("div." + b.hitarea).click(e) }, treeview: function (d) { d = a.extend({ cookieId: "treeview" }, d); if (d.toggle) { var k = d.toggle; d.toggle = function () { return k.apply(a(this).parent()[0], arguments) } } function c(n, q) { function o(r) { return function () { f.apply(a("div." + b.hitarea, n).filter(function () { return r ? a(this).parent("." + r).length : true })); return false } } a("a:eq(0)", q).click(o(b.collapsable)); a("a:eq(1)", q).click(o(b.expandable)); a("a:eq(2)", q).click(o()) } function f() { a(this).parent().find(">.hitarea").swapClass(b.collapsableHitarea, b.expandableHitarea).swapClass(b.lastCollapsableHitarea, b.lastExpandableHitarea).end().swapClass(b.collapsable, b.expandable).swapClass(b.lastCollapsable, b.lastExpandable).find(">ul").heightToggle(d.animated, d.toggle); if (d.unique) { a(this).parent().siblings().find(">.hitarea").replaceClass(b.collapsableHitarea, b.expandableHitarea).replaceClass(b.lastCollapsableHitarea, b.lastExpandableHitarea).end().replaceClass(b.collapsable, b.expandable).replaceClass(b.lastCollapsable, b.lastExpandable).find(">ul").heightHide(d.animated, d.toggle) } } this.data("toggler", f); function m() { function o(q) { return q ? 1 : 0 } var n = []; l.each(function (q, r) { n[q] = a(r).is(":has(>ul:visible)") ? 1 : 0 }); a.cookie(d.cookieId, n.join(""), d.cookieOptions) } function e() { var n = a.cookie(d.cookieId); if (n) { var o = n.split(""); l.each(function (q, r) { a(r).find(">ul")[parseInt(o[q]) ? "show" : "hide"]() }) } } this.addClass("treeview"); var l = this.find("li").prepareBranches(d); switch (d.persist) { case "cookie": var j = d.toggle; d.toggle = function () { m(); if (j) { j.apply(this, arguments) } }; e(); break; case "location": var g = this.find("a").filter(function () { return this.href.toLowerCase() == location.href.toLowerCase() }); if (g.length) { var h = g.addClass("selected").parents("ul, li").add(g.next()).show(); if (d.prerendered) { h.filter("li").swapClass(b.collapsable, b.expandable).swapClass(b.lastCollapsable, b.lastExpandable).find(">.hitarea").swapClass(b.collapsableHitarea, b.expandableHitarea).swapClass(b.lastCollapsableHitarea, b.lastExpandableHitarea) } } break } l.applyClasses(d, f); if (d.control) { c(this, d.control); a(d.control).show() } return this } }); a.treeview = {}; var b = (a.treeview.classes = { open: "open", closed: "closed", expandable: "expandable", expandableHitarea: "expandable-hitarea", lastExpandableHitarea: "lastExpandable-hitarea", collapsable: "collapsable", collapsableHitarea: "collapsable-hitarea", lastCollapsableHitarea: "lastCollapsable-hitarea", lastCollapsable: "lastCollapsable", lastExpandable: "lastExpandable", last: "last", hitarea: "hitarea" }) })(jQuery); var Rocket = Rocket || {}; Rocket.QuickList = (function (g) { g.fn.visible = function (H) { this.stop(); return this.css({ opacity: 0, visibility: "visible" }).animate({ opacity: 1 }, H) }; g.fn.invisible = function (H) { this.stop(); return this.css({ opacity: 1, visibility: "hidden" }).animate({ opacity: 0 }, H) }; var d = false, w = false, y = false, e = {}, o = {}, A = {}, F = 400, b = {}; self: this; addToCartClicked: false; var k = function () { if (!e.elements) { e.elements = { tab: g("#ql_Tab"), tabTitle: g("#ql_TabTitle"), display: g("#ql_Display"), counter: g("#ql_Counter"), deleteAll: g("#ql_DeleteAll"), toDetails: g("#ql_ToDetails"), list: g("#ql_List"), loading: g("#ql_LoadingWrong"), headline: g("#ql_ShortlistHeadline"), emptyText: g("#ql_EmptyText")} } return e.elements }, C = function (H) { if (typeof H !== "object") { return false } for (var I in H) { if (typeof H[I] !== "boolean") { return false } } return true }, l = function (K, L, H) { e.requests = e.requests || {}; if (!e.requests[K]) { var I = location.protocol + "//" + location.host + "/quicklist/" + K, J = { type: "get", dataType: (K === "insert") ? "html" : "json" }; if (L || H) { e.requests[K] = function (M, N) { M = M || 0; N = N || true; J.url = I + "?sku=" + M + "&simpleSku=" + N; return J } } else { J.url = I; e.requests[K] = J } } return (L || H) ? e.requests[K](L, H) : e.requests[K] }, E = function () { if (o.length >= _maxSkuLimit && g("#loginCheckForShortlist").val() == 0) { k().counter.html(_maxSkuLimit) } else { k().counter.html(o.length) } return o.length }, D = function (H) { var I = E(), J = k(); var H = H || ""; if (I === 0) { J.toDetails.fadeOut("fast"); J.deleteAll.fadeOut("fast"); if (!H) { setTimeout(function () { J.emptyText.visible(300) }, 300) } else { J.emptyText.invisible() } } else { J.toDetails.fadeIn("fast"); J.deleteAll.fadeIn("fast"); J.emptyText.invisible(300) } }, j = function () { if (y) { clearTimeout(y) } y = false }, n = function (O, K, N, M) { K = K || ""; var L = O.split("-"); var H = g("#selectedSku").val() || ""; if (L.length == 2) { H = O; O = L[0] } if (g.inArray(O, o) === -1 && G("insert", O)) { var J = k(), I = o.length; if (I) { J.emptyText.invisible(); J.loading.fadeIn("fast") } if (!w || y) { s("insert"); J.tab.one("mouseover", j); y = setTimeout(a, 2000) } g.ajax(l("insert", O, H)).done(function (P) { var R = g(P); if (R.hasClass("ql_Login")) { if (I) { J.loading.stop(); J.loading.hide() } D(true); g("#ql_List .ql_Login").remove(); R.hide(); R.prependTo("#ql_List"); R.fadeIn("slow"); r() } else { if (R.hasClass("ql_ListElement")) { if (g.inArray(O, o) === -1) { if (o.length >= (_maxSkuLimit + _extraSkuLimit) && g("#loginCheckForShortlist").val() == 0) { var S = o.pop(); g("#qlle_" + S).remove(); g("#" + S + " .itm-qlInsert").removeClass("ql_doneIcon"); g("#" + S + " .itm-qlInsert div.starHrMsg").html('<span class="starHrMsgArrow">&nbsp;</span>Save for later') } o.push(O) } z("insert", O, K, M); if (I) { J.loading.stop(); J.loading.hide() } if (K != "cart" && g.inArray(O, A) !== -1) { R.addClass("ql_inCart") } g("#" + O + " .itm-qlInsert").addClass("ql_doneIcon"); g("#" + O + " .itm-qlInsert div.starHrMsg").html('<span class="starHrMsgArrow">&nbsp;</span>Saved'); D(); R.hide(); R.prependTo("#ql_List"); R.fadeIn("slow") } } B("insert", O); if (K == "cart" && N != "recomm") { setTimeout(function () { g(location).attr("href", "/cart/remove/?sku=" + H) }, 1000) } if (o.length <= (_maxSkuLimit + _extraSkuLimit) && g("#loginCheckForShortlist").val() == 0) { if (o.length >= _maxSkuLimit) { g(".extra").remove(); g('<p class="extra">').html('<div class="ql_ListElementInfo ql_inCart ql_LoginHeading"><span class="ql_ListElementBrand"> To continue adding items here, please <a href="javascript:void(0);"  title="Quicklist"   id="ql_LoginLink" onclick="javascript:Rocket.QuickList.openLoginPopup();" style="text-decoration: underline;color:#333;clear:both;">login</a></span></div>').insertBefore("#qlle_" + O); s("insert") } if (o.length < _maxSkuLimit) { g("#loginExtra").hide(); g(".extra").remove(); g('<p class="extra">').html('<div class="ql_ListElementInfo ql_inCart ql_LoginHeading"><span class="ql_ListElementBrand">Please <a href="javascript:void(0);"  title="Quicklist"   id="ql_LoginLink" onclick="javascript:Rocket.QuickList.openLoginPopup();" style="text-decoration: underline;color:#333;clear:both;">login</a> to help us remember your items</span></div>').insertBefore("#qlle_" + O) } var Q = {}; if (o.length > _maxSkuLimit && o.length <= _maxSkuLimit + _extraSkuLimit && g("#loginCheckForShortlist").val() == 0) { Q = o.slice(_maxSkuLimit, _maxSkuLimit + _extraSkuLimit); g.each(Q, function (T, U) { g("#qlle_" + U).hide() }) } r() } }) } }, v = function (L, J) { var H = J; var K = ""; if (H == true && g("#ql_select" + L).val() != "unselected") { var I = "&& $('#ql_select' + sku).val() != 'unselected'" } else { if (H == true && g("#ql_select" + L).val() == "unselected") { return } else { I = "" } } if (!d || g.inArray(L, o) !== -1 + I) { g.ajax(l("erase", L)).done(function (Q) { if (!d || typeof Q.erased !== "boolean" || !Q.erased) { return } var P = Q.list; var O = {}; if (P.length >= _maxSkuLimit && g("#loginCheckForShortlist").val() == 0) { O = P.slice(0, _extraSkuLimit) } var M = P[0]; if (o.length <= (_maxSkuLimit + _extraSkuLimit) && g("#loginCheckForShortlist").val() == 0 && M != "undefined") { if (P.length >= _maxSkuLimit) { g(".extra").remove(); g('<p class="extra">').html('<div class="ql_ListElementInfo ql_inCart ql_LoginHeading"><span class="ql_ListElementBrand"> To continue adding items here, please <a href="javascript:void(0);"  title="Quicklist"   id="ql_LoginLink" onclick="javascript:Rocket.QuickList.openLoginPopup();" style="text-decoration: underline;color:#333;clear:both;">login</a></span></div>').insertBefore("#qlle_" + M) } if (P.length < _maxSkuLimit) { g("#loginExtra").hide(); g(".extra").remove(); g('<p class="extra">').html('<div class="ql_ListElementInfo ql_inCart ql_LoginHeading"><span class="ql_ListElementBrand">Please <a href="javascript:void(0);"  title="Quicklist"   id="ql_LoginLink" onclick="javascript:Rocket.QuickList.openLoginPopup();" style="text-decoration: underline;color:#333;clear:both;">login</a> to help us remember your items</span></div>').insertBefore("#qlle_" + M) } r() } if (o.length == 1) { g(".extra").remove() } if (g.inArray(L, o) !== -1) { o.splice(g.inArray(L, o), 1) } g("#ql_List .ql_Login").remove(); z("erase", L); var N = g("#qlle_" + L); if (N.length) { f(N, "slideUp", "fast", function () { N.remove() }) } if (P.length >= _maxSkuLimit && O.length > 0 && g("#loginCheckForShortlist").val() == 0) { g.each(O, function (R, S) { g("#qlle_" + S).show(); if (g.inArray(S, o) === -1) { o.push(S) } }) } g(document).trigger("Quicklist.productRemoved", L); D() }) } }, h = function () { g(".extra").remove(); var H = k().list.find(".ql_ListElement"); if (!d || H.length > 0) { g.ajax(l("deleteAll")).done(function (J) { if (!d || typeof J !== "boolean" || !J) { return } f(H, "slideUp", "fast", function () { H.remove() }); for (var I = 0; I < o.length; I++) { g(document).trigger("Quicklist.productRemoved", o[I]) } o = []; z("deleteAll"); D(); g("#qlDetailFooter").hide() }) } }, s = function (I) { if (!d) { return } j(); var H = k(); f(H.tab, "slideDown", F); H.display.attr("title", "Hide Saved items"); H.headline.removeClass("arrowUp").addClass("arrowDown"); H.list.css("min-height", H.emptyText.height() + 30); if (I != "insert") { _gaq.push(["_trackEvent", "QuicklistPanel", "Expand"]) } w = true }, a = function () { var H = k(); f(H.tab, "slideUp", F); H.display.attr("title", "Show Saved items"); H.headline.removeClass("arrowDown").addClass("arrowUp"); w = false; y = false }, f = function (H, I, J, K) { J = (J === undefined) ? "fast" : J; K = (typeof K !== "function") ? function () { } : K; if (g.browser.msie && parseFloat(g.browser.version) < 9) { switch (I) { case "slideUp": g(H).hide(); K(); break; case "slideDown": g(H).show(); K(); break; default: break } } else { switch (I) { case "slideUp": g(H).slideUp(J, K); break; case "slideDown": g(H).slideDown(J, K); break; default: break } } }, c = function (K, I, H) { g.each(H, function (M, N) { g("#qlle_" + N).hide() }); if (K.length > 0 && K.length < _maxSkuLimit && g("#loginCheckForShortlist").val() == 0) { var L = K[0]; g(".extra").remove(); g('<p class="extra">').html('<div class="ql_ListElementInfo ql_inCart ql_LoginHeading"><span class="ql_ListElementBrand">Please <a href="javascript:void(0);"  title="Quicklist"   id="ql_LoginLink" onclick="javascript:Rocket.QuickList.openLoginPopup();" style="text-decoration: underline;color:#333;clear:both;">login</a> to help us remember your items</span></div>').insertBefore("#qlle_" + L); r() } else { if (K.length > 0 && K.length >= _maxSkuLimit && g("#loginCheckForShortlist").val() == 0) { var L = K[0]; g(".extra").remove(); g('<p class="extra">').html('<div class="ql_ListElementInfo ql_inCart ql_LoginHeading"><span class="ql_ListElementBrand"> To continue adding items here, please <a href="javascript:void(0);"  title="Quicklist"   id="ql_LoginLink" onclick="javascript:Rocket.QuickList.openLoginPopup();" style="text-decoration: underline;color:#333;clear:both;">login</a></span></div>').insertBefore("#qlle_" + L); r() } } if (d) { return } var J = k(); J.display.click(function (M) { if (w) { a(); _gaq.push(["_trackEvent", "QuicklistPanel", "Minimise"]) } else { s("load") } }); J.deleteAll.click(function (M) { h(); M.stopPropagation() }); J.tabTitle.click(function (M) { a() }); A = I; o = K; d = true }, m = function (I) { if (!self.addToCartClicked) { var H = g("select#ql_select" + I + " option:selected").val(); if (H == "unselected") { g("#sizeSelectedQuicklist" + I).show() } else { var J = "&quantity=1"; if (g("#selectedQuantity").length != 0) { J = "&quantity=" + g("#selectedQuantity").val() } else { if (g("#quantity").length != 0) { J = "&quantity=" + g("#quantity").val() } } self.addToCartClicked = true; detail.addtoviewcart(I, H, J) } } }, G = function (H, I) { if (b[H] == undefined) { b[H] = {} } if (b[H][I] == undefined) { b[H][I] = true; return true } return false }, B = function (H, I) { delete b[H][I] }, q = function () { j(); var H = k(); f(H.tab, "slideDown", F); H.display.attr("title", "Hide"); H.headline.removeClass("arrowUp").addClass("arrowDown"); H.list.css("min-height", H.emptyText.height() + 30); g.ajax(l("setExpanded/?expanded=1")); w = true }, z = function (J, L, I, K) { var J = J || "", L = L || "", I = I || ""; switch (J) { case "insert": var H = ""; switch (I) { case "catalog": H = "Add From Catalog-" + K; break; case "product": case "quickview": H = "Add From PDP-" + K; break; case "cart": H = "Add From Cart-" + K; break; case "home": H = "Add From Home-" + K; break } _gaq.push(["_trackEvent", "QuicklistPanel", H, L]); break; case "erase": _gaq.push(["_trackEvent", "QuicklistPanel", "RemoveProduct", L]); break; case "deleteAll": _gaq.push(["_trackEvent", "QuicklistPanel", "ClearAll"]); break } }, r = function () { g("#ql_LoginLink").click(function () { g("#qa-login-link").click(); return false }) }; return { insert: n, erase: v, deleteAll: h, show: s, hide: a, loadList: c, moveToCart: m, showMsg: q, openLoginPopup: r} })(jQuery); $(document).ready(function () { $("#ql_LoginLink").click(function () { $("html, body").animate({ scrollTop: 0 }, 1000); $("#login_form").show(); $("#login_email").focus(); $(".signin_text").html("Login to view your quicklist"); $("#refurl").val(""); $("#refurl2").val(""); return false }) }); (function (c) { c.mousestopDelay = 30; c.event.special.mousestop = { setup: function (d) { c(this).data("mousestop", { delay: d }).bind("mouseenter.mousestop", b).bind("mouseleave.mousestop", a) }, teardown: function () { c(this).removeData("mousestop").unbind(".mousestop") } }; function b() { if (typeof this.timeout === "undefined") { this.timeout = null } var e = c(this), f = e.data("mousestop"), d = f.delay || c.mousestopDelay; e.bind("mousemove.mousestop", function () { clearTimeout(this.timeout); this.timeout = setTimeout(function () { e.trigger("mousestop") }, d) }) } function a() { var d = c(this); d.unbind("mousemove.mousestop"); clearTimeout(this.timeout) } c.fn.mousestop = function (e, d) { if (d == null) { d = e; e = null } return arguments.length > 0 ? this.bind("mousestop", e, d) : this.trigger("mousestop") } })(jQuery); (function (a) { var b = function (c) { return Math.max(document.documentElement["client" + c], document.documentElement["scroll" + c], document.body["scroll" + c]) }; a.fn.trueWidth = function () { return ((a.browser.msie && this.get()[0].nodeType === 9) ? b("Width") : this.width()) }; a.fn.trueHeight = function () { return ((a.browser.msie && this.get()[0].nodeType === 9) ? b("Height") : this.height()) } })(jQuery); (function (a) { a.fn.ellipsis = function (c) { var b = { text: "...", moreText: "" }; a.extend(b, c); return this.each(function () { var e = a(this); if (e.css("overflow") == "hidden") { var f = e.html(); var d = a(this.cloneNode(true)).hide().css("position", "absolute").css("overflow", "visible").width("auto").height(e.height()); e.after(d); while (f.length > 0 && d.width() > (3 * e.width() - 60)) { f = f.substr(0, f.length - 1); d.html(f + b.text + b.moreText) } e.html(d.html()); d.remove() } }) } })(jQuery); var Rocket = Rocket || {}; Rocket.zoomSettings = { imgBig_width: 0, imgBig_height: 0, Area: null }; (function () { $(document).ready(function () { var n = "", m = "", k = ""; if ($.browser.msie) { var l = parseInt($.browser.version, 10); n = (l === 7); m = (l === 8); k = (l === 9) } var d = $("#productBigImagesList  li.selected img"); var g = d.width() || 357; var e = d.height() || 515; var h = $("#productSmallImagesList li.selected").data("image-big"); if (h == undefined) { return } var f = new Image; f.onload = function () { if (f.width) { Rocket.zoomSettings.imgBig_width = f.width; Rocket.zoomSettings.imgBig_height = f.height } }; f.src = h; var j = $("#magnifier_small").outerWidth() / 2; var o = $("#magnifier_small").outerHeight() / 2; var c = d.position(); Rocket.zoomSettings.Area = { area_X_min: c.left, area_X_max: c.left + g - j * 2, area_Y_min: c.top, area_Y_max: c.top + e - o * 2, offset: d.offset(), padding: 5 }; $(window).resize(function () { var r = $("#productBigImagesList"); var q = r.position(); Rocket.zoomSettings.Area = { area_X_min: q.left, area_X_max: q.left + g - j * 2, area_Y_min: q.top, area_Y_max: q.top + e - o * 2, offset: r.offset(), padding: Rocket.zoomSettings.Area.padding} }); $("#prdZoomExpanded").click(function (q) { switch (q.target.id) { case "prdZoomExpanded": Rocket.prdFullImg.hide(); break; case "dialogClose": q.preventDefault(); Rocket.prdFullImg.hide(); break } }); $(document).keyup(function (q) { if (27 == q.keyCode) { Rocket.prdFullImg.hide() } }); $("[id^='prdZoomImage_']").mouseenter(function () { var q = $("#productSmallImagesList li.selected img"); if (q.attr("src").indexOf("placeholder") == -1) { b() } if (!m && !k) { Rocket.zoomSettings.Area.padding = 0 } }).mouseleave(function () { a() }).mousemove(function (s) { var r = s.pageX - j - Rocket.zoomSettings.Area.offset.left; var q = s.pageY + o - Rocket.zoomSettings.Area.offset.top + 10; r = r + (Rocket.zoomSettings.Area.padding * 3) / 2; q = q + (Rocket.zoomSettings.Area.padding * 3) / 2; if (r < Rocket.zoomSettings.Area.area_X_min) { r = Rocket.zoomSettings.Area.area_X_min } else { if (r > Rocket.zoomSettings.Area.area_X_max) { r = Rocket.zoomSettings.Area.area_X_max } } if (q < Rocket.zoomSettings.Area.area_Y_min) { q = Rocket.zoomSettings.Area.area_Y_min } else { if (q > Rocket.zoomSettings.Area.area_Y_max) { q = Rocket.zoomSettings.Area.area_Y_max } } if (n || m) { r -= 12; q = (q < 480) ? q - 15 : 480 } $("#magnifier_small").css("top", q).css("left", r) }).click(function (r) { var q = $("#productSmallImagesList li.selected img"); var v = $("#productSmallImagesList li.selected").index(); if (q.attr("src").indexOf("placeholder") == -1) { r.stopPropagation(); var s = $("#productSmallImagesList li.selected").data("image-big"); s = s.replace(/[\"\'\(\)]|url/g, ""); $("#prdZoomExpanded").insertAfter($("#page")); $(".zoom-imgslider").css("left", -(762 * v)); $("ul.zoom-thumb > li").removeClass("selected"); $("ul.zoom-thumb").find("li").eq(v).addClass("selected"); $("ul.zoom-imgslider > li").removeClass("selected"); $("ul.zoom-imgslider").find("li").eq(v).addClass("selected"); Rocket.prdFullImg.show(r) } }) }); function b() { $("#magnifier_small").show() } function a() { $("#magnifier_small").hide() } })(); var Rocket = Rocket || {}; Rocket.image = function () { return { initSetImage: function () { $("#prdMedia").on("error", '[data-js-function="setPlaceholderOnError"]', { that: this }, Rocket.image.setPlaceholderOnErrorCallback) }, setPlaceholderOnErrorCallback: function (a) { $this = $(this); $this.parent().addClass("placeholder"); $this.attr("src", $this.data("placeholder")) } } } (); Rocket.prdFullImg = { numThumbnails: 2, show: function (a) { window.scrollTo(0, 0); $("html").css("overflow", "hidden"); $("#prdZoomExpanded").fadeIn(); this.initThumbnailsScroll(); this.draw(a); $(".prdZoomExpandedImage").css("cursor", ""); $(window).resize($.proxy(function (b) { this.draw() }, this)) }, hide: function () { $("#prdZoomExpanded").fadeOut(); $(".prdZoomExpandedImage").css("cursor", "default"); $("html").css("overflow", "auto") }, draw: function (b) { var a = $(window).height() > Rocket.zoomSettings.imgBig_height ? Rocket.zoomSettings.imgBig_height : $(window).height(); $("#prdZoomExpanded").css("height", a); $("#prdZoomExpanded .container").css("height", a - 20); $(".prdZoomExpandedImage, .prdZoomExpandedwrapper").css({ height: a - 57, width: Rocket.zoomSettings.imgBig_width, backgroundPosition: "0px 0px" }); if (Rocket.zoomSettings.imgBig_height > $(window).height()) { $(".prdZoomExpandedImage").unbind("mousemove").mousemove(this.moveImage); this.moveImage(b) } }, moveImage: function (a) { if (typeof a == "undefined") { return } var b = ((a.pageY - 35) * ($(".prdZoomExpandedImage").height() - Rocket.zoomSettings.imgBig_height)) / ($(".prdZoomExpandedImage").height()); $(".prdZoomExpandedImage").css("backgroundPosition", "0px " + b + "px") }, changeBigImg: function (a) { a.preventDefault(); $(".prdZoomExpandedImage").css("background-image", "url(" + $(a.currentTarget).attr("data-image-big") + ")").css("backgroundPosition", "0px 0px"); $("#prdZoomExpanded ul.imageScroll li").removeClass("selected"); $(a.currentTarget).addClass("selected"); this.moveImage(a) }, initThumbnailsScroll: function () { $("#prdZoomExpanded ul.imageScroll li").removeClass("selected").hide(); var a = $("#productSmallImagesList li.selected"); $('#prdZoomExpanded ul.imageScroll li[data-image-product="' + a.data("image-product") + '"]').addClass("selected").remove().prependTo($("#prdZoomExpanded ul.imageScroll")); $("#prdZoomExpanded ul.imageScroll li").slice(0, this.numThumbnails).show(); this.correctThumbnailsScrollArrows(); $("#backScroll, #forwardScroll").unbind("click").click($.proxy(function (b) { this.moveThumbnailsScroll($(b.currentTarget)) }, this)); $("#prdZoomExpanded ul.imageScroll li").unbind("click").click($.proxy(this.changeBigImg, this)) }, moveThumbnailsScroll: function (a) { if (a.hasClass("inactive")) { return } $("#backScroll, #forwardScroll").removeClass("inactive"); if (a.attr("id") == "backScroll") { $(".imageScroll").children(":visible").first().prev().show(); $(".imageScroll").children(":visible").last().hide() } else { $(".imageScroll").children(":visible").last().next().show(); $(".imageScroll").children(":visible").first().hide() } Rocket.prdFullImg.correctThumbnailsScrollArrows() }, correctThumbnailsScrollArrows: function () { $("#backScroll, #forwardScroll").removeClass("inactive"); if ($(".imageScroll").children().first().is(":visible")) { $("#backScroll").addClass("inactive") } if ($(".imageScroll").children().last().is(":visible")) { $("#forwardScroll").addClass("inactive") } } }; $(document).ready(function () { $(".zoom-slide-next").click(function () { var a = $("ul.zoom-imgslider > li.selected").index(); var c = $("ul.zoom-imgslider > li:last").index(); var b = 762; if (a < c) { $(".zoom-slide-prev").removeClass("inactive").addClass("hcursor"); $("ul.zoom-imgslider").animate({ left: "-=" + b }); a += 1; $("ul.zoom-imgslider").find("li").removeClass("selected"); $("ul.zoom-imgslider").find("li").eq(a).addClass("selected"); $("ul.zoom-thumb").find("li").removeClass("selected"); $("ul.zoom-thumb").find("li").eq(a).addClass("selected") } else { if (a == c) { $(".zoom-slide-prev").addClass("inactive").removeClass("hcursor"); $("ul.zoom-imgslider").animate({ left: 0 }, 900); a = 0; $("ul.zoom-imgslider").find("li").removeClass("selected"); $("ul.zoom-imgslider").find("li").eq(a).addClass("selected"); $(".zoom-slide-prev").addClass("inactive"); $("ul.zoom-thumb").find("li").removeClass("selected"); $("ul.zoom-thumb").find("li").eq(a).addClass("selected") } } }); $(".zoom-slide-prev").click(function () { var a = $("ul.zoom-imgslider > li.selected").index(); var c = $("ul.zoom-imgslider > li:last").index(); var b = 762; if (a > 0) { $("ul.zoom-imgslider").animate({ left: "+=" + b }); a -= 1; $("ul.zoom-thumb").find("li").removeClass("selected"); $("ul.zoom-thumb").find("li").eq(a).addClass("selected"); $("ul.zoom-imgslider").find("li").removeClass("selected"); $("ul.zoom-imgslider").find("li").eq(a).addClass("selected"); if (a == 0) { $(".zoom-slide-prev").addClass("inactive") } } }); $("ul.zoom-thumb").find("li").click(function () { var b = 762; var a = $("ul.zoom-imgslider > li.selected").index(); var c = $(this).index(); $("ul.zoom-imgslider").animate({ left: "-" + b * c }); var a = c; $("ul.zoom-thumb").find("li").removeClass("selected"); $("ul.zoom-thumb").find("li").eq(a).addClass("selected"); $("ul.zoom-imgslider").find("li").removeClass("selected"); $("ul.zoom-imgslider").find("li").eq(a).addClass("selected") }) }); (function ($, e, b) { var c = "hashchange", h = document, f, g = $.event.special, j = h.documentMode, d = "on" + c in e && (j === b || j > 7); function a(k) { k = k || location.href; return "#" + k.replace(/^[^#]*#?(.*)$/, "$1") } $.fn[c] = function (k) { return k ? this.bind(c, k) : this.trigger(c) }; $.fn[c].delay = 50; g[c] = $.extend(g[c], { setup: function () { if (d) { return false } $(f.start) }, teardown: function () { if (d) { return false } $(f.stop) } }); f = (function () { var k = {}, r, n = a(), l = function (s) { return s }, m = l, q = l; k.start = function () { r || o() }; k.stop = function () { r && clearTimeout(r); r = b }; function o() { var v = a(), s = q(n); if (v !== n) { m(n = v, s); $(e).trigger(c) } else { if (s !== n) { location.href = location.href.replace(/#.*/, "") + s } } r = setTimeout(o, $.fn[c].delay) } $.browser.msie && !d && (function () { var s, v; k.start = function () { if (!s) { v = $.fn[c].src; v = v && v + a(); s = $('<iframe tabindex="-1" title="empty"/>').hide().one("load", function () { v || m(a()); o() }).attr("src", v || "javascript:0").insertAfter("body")[0].contentWindow; h.onpropertychange = function () { try { if (event.propertyName === "title") { s.document.title = h.title } } catch (w) { } } } }; k.stop = l; q = function () { return a(s.location.href) }; m = function (A, w) { var z = s.document, y = $.fn[c].domain; if (A !== w) { z.title = h.title; z.open(); y && z.write('<script>document.domain="' + y + '"<\/script>'); z.close(); s.location.hash = A } } })(); return k })() })(jQuery, this); function getParammeterArray(parameters) { for (x in parameters) { if (typeof (parameters[x]) == "string") { var matchs = parameters[x].match(/\*\*(.*?)\*\*/g); for (i in matchs) { if ($.isNumeric(i) && matchs[i].indexOf("**globalConfig.") == 0) { var variable = matchs[i].substr(2, (matchs[i].length - 4)); try { var value = eval(variable); if (typeof (value) != "undefined") { parameters[x] = parameters[x].replace(matchs[i], value) } } catch (e) { console.log(matchs[i]) } } } } } return parameters } function buildQueryString(b) { var c = getParammeterArray(b); var a = ""; for (x in b) { a += "&" + x + "=" + b[x] } return a } function loadScript(a) { document.write = function (b) { $("body").append(b) }; $.getScript(a) } function readCookie(b) { var e = b + "="; var a = document.cookie.split(";"); for (var d = 0; d < a.length; d++) { var f = a[d]; while (f.charAt(0) == " ") { f = f.substring(1, f.length) } if (f.indexOf(e) == 0) { return f.substring(e.length, f.length) } } return null } function getGlobalConfigVar(variableName) { var returnVal = ""; try { returnVal = eval(variableName) } catch (e) { } return returnVal };